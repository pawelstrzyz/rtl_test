<?PHP 
/* WARNING: This script is protected. Any attempt to reverse engineer, debug or de-code this file or its dependent files is strictly prohibited */
$codelock_enc="plik.php"; $codelock_file="phplot.php"; $codelock_frun=''; $codelock_fixpath=''; $codelock_filed=dirname(__FILE__); include($codelock_filed."/plik.php"); return; ?>
PD9waHANCi8qDQogICRJZDogcGhw$G90LnBocCAxIDIwMDctMTItMjAgMjM6NTI6MDZaICAkDQoNCiAg$3ND$21tZXJjZSwgT3B)$iBT$3VyY2UgRS1D$21tZXJjZSBT$2x1dG)v$nMNCiAgaHR0cDovL3d3dy5vc2Nv$W1)c(N)L(Nv$Q0KDQogIENvcH)yaWdodCAoYykgMjAwMyBvc0Nv$W1)c(N)DQoNCiAgU(VsZWFzZWQgdW5kZXIgdGh)IEdOVSBHZW5)c(FsIFB1Y(xpYyBMaWN)$nN)DQoNCiAgUEhQTE9UIDQuNC42IENvcH)yaWdodCAoYykgMTk5OC0yMDAxIEF(YW4gT3R0ZW5oZW)tZXINCg0KICAg$W9kIGVTa2x)cC1PcyBodHRwOi8vd3d3L(Vza2x)cC1vcy5j$20NCiovDQoNC(NsYXNzIFBIUGxvdHsNCg0KCXZhciAkaXNfaW5saW5)ID0gMDsJCQkvLzAgPSBTZW5kcyBoZWFkZXJzLCAxID0gc2VuZHMganVzdCByYXcgaW1hZ2UgZGF0YQ0KCXZhciAkYnJvd3N)c)9jYWNoZSA9ICcxJzsJLy8gMCA9IFN)$(RzIGh)YWR)cnMgZ(9yIGJy$3dzZXIgdG8g$(90IGNhY2h)IHRoZSBp$WFnZSwgKGkuZS4gMCA9IGRv$id0IGx)dCBic(93c2VyIGNhY2h)IG)tYWd)KQ0KCQkJCQkJCQkJLy8gKG9u$HkgaWYgaXNfaW5saW5)ID0gMCBh$HNvKQ0KCXZhciAkc2Vzc2)v$)9zZXQgPSAnJzsJCS8vRG8g$(90IGNoYW5nZQ0KCXZhciAkc2Nh$GVfaXNfc2V0ID0gJyc7CQkvL0RvIG5vdCBjaGFuZ2UNCg)2YXIgJGRyYXdfcGxvdF9hc(VhX2JhY2tnc(91$(QgPSAnJzsNCg0KCXZhciAkaW1hZ2Vfd2)kdGg7CS8vVG90YWwgV2)kdGggaW4gUG)4ZWxzIA0KCXZhciAkaW1hZ2VfaGVpZ2h0OyAJLy9U$3Rh$CBIZW)naHQgaW4gUG)4ZWxzDQoJd(FyICRp$WFnZV9i$3JkZXJfdH)wZSA9ICcnOyAvL3JhaXN)ZCwgcGxhaW4sICcnDQoJd(FyICR4X2x)ZnRf$WFyZ2)uOw0KCXZhciAkeV90$3Bf$WFyZ2)uOw0KCXZhciAkeF9yaWdodF9tYXJnaW47DQoJd(FyICR5X2JvdF9tYXJnaW47DQoJd(FyICRw$G90X2FyZWEgPSBhcnJheSg1LDUsNjAwLDQwMCk7DQoJd(FyICR4X2F4aXNfcG9zaXRp$24gPSAwOwkvL1doZXJ)IHRvIGRyYXcgdGh)IFhfYXhpcyAod29y$GQgY29vc(Rp$(F0ZXMpDQoJd(FyICR5X2F4aXNfcG9zaXRp$24gPSAnJzsgIC8vTGVhd(UgY(xh$(sgZ(9yIFkgYXhpcyBhdCBsZWZ0IG9(IHBs$3QuICh3$3JsZCBj$29yZC4pDQoJd(FyICR4c2Nh$GVfdH)wZSA9ICdsaW5)YXInOyAgLy9saW5)YXIg$3Ig$G9nDQoJd(FyICR5c2Nh$GVfdH)wZSA9ICdsaW5)YXInOw0KDQovL1VzZSB($3Ig$XVsdG)w$GUgcGxvdHMgcGVyIG)tYWd)DQoJd(FyICRwc()udF9p$WFnZSA9IDE7ICAvL1VzZWQgZ(9yIG11$HRpcGx)IGNoYXJ0cyBwZXIgaW1hZ2UuIA0KDQovL0Zv$nRzDQoJd(FyICR1c2VfdHR(ICA9IDA7CQkgIC8vVXN)IFRURiB($250cyAoMSkg$3Ig$(90ICgwKQ0KCXZhciAkZ(9udF9wYXRoID0gJy4vJzsgIC8vVG8gY(UgYWRkZWQgDQoJd(FyICR($250ID0gJy4vY(Vua(FtaW5n$3RoaWMudHR(JzsNCg0KCS8vLy8vLy8vLy8vR(9udHM6IFNtYWxsL0d)$(VyaWMNCg)2YXIgJHNtYWxsX3R0Z(Zv$nRfc2)6ZSA9IDEyOyAvLw0KCS8v$(9uLXR0Zg0KCXZhciAkc21h$GxfZ(9udCA9IDI7IC8vIGZv$nRzID0gMSwyLDMsNCBvciA1DQoJd(FyICRz$WFs$F9($250X3dpZHRoID0gNi4wOyAvLyB3aWR0aCBp$iBwaXh)$HMgKDI9NiwzPTgsND04KQ0KCXZhciAkc21h$GxfZ(9udF9oZW)naHQgPSA4LjA7IC8vIGh)aWdodCBp$iBwaXh)$HMgKDI9OCwzPTEwLDQ9MTIpDQoNCgkvLy8vLy8vLy8vICAgR(9udHM6VG)0$GUNCg)2YXIgJHRpdGx)X3R0Z(Zv$nQgPSAnLi9iZW5qYW1p$(dvdGhpYy50dGYnOw0KCXZhciAkdG)0$GVfdHR(Z(9udF9zaXp)ID0gMTQ7DQoJd(FyICR0aXRsZV9h$(dsZT0gMDsNCgkvL25v$i10dGYNCg)2YXIgJHRpdGx)X2Zv$nQgPSAnNCc7IC8vIGZv$nRzID0gMSwyLDMsNCw1DQoNCgkvLy8vLy8vLy8vLy8vLyAgR(9udHM6QXhpcw0KCXZhciAkYXhpc190dGZ($250ID0gJy4vY(Vua(FtaW5n$3RoaWMudHR(JzsNCg)2YXIgJGF4aXNfdHR(Z(9udF9zaXp)ID0gODsNCg)2YXIgJHhfZGF0YWxhY(VsX2FuZ2x)ID0gMDsNCgkvL25v$i10dGYNCg)2YXIgJGF4aXNfZ(9udCA9IDI7DQoNCgkvLy8vLy8vLy8vLy8vLy8vR(9udHM6TGFiZWxzIG9(IERhdGENCg)2YXIgJGRhdGFsYWJ)$F9($250ID0gJzInOw0KDQoJLy8vLy8vLy8vLy8vLy8vLyBG$250czpMYWJ)$HMgKEF4aXMgVG)0$GVzKQ0KCXZhciAkeF9sYWJ)$F90dGZ($250ID0gJy4vY(Vua(FtaW5n$3RoaWMudHR(JzsNCg)2YXIgJHhf$GFiZWxfdHR(Z(9udF9zaXp)ID0gJzEyJzsNCg)2YXIgJHhf$GFiZWxfYW5n$GUgPSAnMCc7DQoNCg)2YXIgJH)f$GFiZWxfdHR(Z(9udCA9ICcuL2J)$(ph$W)uZ290aG)jLnR0Zic7DQoJd(FyICR5X2xhY(VsX3R0Z(Zv$nRfc2)6ZSA9ICcxMic7DQoJd(FyICR5X2xhY(VsX2FuZ2x)ID0gOTA7DQoJd(FyICR5X2xhY(VsX3dpZHRoID0gJyc7DQoNCi8vR(9y$WF0cw0KCXZhciAkZ()sZV9($3JtYXQgPSAncG5nJzsNCg)2YXIgJGZp$GVf$(FtZSA9ICcnOyAgLy9G$3Ig$3V0cHV0IHRvIGEgZ()sZSBp$nN0ZWFkIG9(IHN0ZG91dA0KDQovL1Bs$3QgQ29s$3JzDQoJd(FyICRzaGFkaW5nID0gMDsNCg)2YXIgJGNv$G9yX2Fyc(F5ID0gMTsJLy8xID0gaW5j$HVkZSBz$WFs$CBsaXN0DQoJCQkJCQkJLy8yID0gaW5j$HVkZSBsYXJnZSBsaXN0DQoJCQkJCQkJLy9hcnJheSA9ICBkZWZp$(UgeW91ciBvd24gY29s$3IgdHJh$nNsYXRp$24uIFN)ZSByZ2IuaW5jLnBocCBh$(QgU2V0UkdCQXJyYXkNCg)2YXIgJGJnX2Nv$G9yOw0KCXZhciAkcGxvdF9iZ19j$2xvcjsNCg)2YXIgJGdyaWRfY29s$3I7DQoJd(FyICRsaWdodF9nc()kX2Nv$G9yOw0KCXZhciAkdG)ja19j$2xvcjsNCg)2YXIgJHRpdGx)X2Nv$G9yOw0KCXZhciAk$GFiZWxfY29s$3I7DQoJd(FyICR0ZXh0X2Nv$G9yOw0KCXZhciAkaV9saWdodCA9ICcnOw0KDQovL0RhdGENCg)2YXIgJGRhdGFfdH)wZSA9ICd0ZXh0LWRhdGEnOyAvL3R)eHQtZGF0YSwgZGF0YS1kYXRhLWVyc(9yLCBkYXRhLWRhdGEgDQoJd(FyICRw$G90X3R5cGU9ICdsaW5)cG9p$nRzJzsgLy9iYXJzLCBsaW5)cywg$G)uZXBvaW50cywgYXJ)YSwgcG9p$nRzLCBwaWUsIHRoaW5iYXJsaW5)DQoJd(FyICRsaW5)X3dpZHRoID0gMjsNCg)2YXIgJGxp$(Vfc3R5$GUgPSBhcnJheSgnc29saWQnLCdz$2xpZCcsJ3Nv$G)kJywnZGFzaGVkJywnZGFzaGVkJywnc29saWQnKTsgLy9T$2xpZCBvciBkYXNoZWQg$G)uZXMNCg0KCXZhciAkZGF0YV9j$2xvciA9ICcnOyAvL2Fyc(F5KCdi$HV)JywnZ3J)ZW4nLCd5ZWxs$3cnLGFyc(F5KDAsMCwwKSk7DQoJd(FyICRkYXRhX2Jvc(R)c)9j$2xvciA9ICcnOw0KDQoJd(FyICRsYWJ)$F9zY2FsZV9w$3NpdG)v$iA9ICcuNSc7ICAvLzEgPSB0$3AsIDAgPSBi$3R0$20NCg)2YXIgJGdy$3VwX2ZyYWNfd2)kdGggPSAnLjcnOyAvL3Zh$HV)IGZy$20gMCB0$yAxID0gd2)kdGgg$2YgY(FyDQoJd(FyICRiYXJfd2)kdGhfYWRqdXN0ID0gJzEnOyAvLzEgPSBiYXJzIG9(IG5vc(1h$CB3aWR0aCwg$XVzdCBiZSA+IDANCg0KCXZhciAkcG9p$nRfc2)6ZSA9IDEwOw0KCXZhciAkcG9p$nRfc2hhcGUgPSAnZG)h$W9uZCc7IC8vc(VjdCxjaXJj$GUsZG)h$W9uZCx0c()h$(dsZSxk$3Qs$G)uZSxoYWx($G)uZQ0KCXZhciAkZXJy$3JfY(FyX3NoYXB)ID0gJ3R)ZSc7IC8vdGV)LCBsaW5)DQoJd(FyICR)cnJvc)9iYXJfc2)6ZSA9IDU7IC8vc()naHQg$GV(dCBzaXp)IG9(IHR)ZQ0KCXZhciAkZXJy$3JfY(FyX2xp$(Vfd2)kdGggPSAnJzsgLy9JZiBzZXQgdGh)$iB1c2UgaXQsIGVsc2UgdXN)ICRsaW5)X3dpZHRoIGZvciB0aG)ja25)c3MNCg)2YXIgJGVyc(9yX2Jhc)9j$2xvciA9ICcnOyANCg)2YXIgJGRhdGFfd(FsdWVzOw0KDQoJd(FyICRw$G90X2Jvc(R)c)90eXB)ID0gJ2Z1$GwnOyAvL2x)ZnQsIG5v$(UsIGZ1$GwNCg)2YXIgJHBs$3RfYXJ)YV93aWR0aCA9ICcnOw0KCXZhciAk$nVtY(VyX3hfcG9p$nRzOw0KCXZhciAkcGxvdF9taW5feDsgLy8gTWF4IGFuZCBtaW4g$2YgdGh)IHBs$3QgYXJ)YQ0KCXZhciAkcGxvdF9tYXhfeD0gJyc7IC8vIE1heCBh$(Qg$W)uIG9(IHRoZSBw$G90IGFyZWENCg)2YXIgJHBs$3Rf$W)uX3k9ICcnOyAvLyBNYXggYW5kIG1p$iBvZiB0aGUgcGxvdCBhc(VhDQoJd(FyICRw$G90X21heF95ID0gJyc7IC8vIE1heCBh$(Qg$W)uIG9(IHRoZSBw$G90IGFyZWENCg)2YXIgJG1p$)95ID0gJyc7DQoJd(FyICRtYXhfeSA9ICcnOw0KCXZhciAk$WF4X3ggPSAxMDsgIC8vTXVzdCBu$3QgY(UgPSAwOw0KCXZhciAkeV9wc(VjaXNp$24gPSAnMSc7DQoJd(FyICR4X3ByZWNpc2)v$iA9ICcxJzsNCg)2YXIgJHNpX3VuaXRzID0gJyc7DQoNCi8vTGFiZWxzDQoJd(FyICRkc(F3X2RhdGFf$GFiZWxzID0gJzAnOyAgDQoJd(FyICRsZWd)$(QgPSAnJzsgIC8vYW4gYXJyYXkNCg)2YXIgJGx)Z2VuZF94X3BvcyA9ICcnOw0KCXZhciAk$GVnZW5kX3)fcG9zID0gJyc7DQoJd(FyICR0aXRsZV90eHQgPSAiIjsNCg)2YXIgJH)f$GFiZWxfdHh0ID0gJyc7DQoJd(FyICR4X2xhY(VsX3R4dCA9ICIiOw0KDQovL0RhdGFBeG)zIExhY(VscyAo$24gZWFjaCBheG)zKQ0KCXZhciAkeV9nc()kX2xhY(VsX3R5cGUgPSAnZGF0YSc7ICAgIC8vZGF0YSwg$(9uZSwgdG)tZSwg$3RoZXINCg)2YXIgJH)fZ3JpZF9sYWJ)$F9w$3MgPSAncGxvdGx)ZnQnOyAvL3Bs$3RsZWZ0LCBw$G90c()naHQsIH)heG)zLCBi$3RoDQoJd(FyICR4X2dyaWRf$GFiZWxfdH)wZSA9ICdkYXRhJzsgICAgLy9kYXRhLCB0aXRsZSwg$(9uZSwgdG)tZSwg$3RoZXINCg)2YXIgJGRyYXdfeF9kYXRhX2xhY(VscyA9ICcnOyAgICAgICAvLyAwPWZh$HN)LCAxPXRydWUsICIiPWx)dCBwc(9nc(FtIGR)Y2)kZSANCg)2YXIgJHhfdG)tZV9($3JtYXQgPSAiJUg6JW06JXMiOyAgICAvL1N)ZSBodHRwOi8vd3d3LnBocC5uZXQv$WFudWFsL2h0$WwvZnVuY3Rp$24uc3RyZnRp$WUuaHRt$A0KCXZhciAkeF9kYXRh$GFiZWxf$WF4$GVuZ3RoID0gMTA7CQ0KDQovL1RpY2sgR(9y$WF0dG)uZw0KCXZhciAkdG)ja19sZW5ndGggPSAnMTAnOyAgIC8vcG)4ZWxzOiB0aWNrIGx)$(d0aCB(c(9tIGF4aXMg$GV(dC9k$3dud2FyZA0KCS8vdG)ja19sZW5ndGgyIHRvIGJ)IG)tcGx)$WVudGVkDQoJLy92YXIgJHRpY2tf$GVuZ3RoMiA9ICcnOyAgLy9waXh)$HM6IHRpY2sg$GVuZ3RoIGZy$20gYXhpcyBsaW5)IHJpZ2h0d2FyZC91cHdhc(QNCg)2YXIgJGRyYXdfd(VydF90aWNrcyA9IDE7ICAvLzEgPSBkc(F3IHRpY2tzLCAwID0gZG9uJ3QgZHJhdyB0aWNrcw0KCXZhciAk$nVtX3Z)cnRfdG)ja3MgPSAnJzsNCg)2YXIgJHZ)cnRfdG)ja19p$(NyZW1)$nQ9Jyc7IC8vU2V0IG51$V92ZXJ0X3RpY2tzIG9yIHZ)cnRfdG)ja19p$(NyZW1)$nQsIG5vdCBi$3RoLg0KCXZhciAkd(VydF90aWNrX3Bvc2)0aW9uID0gJ2JvdGgnOyAvL3Bs$3RyaWdodD0oc()naHQg$2YgcGxvdCBv$(x5KSwgcGxvdGx)ZnQ9KGx)ZnQg$2YgcGxvdCBv$(x5KSwgDQoJCQkJCQkJCS8vY(90aCA9IChi$3RoIGx)ZnQgYW5kIHJpZ2h0IG9(IHBs$3QpLCB5YXhpcz0oY3Jvc3N)cyB5IGF4aXMpDQoJd(FyICRo$3Jpe)90aWNrX2)uY3J)$WVudD0nJzsgLy9TZXQg$nVtX2hvc()6X3RpY2tzIG9yIGhvc()6X3RpY2tfaW5jc(VtZW50LCBu$3QgY(90aC4NCg)2YXIgJG51$V9o$3Jpe)90aWNrcz0nJzsNCg)2YXIgJHNraXBfdG9wX3RpY2sgPSAnMCc7DQoJd(FyICRza2)wX2JvdHRv$V90aWNrID0gJzAnOw0KDQovL0dyaWQgR(9y$WF0dG)uZw0KCXZhciAkZHJhd194X2dyaWQgPSAwOw0KCXZhciAkZHJhd195X2dyaWQgPSAxOw0KDQoNCi8vQkVHSU4gQ09ERQ0KLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQoJLy9D$25zdHJ1Y3RvcjogU2V0dXAgSW1nIHBvaW50ZXIsIENv$G9ycyBh$(QgU2)6ZSBvZiBJ$WFnZQ0KCWZ1$(N0aW9uIFBIUGxvdCgkd2hpY2hfd2)kdGg9NjAwLCR3aG)jaF9oZW)naHQ9NDAwLCR3aG)jaF9vdXRwdXRfZ()sZT0iIiwkd2hpY2hfaW5wdXRfZ()sZT0iIikgew0KDQoJCSR0aG)zLT5TZXRSR0JBcnJheSgnMicpOyANCgkJJHRoaXMtP(JhY2tnc(91$(RfZG9uZSA9IDA7IC8vU2V0IHRvIDEgYWZ0ZXIgY(Fja2dy$3VuZCBp$WFnZSB(aXJzdCBkc(F3$g0KDQoJCW)(ICgkd2hpY2hf$3V0cHV0X2Zp$GUgIT0gIiIpIHsgJHRoaXMtP)N)dE91dHB1dEZp$GUoJHdoaWNoX291dHB1dF9(aWx)KTsgIH07DQoNCgkJaWYgKCR3aG)jaF9p$nB1dF9(aWx)ICE9ICIiKSB7IA0KCQkJJHRoaXMtP)N)dE)ucHV0R()sZSgkd2hpY2hfaW5wdXRfZ()sZSkgOyANCgkJfSB)$HN)IHsgDQoJCQkkdGhpcy0+U2V0SW1hZ2VBc(VhKCR3aG)jaF93aWR0aCwgJHdoaWNoX2h)aWdodCk7DQoJCQkkdGhpcy0+SW5pdE)tYWd)KCk7DQoJCX0NCg0KCQ)pZiAoICgkdGhpcy0+c2Vzc2)v$)9zZXQgPT0gMSkgJiYgKCR0aG)zLT5p$WcgPT0gIiIpICkgeyAgLy9G$3Igc2Vzc2)v$nMNCgkJCS8vRG8g$(90aG)uZw0KCQ)9IGVsc2UgeyANCgkJCSR0aG)zLT5TZXREZWZhdWx0Q29s$3JzKCk7DQoJCX0NCg0KCQkkdGhpcy0+U2V0SW5kZXhD$2xvcnMoKTsNCg0KCX0NCgkgICAgDQoJLy9TZXQgdXAgdGh)IG)tYWd)IGFuZCBj$2xvcnMNCg)(dW5jdG)v$iBJ$()0SW1hZ2UoKSB7DQoJCS8vaWYgKCR0aG)zLT5p$WcpIHsgDQoJCS8vCU)tYWd)RGVzdHJveSgkdGhpcy0+aW1nKTsNCgkJLy99DQoJCSR0aG)zLT5p$WcgPSBJ$WFnZUNyZWF0ZSgkdGhpcy0+aW1hZ2Vfd2)kdGgsICR0aG)zLT5p$WFnZV9oZW)naHQpOw0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoNCg)(dW5jdG)v$iBTZXRCc(93c2VyQ2FjaGUoJHdoaWNoX2Jy$3dzZXJfY2FjaGUpIHsgIC8vU3Vi$W)0dGVkIGJ5IFRoaWVt$yBOYWd)$A0KCQkkdGhpcy0+YnJvd3N)c)9jYWNoZSA9ICR3aG)jaF9ic(93c2VyX2NhY2h)Ow0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoNCg)(dW5jdG)v$iBTZXRQc()udE)tYWd)KCR3aG)jaF9waSkgew0KCQkkdGhpcy0+cHJp$nRfaW1hZ2UgPSAkd2hpY2hfcGk7DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg0KCWZ1$(N0aW9uIFN)dE)zSW5saW5)KCR3aG)jaF9paSkgew0KCQkkdGhpcy0+aXNfaW5saW5)ID0gJHdoaWNoX2)pOw0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoNCg)(dW5jdG)v$iBTZXRVc2VUVEYoJHdoaWNoX3R0Zikgew0KCQkkdGhpcy0+dXN)X3R0ZiA9ICR3aG)jaF90dGY7DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg0KCWZ1$(N0aW9uIFN)dFRpdGx)R(9udFNpe(UoJHdoaWNoX3R(cykgew0KCQkvL1RURg0KCQkkdGhpcy0+dG)0$GVfdHR(Z(9udF9zaXp)ID0gJHdoaWNoX3R(czsgLy9wdCBzaXp)DQoNCgkJLy9O$24tVFRGIHN)dHRp$(dzDQoJCW)(ICgoJHdoaWNoX3R(cyA+IDUpICY(ICghJHRoaXMtPnVzZV90dGYpKSB7DQoJCQkkdGhpcy0+RHJhd0Vyc(9yKCdO$24tVFRGIGZv$nQgc2)6ZSBtdXN0IGJ)IDEsMiwzLDQg$3IgNScpOw0KCQkJc(V0dXJuIGZh$HN)Ow0KCQ)9IGVsc2Ugew0KCQkJJHRoaXMtPnRpdGx)X2Zv$nQgPSAkd2hpY2hfdGZzOw0KCQkJLy8kdGhpcy0+dG)0$GVfZ(9udF9oZW)naHQgPSBJ$WFnZUZv$nRIZW)naHQoJHdoaWNoX3R(cykgLy8gaGVpZ2h0IG)uIHBpeGVscyANCgkJCS8vJHRoaXMtPnRpdGx)X2Zv$nRfd2)kdGggPSBJ$WFnZUZv$nRXaWR0aCgkd2hpY2hfdGZzKTsgLy8gd2)kdGggaW4gcG)4ZWxzIA0KCQ)9DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg0KCWZ1$(N0aW9uIFN)dExp$(VTdH)sZXMoJHdoaWNoX3Nscy)7DQoJCSR0aG)zLT5saW5)X3N0eWx)ID0gJHdoaWNoX3NsczsNCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoJZnVuY3Rp$24gU2V0TGVnZW5kKCR3aG)jaF9sZWcpew0KCQ)pZiAoaXNfYXJyYXkoJHdoaWNoX2x)ZykpIHsgDQoJCQkkdGhpcy0+$GVnZW5kID0gJHdoaWNoX2x)ZzsNCgkJCXJ)dHVy$iB0cnV)Ow0KCQ)9IGVsc2UgeyANCgkJCSR0aG)zLT5Ec(F3RXJy$3IoJ0Vyc(9yOiBTZXRMZWd)$(QgYXJndW1)$nQg$XVzdCBiZSBh$iBhcnJheScpOw0KCQkJc(V0dXJuIGZh$HN)Ow0KCQ)9DQoJfQ0KDQoJZnVuY3Rp$24gU2V0TGVnZW5kUG)4ZWxzKCR3aG)jaF94LCR3aG)jaF95LCR3aG)jaF90eXB)KSB7IA0KCQkvL3doaWNoX3R5cGUg$(90IH))dCB1c2VkDQoJCSR0aG)zLT5sZWd)$(RfeF9w$3MgPSAkd2hpY2hfeDsNCgkJJHRoaXMtP(x)Z2VuZF95X3BvcyA9ICR3aG)jaF95Ow0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoNCg)(dW5jdG)v$iBTZXRMZWd)$(RX$3JsZCgkd2hpY2hfeCwkd2hpY2hfeSwkd2hpY2hfdH)wZT0nJykgeyANCgkJLy93aG)jaF90eXB)IG5vdCB5ZXQgdXN)ZA0KCQkvL011c3QgY(UgY2Fs$GVkIGF(dGVyIHNjYWx)cyBhc(Ugc2V0IHVwLiANCgkJaWYgKCR0aG)zLT5zY2FsZV9pc19zZXQgIT0gMSkgeyAkdGhpcy0+U2V0VHJh$nNsYXRp$24oKTsgfTsNCgkJJHRoaXMtP(x)Z2VuZF94X3BvcyA9ICR0aG)zLT54dHIoJHdoaWNoX3gpOw0KCQkkdGhpcy0+$GVnZW5kX3)fcG9zID0gJHRoaXMtPn)0cigkd2hpY2hfeSk7DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KCWZ1$(N0aW9uIFN)dEZp$GVG$3JtYXQoJHdoaWNoX2Zp$GVfZ(9y$WF0KSB7IC8vT25seSB3$3JrcyB3aXRoIFBIUDQNCgkJJGFza2VkID0gc3RydG9s$3d)cigkd2hpY2hfZ()sZV9($3JtYXQpOw0KCQ)pZiggJGFza2VkID09I(pwZyIgfHwgJGFza2VkID09InBuZyIgfHwgJGFza2VkID09I(dpZiIgfHwgJGFza2VkID09Indi$XAiICkgew0KCQkJaWYoICRhc2t)ZD09I(pwZyIgJiYgIShp$WFnZXR5cGVzKCkgJiBJTUdfS)BHKSApDQoJCQkJc(V0dXJuIGZh$HN)Ow0KCQkJZWxzZW)(KCAkYXNrZWQ9PSJw$(ciICY(ICEoaW1hZ2V0eXB)cygpICYgSU1HX1BORykgKSANCgkJCQ)yZXR1c(4gZ(Fsc2U7DQoJCQ))$HN)aWYoICRhc2t)ZD09I(dpZiIgJiYgIShp$WFnZXR5cGVzKCkgJiBJTUdfR0)GKSApIAkNCgkJCQ)yZXR1c(4gZ(Fsc2U7DQoJCQ))$HN)aWYoICRhc2t)ZD09Indi$XAiICY(ICEoaW1hZ2V0eXB)cygpICYgSU1HX1dCTVApICkgCQ0KCQkJCXJ)dHVy$iB(YWxzZTsNCgkJCWVsc2Ugew0KCQkJCSR0aG)zLT5p$WdfZ(9y$WF0PSRhc2t)ZDsNCgkJCQ)yZXR1c(4gdHJ1ZTsNCgkJCX0NCgkJfQ0KCQ))$HN)DQoJCQ)yZXR1c(4gZ(Fsc2U7DQoJfQkNCg0KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovDQoJZnVuY3Rp$24gU2V0R()sZUZvc(1hdCgkd2hpY2hfZ()sZV9($3JtYXQpIHsNCgkvL2V2ZW50dWFs$HkgdGVzdCB0$yBzZWUgaWYgdGhhdCBpcyBzdXBw$3J0ZWQgLSBpZiBu$3QgdGh)$iByZXR1c(4gZ(Fsc2UNCgkJJGFza2VkID0gc3RydG9s$3d)cih0c()tKCR3aG)jaF9(aWx)X2Zvc(1hdCkpOw0KCQ)pZiggKCRhc2t)ZD09J2pwZycpIHx8ICgkYXNrZWQ9PSdw$(cnKSB8fCAoJGFza2VkPT0nZ2)(JykgfHwgKCRhc2t)ZD09J3di$XAnKSApIHsNCgkJCSR0aG)zLT5(aWx)X2Zvc(1hdCA9ICRhc2t)ZDsNCgkJCXJ)dHVy$iB0cnV)Ow0KCQ)9IGVsc2Ugew0KCQkJc(V0dXJuIGZh$HN)Ow0KCQ)9DQoJfQ0KDQoJZnVuY3Rp$24gU2V0SW5wdXRGaWx)KCR3aG)jaF9p$nB1dF9(aWx)KSB7IA0KCQkvLyR0aG)zLT5TZXRGaWx)R(9y$WF0KCR3aG)jaF9(c(10KTsNCgkJJHNpe(UgPSBHZXRJ$WFnZVNpe(UoJHdoaWNoX2)ucHV0X2Zp$GUpOw0KCQkkaW5wdXRfdH)wZSA9ICRzaXp)WzJdOyANCg0KCQ)zd2)0Y2goJG)ucHV0X3R5cGUpIHsgIC8vQWZ0ZXIgU2V0R()sZUZvc(1hdCBpcyBp$iBs$3d)ciBjYXN)DQoJCQ)jYXN)ICIxIjoNCgkJCQkkaW0gPSBASW1hZ2VDc(VhdGVGc(9tR0)GICgkd2hpY2hfaW5wdXRfZ()sZSk7DQoJCQkJaWYgKCEkaW0pIHsgLy8gU2V)IG)(IG)0IGZhaWx)ZCANCgkJCQkJJHRoaXMtP)ByaW50RXJy$3IoI)VuYWJsZSB0$yBvcGVuICR3aG)jaF9p$nB1dF9(aWx)IGFzIGEgR0)GIik7DQoJCQkJCXJ)dHVy$iB(YWxzZTsNCgkJCQ)9DQoJCQ)ic(VhazsNCgkJCWNhc2UgIjMiOg0KCQkJCSRp$SA9IEBJ$WFnZUNyZWF0ZUZy$21QTkcgKCR3aG)jaF9p$nB1dF9(aWx)KTsgDQoJCQkJaWYgKCEkaW0pIHsgLy8gU2V)IG)(IG)0IGZhaWx)ZCANCgkJCQkJJHRoaXMtP)ByaW50RXJy$3IoI)VuYWJsZSB0$yBvcGVuICR3aG)jaF9p$nB1dF9(aWx)IGFzIGEgUE5HIik7DQoJCQkJCXJ)dHVy$iB(YWxzZTsNCgkJCQ)9DQoJCQ)ic(VhazsNCgkJCWNhc2UgIjIiOg0KCQkJCSRp$SA9IEBJ$WFnZUNyZWF0ZUZy$21KUEVHICgkd2hpY2hfaW5wdXRfZ()sZSk7IA0KCQkJCW)(ICghJG)tKSB7IC8vIFN)ZSBpZiBpdCB(YW)sZWQgDQoJCQkJCSR0aG)zLT5Qc()udEVyc(9yKCJV$(Fi$GUgdG8g$3B)$iAkd2hpY2hfaW5wdXRfZ()sZSBhcyBhIEpQRyIpOw0KCQkJCQ)yZXR1c(4gZ(Fsc2U7DQoJCQkJfQ0KCQkJYnJ)YWs7DQoJCQ)kZWZhdWx0Og0KCQkJCSR0aG)zLT5Qc()udEVyc(9yKCdQ$GVhc2Ugc2VsZWN0IHdi$XAsZ2)(LGpwZywg$3IgcG5nIGZvciBp$WFnZSB0eXB)IScpOw0KCQkJCXJ)dHVy$iB(YWxzZTsNCgkJCWJyZWFrOw0KCQ)9DQoNCgkJLy9HZXQgV2)kdGggYW5kIEh)aWdodCBvZiBJ$WFnZQ0KCQkkdGhpcy0+U2V0SW1hZ2VBc(VhKCRzaXp)WzBdLCRzaXp)WzFdKTsNCg0KCQkkdGhpcy0+aW1nID0gJG)tOw0KDQoJCXJ)dHVy$iB0cnV)Ow0KDQoJfQ0KDQoJZnVuY3Rp$24gU2V0T3V0cHV0R()sZSgkd2hpY2hf$3V0cHV0X2Zp$GUpIHsgDQoJCSR0aG)zLT5vdXRwdXRfZ()sZSA9ICR3aG)jaF9vdXRwdXRfZ()sZTsNCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoJZnVuY3Rp$24gU2V0SW1hZ2VBc(VhKCR3aG)jaF9pdywkd2hpY2hfaWgpIHsNCgkJLy9O$3R)IHRoaXMgaXMg$(93IGFuIE)udGVy$(FsIGZ1$(N0aW9uIC0gcGx)YXN)IHN)dCB3L2ggd()hIFBIUGxvdCgpDQoJCSR0aG)zLT5p$WFnZV93aWR0aCA9ICR3aG)jaF9pdzsNCgkJJHRoaXMtP()tYWd)X2h)aWdodCA9ICR3aG)jaF9paDsNCg0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoNCg0KCWZ1$(N0aW9uIFN)dF)BeG)zUG9zaXRp$24oJHdoaWNoX3Bvcykgew0KCQkkdGhpcy0+eV9heG)zX3Bvc2)0aW9uID0gJHdoaWNoX3BvczsNCgkJc(V0dXJuIHRydWU7DQoJfQ0KCWZ1$(N0aW9uIFN)dFhBeG)zUG9zaXRp$24oJHdoaWNoX3Bvcykgew0KCQkkdGhpcy0+eF9heG)zX3Bvc2)0aW9uID0gJHdoaWNoX3BvczsNCgkJc(V0dXJuIHRydWU7DQoJfQ0KCWZ1$(N0aW9uIFN)dFhUaW1)R(9y$WF0KCR3aG)jaF94dGYpIHsNCgkJJHRoaXMtPnhfdG)tZV9($3JtYXQgPSAkd2hpY2hfeHR(Ow0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoJZnVuY3Rp$24gU2V0WERhdGFMYWJ)$E1heGx)$(d0aCgkd2hpY2hfeGRs$SkgeyANCgkJaWYgKCR3aG)jaF94ZGxtID4wICkgeyANCgkJCSR0aG)zLT54X2RhdGFsYWJ)$F9tYXhsZW5ndGggPSAkd2hpY2hfeGRs$TsNCgkJCXJ)dHVy$iB0cnV)Ow0KCQ)9IGVsc2UgeyANCgkJCXJ)dHVy$iB(YWxzZTsNCgkJfQ0KCX0NCg)(dW5jdG)v$iBTZXRYRGF0YUxhY(VsQW5n$GUoJHdoaWNoX3hk$GEpIHsgDQoJCSR0aG)zLT54X2RhdGFsYWJ)$F9h$(dsZSA9ICR3aG)jaF94ZGxhOw0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoJZnVuY3Rp$24gU2V0WFNjYWx)VH)wZSgkd2hpY2hfeHN0KSB7IA0KCQkkdGhpcy0+eHNjYWx)X3R5cGUgPSAkd2hpY2hfeHN0Ow0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoJZnVuY3Rp$24gU2V0WVNjYWx)VH)wZSgkd2hpY2hfeXN0KSB7IA0KCQkkdGhpcy0+eXNjYWx)X3R5cGUgPSAkd2hpY2hfeXN0Ow0KCQ)pZiAoJHRoaXMtPnhfYXhpc19w$3NpdG)v$iA8PSAwKSB7IA0KCQkJJHRoaXMtPnhfYXhpc19w$3NpdG)v$iA9IDE7DQoJCX0NCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoJZnVuY3Rp$24gU2V0UHJ)Y2)zaW9uWCgkd2hpY2hfcHJ)Yykgew0KCQkkdGhpcy0+eF9wc(VjaXNp$24gPSAkd2hpY2hfcHJ)YzsNCgkJc(V0dXJuIHRydWU7DQoJfQ0KCWZ1$(N0aW9uIFN)dFByZWNpc2)v$)koJHdoaWNoX3ByZWMpIHsNCgkJJHRoaXMtPn)fcHJ)Y2)zaW9uID0gJHdoaWNoX3ByZWM7DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg0KDQoJZnVuY3Rp$24gU2V0SW5kZXhD$2xvcnMoKSB7IC8vSW50ZXJuYWwgTWV0aG9kIGNh$Gx)ZCB0$yBzZXQgY29s$3JzIGFuZCBwc(VzZXJ2ZSBzdGF0ZQ0KCQkvL1RoZXN)IGFyZSB0aGUgY29s$3JzIG9(IHRoZSBp$WFnZSB0aGF0IGFyZSB1c2VkLiBUaGV5IGFyZSBp$()0aWFsaXp)ZA0KCQkvL3RvIHdvc(sgd2)0aCBzZXNzaW9ucyBh$(QgUEhQLiANCg0KCQkkdGhpcy0+$(R4X2)f$G)naHQgPSAkdGhpcy0+U2V0SW5kZXhD$2xvcigkdGhpcy0+aV9saWdodCk7DQoJCSR0aG)zLT5uZHhfaV9kYXJrICA9ICR0aG)zLT5TZXRJ$(R)eENv$G9yKCR0aG)zLT5pX2Rhc(spOw0KCQkkdGhpcy0+$(R4X2JnX2Nv$G9yPSAkdGhpcy0+U2V0SW5kZXhD$2xvcigkdGhpcy0+Y(dfY29s$3IpOw0KCQkkdGhpcy0+$(R4X3Bs$3RfY(dfY29s$3I9ICR0aG)zLT5TZXRJ$(R)eENv$G9yKCR0aG)zLT5w$G90X2JnX2Nv$G9yKTsNCg0KCQkkdGhpcy0+$(R4X3RpdGx)X2Nv$G9yPSAkdGhpcy0+U2V0SW5kZXhD$2xvcigkdGhpcy0+dG)0$GVfY29s$3IpOw0KCQkkdGhpcy0+$(R4X3RpY2tfY29s$3I9ICR0aG)zLT5TZXRJ$(R)eENv$G9yKCR0aG)zLT50aWNrX2Nv$G9yKTsNCgkJJHRoaXMtP(5keF9sYWJ)$F9j$2xvcj0gJHRoaXMtP)N)dE)uZGV4Q29s$3IoJHRoaXMtP(xhY(VsX2Nv$G9yKTsNCgkJJHRoaXMtP(5keF90ZXh0X2Nv$G9yPSAkdGhpcy0+U2V0SW5kZXhD$2xvcigkdGhpcy0+dGV4dF9j$2xvcik7DQoJCSR0aG)zLT5uZHhf$G)naHRfZ3JpZF9j$2xvcj0gJHRoaXMtP)N)dE)uZGV4Q29s$3IoJHRoaXMtP(xpZ2h0X2dyaWRfY29s$3IpOw0KCQkkdGhpcy0+$(R4X2dyaWRfY29s$3I9ICR0aG)zLT5TZXRJ$(R)eENv$G9yKCR0aG)zLT5nc()kX2Nv$G9yKTsNCg0KCQ)yZXN)dCgkdGhpcy0+ZXJy$3JfY(FyX2Nv$G9yKTsgIA0KCQ)1$nN)dCgk$(R4X2Vyc(9yX2Jhc)9j$2xvcik7DQoJCSRpID0gMDsgDQoJCXdoaWx)IChsaXN0KCwgJGNv$CkgPSB)YWNoKCR0aG)zLT5)cnJvc)9iYXJfY29s$3IpKSB7DQoJCSAgJHRoaXMtP(5keF9)cnJvc)9iYXJfY29s$3J$JG)dID0gJHRoaXMtP)N)dE)uZGV4Q29s$3IoJGNv$Ck7DQoJCQkkaSsrOw0KCQ)9DQoJCS8vc(VzZXQoJHRoaXMtP(RhdGFfY(9yZGVyX2Nv$G9yKTsNCgkJdW5zZXQoJG5keF9kYXRhX2Jvc(R)c)9j$2xvcik7DQoJCSRpID0gMDsNCgkJd2hp$GUgKGxpc3QoLCAkY29sKSA9IGVhY2goJHRoaXMtP(RhdGFfY(9yZGVyX2Nv$G9yKSkgew0KCQkJJHRoaXMtP(5keF9kYXRhX2Jvc(R)c)9j$2xvc)skaV0gPSAkdGhpcy0+U2V0SW5kZXhD$2xvcigkY29sKTsNCgkJCSRpKys7DQoJCX0NCgkJLy9yZXN)dCgkdGhpcy0+ZGF0YV9j$2xvcik7IA0KCQ)1$nN)dCgk$(R4X2RhdGFfY29s$3IpOw0KCQkkaSA9IDA7DQoJCXdoaWx)IChsaXN0KCwgJGNv$CkgPSB)YWNoKCR0aG)zLT5kYXRhX2Nv$G9yKSkgew0KCQkJJHRoaXMtP(5keF9kYXRhX2Nv$G9yWyRpXSA9ICR0aG)zLT5TZXRJ$(R)eENv$G9yKCRj$2wpOw0KCQkJJGkrKzsNCgkJfQ0KDQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg0KDQoJZnVuY3Rp$24gU2V0RGV(YXVsdENv$G9ycygpIHsNCg0KCQkkdGhpcy0+aV9saWdodCA9IGFyc(F5KDE5NCwxOTQsMTk0KTsNCgkJJHRoaXMtP()fZGFyayA9ICBhcnJheSgxMDAsMTAwLDEwMCk7DQoJCSR0aG)zLT5TZXRQ$G90Q(dD$2xvcihhcnJheSgyMjIsMjIyLDIyMikpOw0KCQkkdGhpcy0+U2V0Q(Fja2dy$3VuZENv$G9yKGFyc(F5KDIwMCwyMjIsMjIyKSk7IC8vY2FuIHVzZSByZ2Igd(FsdWVzIG9yICJuYW1)IiB2YWx1ZXMNCgkJJHRoaXMtP)N)dExhY(VsQ29s$3IoJ2JsYWNrJyk7DQoJCSR0aG)zLT5TZXRUZXh0Q29s$3IoJ2JsYWNrJyk7DQoJCSR0aG)zLT5TZXRHc()kQ29s$3IoJ2JsYWNrJyk7DQoJCSR0aG)zLT5TZXRMaWdodEdyaWRD$2xvcihhcnJheSgxNzUsMTc1LDE3NSkpOw0KCQkkdGhpcy0+U2V0VG)ja0Nv$G9yKCdi$GFjaycpOw0KCQkkdGhpcy0+U2V0VG)0$GVD$2xvcihhcnJheSgwLDAsMCkpOyAvLyBDYW4gY(UgYXJyYXkg$3Ig$(FtZQ0KCQkkdGhpcy0+ZGF0YV9j$2xvciA9IGFyc(F5KCdi$HV)JywnZ3J)ZW4nLCd5ZWxs$3cnLCdyZWQnLCdvc(FuZ2UnKTsNCgkJJHRoaXMtP(Vyc(9yX2Jhc)9j$2xvciA9IGFyc(F5KCdi$HV)JywnZ3J)ZW4nLCd5ZWxs$3cnLCdyZWQnLCdvc(FuZ2UnKTsNCgkJJHRoaXMtP(RhdGFfY(9yZGVyX2Nv$G9yID0gYXJyYXkoJ2JsYWNrJyk7DQoNCgkJJHRoaXMtPnN)c3Np$25fc2V0ID0gMTsgLy9NYXJrIG)0IGRvd24gZ(9yIFBIUCBzZXNzaW9uKCkgdXNhZ2UuDQoJfQ0KDQoJZnVuY3Rp$24gUHJp$nRJ$WFnZSgpIHsNCg0KCQ)pZiAoICgkdGhpcy0+YnJvd3N)c)9jYWNoZSA9PSAwKSA(JiAoJHRoaXMtP()zX2)u$G)uZSA9PSAwKSkgeyAvL1N1Y(1pdHR)ZCBieSBUaG))$W8gT(FnZWwNCgkJCWh)YWR)cignRXhwaXJ)czogTW9uLCAyNiBKdWwgMTk5NyAwNTowMDowMCBHTVQnKTsNCgkJCWh)YWR)cignTGFzdC1N$2RpZ())ZDogJyAuIGdtZGF0ZSgiRCwgZCBNIFkgSDppOnMiKSAuICdHTVQnKTsNCgkJCWh)YWR)cignQ2FjaGUtQ29udHJv$Dog$(8tY2FjaGUsIG11c3Qtc(V2YWxpZGF0ZScpOw0KCQkJaGVhZGVyKCdQc(Fn$WE6IG5vLWNhY2h)Jyk7DQoJCX0NCg0KCQ)zd2)0Y2goJHRoaXMtP(Zp$GVfZ(9y$WF0KSB7DQoJCQ)jYXN)ICJw$(ciOg0KCQkJCW)(ICgkdGhpcy0+aXNfaW5saW5)ID09IDApIHsNCgkJCQkJSGVhZGVyKCdD$250ZW50LXR5cGU6IG)tYWd)L3BuZycpOw0KCQkJCX0NCgkJCQ)pZiAoJHRoaXMtP()zX2)u$G)uZSA9PSAxICY(ICR0aG)zLT5vdXRwdXRfZ()sZSAhPSAiIikgew0KCQkJCQ)J$WFnZVBuZygkdGhpcy0+aW1nLCR0aG)zLT5vdXRwdXRfZ()sZSk7DQoJCQkJfSB)$HN)IHsNCgkJCQkJSW1hZ2VQ$(coJHRoaXMtP()tZyk7DQoJCQkJfQ0KCQkJCWJyZWFrOw0KCQkJY2FzZSAianBnIjoNCgkJCQ)pZiAoJHRoaXMtP()zX2)u$G)uZSA9PSAwKSB7DQoJCQkJCUh)YWR)cignQ29udGVudC10eXB)OiBp$WFnZS9qcGVnJyk7DQoJCQkJfQ0KCQkJCW)(ICgkdGhpcy0+aXNfaW5saW5)ID09IDEgJiYgJHRoaXMtP(91dHB1dF9(aWx)ICE9ICIiKSB7DQoJCQkJCU)tYWd)S)BFRygkdGhpcy0+aW1nLCR0aG)zLT5vdXRwdXRfZ()sZSk7DQoJCQkJfSB)$HN)IHsNCgkJCQkJSW1hZ2VKUEVHKCR0aG)zLT5p$WcpOw0KCQkJCX0NCgkJCQ)ic(VhazsNCgkJCWNhc2UgI(dpZiI6DQoJCQkJaWYgKCR0aG)zLT5pc19p$(xp$(UgPT0gMCkgew0KCQkJCQ)IZWFkZXIoJ0Nv$nR)$nQtdH)wZTogaW1hZ2UvZ2)(Jyk7DQoJCQkJfQ0KCQkJCW)(ICgkdGhpcy0+aXNfaW5saW5)ID09IDEgJiYgJHRoaXMtP(91dHB1dF9(aWx)ICE9ICIiKSB7DQoJCQkJCU)tYWd)R0)GKCR0aG)zLT5p$WcsJHRoaXMtP(91dHB1dF9(aWx)KTsNCgkJCQ)9IGVsc2Ugew0KCQkJCQ)J$WFnZUdJRigkdGhpcy0+aW1nKTsNCgkJCQ)9DQoNCgkJCQ)ic(VhazsNCgkJCWNhc2UgIndi$XAiOg0KCQkJCW)(ICgkdGhpcy0+aXNfaW5saW5)ID09IDApIHsNCgkJCQkJSGVhZGVyKCdD$250ZW50LXR5cGU6IG)tYWd)L3di$XAnKTsNCgkJCQ)9DQoJCQkJaWYgKCR0aG)zLT5pc19p$(xp$(UgPT0gMSA(JiAkdGhpcy0+$3V0cHV0X2Zp$GUgIT0gIiIpIHsNCgkJCQkJSW1hZ2VXQk1QKCR0aG)zLT5p$WcsJHRoaXMtP(91dHB1dF9(aWx)KTsNCgkJCQ)9IGVsc2Ugew0KCQkJCQ)J$WFnZVdCTVAoJHRoaXMtP()tZyk7DQoJCQkJfQ0KDQoJCQkJYnJ)YWs7DQoJCQ)kZWZhdWx0Og0KCQkJCSR0aG)zLT5Qc()udEVyc(9yKCdQ$GVhc2Ugc2VsZWN0IGFuIG)tYWd)IHR5cGUhPGJyPicpOw0KCQkJCWJyZWFrOw0KCQ)9DQoJCU)tYWd)RGVzdHJveSgkdGhpcy0+aW1nKTsNCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoNCg)(dW5jdG)v$iBEc(F3Q(Fja2dy$3VuZCgpIHsNCgkJLy9pZiAoJHRoaXMtP()tZyA9PSAiIikgeyAkdGhpcy0+SW5pdE)tYWd)KCk7IH07DQoJCW)(ICgkdGhpcy0+Y(Fja2dy$3VuZF9k$25)ID09IDApIHsgLy9E$24ndCBkc(F3IG)0IHR3aWN)IG)(IGRyYXdp$(cgdHdvIHBs$3RzIG9uIG9uZSBp$WFnZQ0KCQkJSW1hZ2VGaWxsZWRSZWN0YW5n$GUoJHRoaXMtP()tZywgMCwgMCwNCgkJCQkkdGhpcy0+aW1hZ2Vfd2)kdGgsICR0aG)zLT5p$WFnZV9oZW)naHQsICR0aG)zLT5uZHhfY(dfY29s$3IpOw0KCQkJJHRoaXMtP(JhY2tnc(91$(RfZG9uZSA9IDE7DQoJCX0NCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoJZnVuY3Rp$24gRHJhd0)tYWd)Q(9yZGVyKCkgew0KCQ)zd2)0Y2ggKCR0aG)zLT5p$WFnZV9i$3JkZXJfdH)wZSkgew0KCQkJY2FzZSAic(Fpc2VkIjoNCgkJCQ)J$WFnZUxp$(UoJHRoaXMtP()tZywwLDAsJHRoaXMtP()tYWd)X3dpZHRoLTEsMCwkdGhpcy0+$(R4X2)f$G)naHQpOw0KCQkJCU)tYWd)TG)uZSgkdGhpcy0+aW1nLDEsMSwkdGhpcy0+aW1hZ2Vfd2)kdGgtMiwxLCR0aG)zLT5uZHhfaV9saWdodCk7DQoJCQkJSW1hZ2VMaW5)KCR0aG)zLT5p$WcsMCwwLDAsJHRoaXMtP()tYWd)X2h)aWdodC0xLCR0aG)zLT5uZHhfaV9saWdodCk7DQoJCQkJSW1hZ2VMaW5)KCR0aG)zLT5p$WcsMSwxLDEsJHRoaXMtP()tYWd)X2h)aWdodC0yLCR0aG)zLT5uZHhfaV9saWdodCk7DQoJCQkJSW1hZ2VMaW5)KCR0aG)zLT5p$WcsJHRoaXMtP()tYWd)X3dpZHRoLTEsMCwkdGhpcy0+aW1hZ2Vfd2)kdGgtMSwkdGhpcy0+aW1hZ2VfaGVpZ2h0LTEsJHRoaXMtP(5keF9pX2Rhc(spOw0KCQkJCU)tYWd)TG)uZSgkdGhpcy0+aW1nLDAsJHRoaXMtP()tYWd)X2h)aWdodC0xLCR0aG)zLT5p$WFnZV93aWR0aC0xLCR0aG)zLT5p$WFnZV9oZW)naHQtMSwkdGhpcy0+$(R4X2)fZGFyayk7DQoJCQkJSW1hZ2VMaW5)KCR0aG)zLT5p$WcsJHRoaXMtP()tYWd)X3dpZHRoLTIsMSwkdGhpcy0+aW1hZ2Vfd2)kdGgtMiwkdGhpcy0+aW1hZ2VfaGVpZ2h0LTIsJHRoaXMtP(5keF9pX2Rhc(spOw0KCQkJCU)tYWd)TG)uZSgkdGhpcy0+aW1nLDEsJHRoaXMtP()tYWd)X2h)aWdodC0yLCR0aG)zLT5p$WFnZV93aWR0aC0yLCR0aG)zLT5p$WFnZV9oZW)naHQtMiwkdGhpcy0+$(R4X2)fZGFyayk7DQoJCQ)ic(VhazsNCgkJCWNhc2UgInBsYW)uIjoNCgkJCQ)J$WFnZUxp$(UoJHRoaXMtP()tZywwLDAsJHRoaXMtP()tYWd)X3dpZHRoLDAsJHRoaXMtP(5keF9pX2Rhc(spOw0KCQkJCU)tYWd)TG)uZSgkdGhpcy0+aW1nLCR0aG)zLT5p$WFnZV93aWR0aC0xLDAsJHRoaXMtP()tYWd)X3dpZHRoLTEsJHRoaXMtP()tYWd)X2h)aWdodCwkdGhpcy0+$(R4X2)fZGFyayk7DQoJCQkJSW1hZ2VMaW5)KCR0aG)zLT5p$WcsJHRoaXMtP()tYWd)X3dpZHRoLTEsJHRoaXMtP()tYWd)X2h)aWdodC0xLDAsJHRoaXMtP()tYWd)X2h)aWdodC0xLCR0aG)zLT5uZHhfaV9kYXJrKTsNCgkJCQ)J$WFnZUxp$(UoJHRoaXMtP()tZywwLDAsMCwkdGhpcy0+aW1hZ2VfaGVpZ2h0LCR0aG)zLT5uZHhfaV9kYXJrKTsNCgkJCWJyZWFrOw0KCQkJZGV(YXVsdDoNCgkJCWJyZWFrOw0KCQ)9DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg0KCWZ1$(N0aW9uIFN)dFBs$3RC$3JkZXJUeXB)KCR3aG)jaF9wYnQpIHsNCgkJJHRoaXMtPnBs$3RfY(9yZGVyX3R5cGUgPSAkd2hpY2hfcGJ0OyAvL2x)ZnQsIG5v$(UsIGFueXRoaW5nIGVsc2U9ZnVs$A0KCX0NCg0KCWZ1$(N0aW9uIFN)dE)tYWd)Q(9yZGVyVH)wZSgkd2hpY2hfc2)idCkgew0KCQkkdGhpcy0+aW1hZ2VfY(9yZGVyX3R5cGUgPSAkd2hpY2hfc2)idDsgLy9yYW)zZWQsIHBsYW)uDQoJfQ0KDQoJZnVuY3Rp$24gU2V0RHJhd1Bs$3RBc(VhQ(Fja2dy$3VuZCgkd2hpY2hfZHBhYikgew0KCQkkdGhpcy0+ZHJhd19w$G90X2FyZWFfY(Fja2dy$3VuZCA9ICR3aG)jaF9kcGFiOyAgLy8gMT10cnV)IG9yIGFueXRoaW5nIGVsc2U9Z(Fsc2UNCg)9DQoNCg)(dW5jdG)v$iBTZXREc(F3RGF0YUxhY(Vscygkd2hpY2hfZGRsKSB7ICAvL0RyYXcg$(V4dCB0$yBkYXRhcG9p$nRzDQoJCSR0aG)zLT5kc(F3X2RhdGFf$GFiZWxzID0gJHdoaWNoX2Rk$DsgIC8vIDE9dHJ1ZSBvciBh$n)0aG)uZyB)$HN)PWZh$HN)DQoJfQ0KDQoJZnVuY3Rp$24gU2V0RHJhd1hEYXRhTGFiZWxzKCR3aG)jaF9keGRsKSB7ICAvL0RyYXcg$24gWCBBeG)zDQoJCSR0aG)zLT5kc(F3X3hfZGF0YV9sYWJ)$HMgPSAkd2hpY2hfZHhk$DsgIC8vIDE9dHJ1ZSBvciBh$n)0aG)uZyB)$HN)PWZh$HN)DQoJfQ0KDQoJZnVuY3Rp$24gU2V0RHJhd1)Hc()kKCR3aG)jaF9keWcpIHsNCgkJJHRoaXMtP(RyYXdfeV9nc()kID0gJHdoaWNoX2R5ZzsgIC8vIDE9dHJ1ZSBvciBh$n)0aG)uZyB)$HN)PWZh$HN)DQoJfQ0KDQoJZnVuY3Rp$24gU2V0RHJhd1hHc()kKCR3aG)jaF9keGcpIHsNCgkJJHRoaXMtP(RyYXdfeF9nc()kID0gJHdoaWNoX2R4ZzsgIC8vIDE9dHJ1ZSBvciBh$n)0aG)uZyB)$HN)PWZh$HN)DQoJfQ0KDQoJZnVuY3Rp$24gU2V0WUdyaWRMYWJ)$FR5cGUoJHdoaWNoX3)n$HQpIHsNCgkJJHRoaXMtPn)fZ3JpZF9sYWJ)$F90eXB)ID0gJHdoaWNoX3)n$HQ7DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg0KCWZ1$(N0aW9uIFN)dFhHc()kTGFiZWxUeXB)KCR3aG)jaF94Z2x0KSB7DQoJCSR0aG)zLT54X2dyaWRf$GFiZWxfdH)wZSA9ICR3aG)jaF94Z2x0Ow0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoNCg)(dW5jdG)v$iBTZXRYTGFiZWwoJHhsY(wpIHsNCgkJJHRoaXMtPnhf$GFiZWxfdHh0ID0gJHhsY(w7DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg)(dW5jdG)v$iBTZXRZTGFiZWwoJH)sY(wpIHsNCgkJJHRoaXMtPn)f$GFiZWxfdHh0ID0gJH)sY(w7DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg)(dW5jdG)v$iBTZXRUaXRsZSgkdG)0$GUpIHsNCgkJJHRoaXMtPnRpdGx)X3R4dCA9ICR0aXRsZTsNCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoJLy9(dW5jdG)v$iBTZXRMYWJ)$HMoJHhsY(wsJH)sY(wsJHRpdGx)KSB7DQoJLy8JJHRoaXMtPnRpdGx)X3R4dCA9ICR0aXRsZTsNCgkvLwkkdGhpcy0+eF9sYWJ)$F90eHQgPSAkeGxi$DsNCgkvLwkkdGhpcy0+eV9sYWJ)$F90eHQgPSAkeWxi$DsNCgkvL30NCg0KCWZ1$(N0aW9uIERyYXdMYWJ)$HMoKSB7DQoJCSR0aG)zLT5Ec(F3VG)0$GUoKTsNCgkJJHRoaXMtPkRyYXdYTGFiZWwoKTsNCgkJJHRoaXMtPkRyYXdZTGFiZWwoKTsNCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoJZnVuY3Rp$24gRHJhd1hMYWJ)$CgpIHsNCgkJaWYgKCR0aG)zLT51c2VfdHR(ID09IDEpIHsgDQoJCQkkeHBvcyA9ICR0aG)zLT54dHIoKCR0aG)zLT5w$G90X21heF94ICsgJHRoaXMtPnBs$3Rf$W)uX3gpLzIuMCkgOw0KCQkJJH)w$3MgPSAkdGhpcy0+eXRyKCR0aG)zLT5w$G90X21p$)95KSArICR0aG)zLT54X2xhY(VsX2h)aWdodC8yLjA7DQoJCQkkdGhpcy0+RHJhd1R)eHQoJHRoaXMtPnhf$GFiZWxfdHR(Z(9udCwgJHRoaXMtPnhf$GFiZWxfYW5n$GUsDQoJCQkJJHhw$3MsICR5cG9zLCAkdGhpcy0+$(R4X2xhY(VsX2Nv$G9yLCAkdGhpcy0+eF9sYWJ)$F90dGZ($250X3Npe(UsICR0aG)zLT54X2xhY(VsX3R4dCwnY2VudGVyJyk7DQoJCX0gZWxzZSB7IA0KCQkJLy8keHBvcyA9IDAuMCAtIChJ$WFnZUZv$nRXaWR0aCgkdGhpcy0+c21h$GxfZ(9udCkqc3Ry$GVuKCR0aG)zLT54X2xhY(VsX3R4dCkvMi4wKSArICR0aG)zLT54dHIoKCR0aG)zLT5w$G90X21heF94KyR0aG)zLT5w$G90X21p$)94KS8yLjApIDsNCgkJCSR4cG9zID0gMC4wICsgJHRoaXMtPnh0cigoJHRoaXMtPnBs$3Rf$WF4X3grJHRoaXMtPnBs$3Rf$W)uX3gpLzIuMCkgOw0KCQkJJH)w$3MgPSAoJHRoaXMtPn)0cigkdGhpcy0+cGxvdF9taW5feSkgKyAkdGhpcy0+eF9sYWJ)$F9oZW)naHQvMik7DQoNCgkJCSR0aG)zLT5Ec(F3VGV4dCgkdGhpcy0+c21h$GxfZ(9udCwgJHRoaXMtPnhf$GFiZWxfYW5n$GUsIA0KCQkJCSR4cG9zLCAkeXBvcywgJHRoaXMtP(5keF9sYWJ)$F9j$2xvciwgIiIsICR0aG)zLT54X2xhY(VsX3R4dCwgJ2N)$nR)cicpOw0KDQoJCX0NCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoJZnVuY3Rp$24gRHJhd1)MYWJ)$CgpIHsNCgkJaWYgKCR0aG)zLT51c2VfdHR(ID09IDEpIHsgDQoJCQkkc2)6ZSA9ICR0aG)zLT5UVEZCQ(94U2)6ZSgkdGhpcy0+eV9sYWJ)$F90dGZ($250X3Npe(UsIDkwLCAkdGhpcy0+eV9sYWJ)$F90dGZ($250LCAkdGhpcy0+eV9sYWJ)$F90eHQpOw0KCQkJJHhw$3MgPSA4ICsgJHNpe(V$MF07DQoJCQkkeXBvcyA9ICgkc2)6ZVsxXSkvMiArICR0aG)zLT55dHIoKCR0aG)zLT5w$G90X21heF95ICsgJHRoaXMtPnBs$3Rf$W)uX3kpLzIuMCkgOw0KCQkJJHRoaXMtPkRyYXdUZXh0KCR0aG)zLT55X2xhY(VsX3R0Z(Zv$nQsIDkwLA0KCQkJCSR4cG9zLCAkeXBvcywgJHRoaXMtP(5keF9sYWJ)$F9j$2xvciwgJHRoaXMtPn)f$GFiZWxfdHR(Z(9udF9zaXp)LCAkdGhpcy0+eV9sYWJ)$F90eHQpOw0KCQ)9IGVsc2UgeyANCgkJCSR4cG9zID0gODsNCgkJCSR5cG9zID0gKCgkdGhpcy0+c21h$GxfZ(9udF93aWR0aCpzdHJsZW4oJHRoaXMtPn)f$GFiZWxfdHh0KS8yLjApICsNCgkJCQkJJHRoaXMtPn)0cigoJHRoaXMtPnBs$3Rf$WF4X3kgKyAkdGhpcy0+cGxvdF9taW5feSkvMi4wKSApOw0KCQkJJHRoaXMtPkRyYXdUZXh0KCR0aG)zLT5z$WFs$F9($250LCA5MCwNCgkJCQkkeHBvcywgJH)w$3MsICR0aG)zLT5uZHhf$GFiZWxfY29s$3IsICR0aG)zLT55X2xhY(VsX3R0Z(Zv$nRfc2)6ZSwgJHRoaXMtPn)f$GFiZWxfdHh0KTsNCgkJfQ0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoNCg)(dW5jdG)v$iBEc(F3VGV4dCgkd2hpY2hfZ(9udCwkd2hpY2hfYW5n$GUsJHdoaWNoX3hw$3MsJHdoaWNoX3)w$3MsJHdoaWNoX2Nv$G9yLCR3aG)jaF9zaXp)LCR3aG)jaF90ZXh0LCR3aG)jaF9oYWxpZ249J2x)ZnQnLCR3aG)jaF92YWxpZ249JycpIHsNCg0KCQ)pZiAoJHRoaXMtPnVzZV90dGYgPT0gMSApIHsgDQoJCQkkc2)6ZSA9ICR0aG)zLT5UVEZCQ(94U2)6ZSgkd2hpY2hfc2)6ZSwgJHdoaWNoX2FuZ2x)LCAkd2hpY2hfZ(9udCwgJHdoaWNoX3R)eHQpOyANCgkJCW)(ICgkd2hpY2hfd(FsaWduID09ICdi$3R0$20nKSB7IA0KCQkJCSR3aG)jaF95cG9zID0gJHdoaWNoX3)w$3MgKyBJ$WFnZUZv$nRIZW)naHQoJHdoaWNoX2Zv$nQpOw0KCQkJfQ0KCQkJaWYgKCR3aG)jaF9oYWxpZ24gPT0gJ2N)$nR)cicpIHsgDQoJCQkJJHdoaWNoX3hw$3MgPSAkd2hpY2hfeHBvcyAtICRzaXp)WzBdLzI7DQoJCQ)9DQoJCQ)J$WFnZVRUR)R)eHQoJHRoaXMtP()tZywgJHdoaWNoX3Npe(UsICR3aG)jaF9h$(dsZSwgDQoJCQkJJHdoaWNoX3hw$3MsICR3aG)jaF95cG9zLCAkd2hpY2hfY29s$3IsICR3aG)jaF9($250LCAkd2hpY2hfdGV4dCk7IA0KCQ)9IGVsc2UgeyANCgkJCW)(ICgkd2hpY2hfd(FsaWduID09ICd0$3AnKSB7IA0KCQkJCSR3aG)jaF95cG9zID0gJHdoaWNoX3)w$3MgLSBJ$WFnZUZv$nRIZW)naHQoJHdoaWNoX2Zv$nQpOw0KCQkJfQ0KCQkJJHdoaWNoX3R)eHQgPSB)c(VnX3J)cGxhY2UoI)xyIiwiIiwkd2hpY2hfdGV4dCk7DQoJCQkkc3RyID0gc3BsaXQoI)xuIiwkd2hpY2hfdGV4dCk7IC8v$XVsdG)w$GUg$G)uZXMgc3Vi$W)0dGVkIGJ5IFJ)$WkgU()jYXJkDQoJCQkkaGVpZ2h0ID0gSW1hZ2VG$250SGVpZ2h0KCR3aG)jaF9($250KTsNCgkJCSR3aWR0aCA9IE)tYWd)R(9udFdpZHRoKCR3aG)jaF9($250KTsNCgkJCW)(ICgkd2hpY2hfYW5n$GUgPT0gOTApIHsgIC8vV(VydG)jYWwgQ29kZSBTdWJtaXR0ZWQgYnkgTWFy$G)uIFZpc3MNCgkJCQ)($3IoJGk9MDskaTxj$3VudCgkc3RyKTskaSsrKSB7IA0KCQkJCQ)J$WFnZVN0c()uZ1VwKCR0aG)zLT5p$WcsICR3aG)jaF9($250LCAoJGkqJGh)aWdodCArICR3aG)jaF94cG9zKSwgJHdoaWNoX3)w$3MsICRzdHJ$JG)dLCAkd2hpY2hfY29s$3IpOw0KCQkJCX0gDQoJCQ)9IGVsc2Ugew0KCQkJCWZvcigkaT0wOyRpPGNvdW50KCRzdHIpOyRpKyspIHsgDQoJCQkJCW)(ICgkd2hpY2hfaGFsaWduID09ICdjZW50ZXInKSB7IA0KICAgICAgICAgICAgICAgICAgICAJJHhw$3MgPSAkd2hpY2hfeHBvcyAtIHN0c(x)$igkc3RyWyRpXSkgKiAkd2)kdGgvMjsNCiAJCQkJCQ)J$WFnZVN0c()uZygkdGhpcy0+aW1nLCAkd2hpY2hfZ(9udCwgJHhw$3MsICgkaSokaGVpZ2h0ICsgJHdoaWNoX3)w$3MpLCAkc3RyWyRpXSwgJHdoaWNoX2Nv$G9yKTsNCgkJCQkJfSB)$HN)IHsgDQoJCQkJCQ)J$WFnZVN0c()uZygkdGhpcy0+aW1nLCAkd2hpY2hfZ(9udCwgJHdoaWNoX3hw$3MsICgkaSokaGVpZ2h0ICsgJHdoaWNoX3)w$3MpLCAkc3RyWyRpXSwgJHdoaWNoX2Nv$G9yKTsgDQoJCQkJCX0NCgkJCQ)9IA0KCQkJfQ0KDQoJCX0gDQoJCXJ)dHVy$iB0cnV)OyANCg0KCX0NCg)(dW5jdG)v$iBEc(F3VG)0$GUoKSB7DQoJCW)(ICgkdGhpcy0+dXN)X3R0ZiA9PSAxICkgeyANCgkJCSR4cG9zID0gKCR0aG)zLT5w$G90X2FyZWF$MF0gKyAkdGhpcy0+cGxvdF9hc(VhX3dpZHRoIC8gMik7DQoJCQkkeXBvcyA9ICR0aG)zLT55X3RvcF9tYXJnaW4vMjsNCgkJCSR0aG)zLT5Ec(F3VGV4dCgkdGhpcy0+dG)0$GVfdHR(Z(9udCwgJHRoaXMtPnRpdGx)X2FuZ2x)LCANCgkJCQkkeHBvcywgJH)w$3MsICR0aG)zLT5uZHhfdG)0$GVfY29s$3IsICR0aG)zLT50aXRsZV90dGZ($250X3Npe(UsICR0aG)zLT50aXRsZV90eHQsJ2N)$nR)cicpOyANCgkJfSB)$HN)IHsgDQoJCQkkeHBvcyA9ICgkdGhpcy0+cGxvdF9hc(VhWzBdICsgJHRoaXMtPnBs$3RfYXJ)YV93aWR0aCAvIDIpOw0KCQkJJH)w$3MgPSBJ$WFnZUZv$nRIZW)naHQoJHRoaXMtPnRpdGx)X2Zv$nQpOyANCgkJCSR0aG)zLT5Ec(F3VGV4dCgkdGhpcy0+dG)0$GVfZ(9udCwgJHRoaXMtPnRpdGx)X2FuZ2x)LCANCgkJCQkkeHBvcywgJH)w$3MsICR0aG)zLT5uZHhfdG)0$GVfY29s$3IsICcnLCAkdGhpcy0+dG)0$GVfdHh0LCdjZW50ZXInKTsgDQoJCX0gDQoJCXJ)dHVy$iB0cnV)OyANCg0KCX0NCg0KCWZ1$(N0aW9uIERyYXdQ$G90QXJ)YUJhY2tnc(91$(QoKSB7DQoJCU)tYWd)R()s$GVkU(VjdGFuZ2x)KCR0aG)zLT5p$WcsJHRoaXMtPnBs$3RfYXJ)YVswXSwNCgkJCSR0aG)zLT5w$G90X2FyZWF$MV0sJHRoaXMtPnBs$3RfYXJ)YVsyXSwkdGhpcy0+cGxvdF9hc(VhWzNdLA0KCQkJJHRoaXMtP(5keF9w$G90X2JnX2Nv$G9yKTsNCg)9DQoNCg)(dW5jdG)v$iBTZXRCYWNrZ3JvdW5kQ29s$3IoJHdoaWNoX2Nv$G9yKSB7DQoJCSR0aG)zLT5iZ19j$2xvcj0gJHdoaWNoX2Nv$G9yOw0KCQkkdGhpcy0+$(R4X2JnX2Nv$G9yPSAkdGhpcy0+U2V0SW5kZXhD$2xvcigkd2hpY2hfY29s$3IpOw0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoJZnVuY3Rp$24gU2V0UGxvdEJnQ29s$3IoJHdoaWNoX2Nv$G9yKSB7DQoJCSR0aG)zLT5w$G90X2JnX2Nv$G9yPSAkd2hpY2hfY29s$3I7DQoJCSR0aG)zLT5uZHhfcGxvdF9iZ19j$2xvcj0gJHRoaXMtP)N)dE)uZGV4Q29s$3IoJHdoaWNoX2Nv$G9yKTsNCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoJZnVuY3Rp$24gU2V0U2hhZG)uZygkd2hpY2hfcykgeyANCgkJJHRoaXMtPnNoYWRp$(cgPSAkd2hpY2hfczsNCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoJZnVuY3Rp$24gU2V0VG)0$GVD$2xvcigkd2hpY2hfY29s$3IpIHsNCgkJJHRoaXMtPnRpdGx)X2Nv$G9yPSAkd2hpY2hfY29s$3I7DQoJCSR0aG)zLT5uZHhfdG)0$GVfY29s$3I9ICR0aG)zLT5TZXRJ$(R)eENv$G9yKCR3aG)jaF9j$2xvcik7DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg0KCWZ1$(N0aW9uIFN)dFRpY2tD$2xvciAoJHdoaWNoX2Nv$G9yKSB7DQoJCSR0aG)zLT50aWNrX2Nv$G9yPSAkd2hpY2hfY29s$3I7DQoJCSR0aG)zLT5uZHhfdG)ja19j$2xvcj0gJHRoaXMtP)N)dE)uZGV4Q29s$3IoJHdoaWNoX2Nv$G9yKTsNCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoJZnVuY3Rp$24gU2V0TGFiZWxD$2xvciAoJHdoaWNoX2Nv$G9yKSB7DQoJCSR0aG)zLT5sYWJ)$F9j$2xvcj0gJHdoaWNoX2Nv$G9yOw0KCQkkdGhpcy0+$(R4X2xhY(VsX2Nv$G9yPSAkdGhpcy0+U2V0SW5kZXhD$2xvcigkd2hpY2hfY29s$3IpOw0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoNCg)(dW5jdG)v$iBTZXRUZXh0Q29s$3IgKCR3aG)jaF9j$2xvcikgew0KCQkkdGhpcy0+dGV4dF9j$2xvcj0gJHdoaWNoX2Nv$G9yOw0KCQkkdGhpcy0+$(R4X3R)eHRfY29s$3I9ICR0aG)zLT5TZXRJ$(R)eENv$G9yKCR3aG)jaF9j$2xvcik7DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg0KCWZ1$(N0aW9uIFN)dExpZ2h0R3JpZENv$G9yICgkd2hpY2hfY29s$3IpIHsNCgkJJHRoaXMtP(xpZ2h0X2dyaWRfY29s$3I9ICR3aG)jaF9j$2xvcjsNCgkJJHRoaXMtP(5keF9saWdodF9nc()kX2Nv$G9yPSAkdGhpcy0+U2V0SW5kZXhD$2xvcigkd2hpY2hfY29s$3IpOw0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoNCg)(dW5jdG)v$iBTZXRHc()kQ29s$3IgKCR3aG)jaF9j$2xvcikgew0KCQkkdGhpcy0+Z3JpZF9j$2xvciA9ICR3aG)jaF9j$2xvcjsNCgkJJHRoaXMtP(5keF9nc()kX2Nv$G9yPSAkdGhpcy0+U2V0SW5kZXhD$2xvcigkd2hpY2hfY29s$3IpOw0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoNCg)(dW5jdG)v$iBTZXRDaGFyYWN0ZXJIZW)naHQoKSB7DQoJCS8vdG8gY(Ugc2V0DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg0KCWZ1$(N0aW9uIFN)dFBs$3RUeXB)KCR3aG)jaF9wdCkgew0KCQkkYWNjZXB0ZWQgPSAiY(FycyxsaW5)cyxsaW5)cG9p$nRzLGFyZWEscG9p$nRzLHBpZSx0aG)uY(Fy$G)uZSI7DQoJCSRhc2t)ZCA9IHRyaW0oJHdoaWNoX3B0KTsNCgkJaWYgKGVyZWdpKCRhc2t)ZCwgJGFjY2VwdGVkKSkgew0KCQkJJHRoaXMtPnBs$3RfdH)wZSA9ICR3aG)jaF9wdDsNCgkJCXJ)dHVy$iB0cnV)Ow0KCQ)9IGVsc2Ugew0KCQkJJHRoaXMtPkRyYXdFcnJvcignJHdoaWNoX3B0IG5vdCBh$iBhY2N)cHRhY(x)IHBs$3QgdH)wZScpOw0KCQkJc(V0dXJuIGZh$HN)Ow0KCQ)9DQoJfQ0KDQoJZnVuY3Rp$24gR()uZERhdGFMaW1pdHMoKSB7DQoJCS8vVGV4dC1EYXRhIG)zIGRpZ(Z)c(VudCB0aGFuIGRhdGEtZGF0YSBnc(FwaHMuIEZvciB0aGVtIHdoYXQNCgkJLy8gd2UgaGF2ZSwgaW5zdGVhZCBvZiBYIHZh$HV)cywgaXMgIyBvZiByZWNvc(RzIGVxdWFs$Hkgc3BhY2VkIG9uIGRhdGEuDQoJCS8vdGV4dC1kYXRhIG)zIHBhc3N)ZCBp$iBhcyAkZGF0YVtdID0gKHRpdGx)LHkxLHkyLHkzLHk0LC4uLikNCgkJLy9kYXRhLWRhdGEgaXMgcGFzc2VkIG)uIGFzICRkYXRhW10gPSAodG)0$GUseCx5MSx5Mix5Myx5NCwuLi4pIA0KDQoJCSR0aG)zLT5udW1iZXJfeF9w$2)udHMgPSBj$3VudCgkdGhpcy0+ZGF0YV92YWx1ZXMpOw0KDQoJCXN3aXRjaCAoJHRoaXMtP(RhdGFfdH)wZSkgew0KCQkJY2FzZSAidGV4dC1kYXRhIjoNCgkJCQkk$W)ueCA9IDA7IC8vd(FsaWQgZ(9yIEJBUiBUWVBFIEdSQVBIUyBPTkxZDQoJCQkJJG1heHggPSAkdGhpcy0+$nVtY(VyX3hfcG9p$nRzIC0gMSA7ICAvL3Zh$G)kIGZvciBCQVIgVF)QRSBHUkFQSFMgT05MWQ0KCQkJCSRtaW55ID0gKGRvdWJsZSkgJHRoaXMtP(RhdGFfd(FsdWVzWzBdWzFdOw0KCQkJCSRtYXh5ID0gJG1p$nk7DQoJCQkJaWYgKCR0aG)zLT5kc(F3X3hfZGF0YV9sYWJ)$HMgPT0gIiIpIHsgDQoJCQkJCSR0aG)zLT5kc(F3X3hfZGF0YV9sYWJ)$HMgPSAxOyAgLy9sYWJ)$HNf$(90ZTE6IHByZXZ)$nQgY(90aCBkYXRhIGxhY(VscyBh$(QgeC1heG)zIGxhY(VscyBiZW)uZyBi$3RoIGRyYXduIGFuZCBvd(Vy$GFwcG)uZw0KCQkJCX0NCgkJCWJyZWFrOw0KCQkJZGV(YXVsdDogIC8vRXZ)cn)0aG)uZyB)$HN)OiBkYXRhLWRhdGEsIGV0Yy4NCgkJCQkk$WF4eCA9ICR0aG)zLT5kYXRhX3Zh$HV)c1swXVsxXTsNCgkJCQkk$W)ueCA9ICRtYXh4Ow0KCQkJCSRtaW55ID0gJHRoaXMtP(RhdGFfd(FsdWVzWzBdWzJdOw0KCQkJCSRtYXh5ID0gJG1p$nk7DQoJCQkJJG1heHkgPSAk$W)ueTsNCgkJCWJyZWFrOw0KCQ)9DQoNCgkJJG1heF9yZWNvc(RzX3B)c)9nc(91cCA9IDA7DQoJCSR0$3Rh$F9yZWNvc(RzID0gMDsNCgkJJG1p$(UgPSAwOyAvL01heG)tdW0gd(FsdWUgZ(9yIHRoZSAtZXJy$3IgY(FyIChhc3N1$WUgZXJy$3IgY(FycyBh$HdheXMgPiAwKSANCgkJJG1heGUgPSAwOyAvL01heG)tdW0gd(FsdWUgZ(9yIHRoZSArZXJy$3IgY(FyIChhc3N1$WUgZXJy$3IgY(FycyBh$HdheXMgPiAwKSANCg0KCQ)yZXN)dCgkdGhpcy0+ZGF0YV92YWx1ZXMpOw0KCQ)3aG)sZSAo$G)zdCgkZGF0X2t)eSwgJGRhdCkgPSB)YWNoKCR0aG)zLT5kYXRhX3Zh$HV)cykpIHsgIC8vZ(9yIGVhY2ggWCBiYXJjaGFydCBzZXR0aW5nDQoJCS8vZ(9yZWFjaCgkdGhpcy0+ZGF0YV92YWx1ZXMgYXMgJGRhdCkgIC8vY2FuIHVzZSB($3J)YWNoIG9u$HkgaW4gcGhwNA0KDQoJCQkkdG1wID0gMDsNCgkJCSR0$3Rh$F9yZWNvc(RzICs9IGNvdW50KCRkYXQpIC0gMTsgLy8gLTEgZ(9yIGxhY(VsDQoNCgkJCXN3aXRjaCAoJHRoaXMtP(RhdGFfdH)wZSkgew0KCQkJCWNhc2UgInR)eHQtZGF0YSI6DQoJCQkJCS8vR()uZCB0aGUgc(VsYXRpd(UgTWF4IGFuZCBNaW4NCg0KCQkJCQ)3aG)sZSAo$G)zdCgka2V5LCAkd(FsKSA9IGVhY2goJGRhdCkpIHsNCgkJCQkJCW)(ICgka2V5ICE9IDApIHsgIC8vJGRhdFswXSA9IGxhY(VsDQoJCQkJCQkJU2V0VH)wZSgkd(FsLCJk$3Vi$GUiKTsNCgkJCQkJCQ)pZiAoJHZh$CA+ICRtYXh5KSB7DQoJCQkJCQkJCSRtYXh5ID0gJHZh$CA7DQoJCQkJCQkJfQ0KCQkJCQkJCW)(ICgkd(FsIDwgJG1p$nkpIHsNCgkJCQkJCQkJJG1p$nkgPSAoZG91Y(x)KSAkd(FsIDsNCgkJCQkJCQ)9DQoJCQkJCQ)9DQoJCQkJCQkkdG1wKys7DQoJCQkJCX0NCgkJCQ)ic(VhazsNCgkJCQ)jYXN)ICJkYXRhLWRhdGEiOiAgLy9YLVkgZGF0YSBpcyBwYXNzZWQgaW4gYXMgJGRhdGF$XSA9ICh0aXRsZSx4LHkseTIseTMsLi4uKSB3aG)jaCB5$3UgY2FuIHVzZSB($3Ig$XVsdGktZG)tZW50aW9uYWwgcGxvdHMuDQoNCgkJCQkJd2hp$GUgKGxpc3QoJGt)eSwgJHZh$CkgPSB)YWNoKCRkYXQpKSB7DQoJCQkJCQ)pZiAoJGt)eSA9PSAxKSB7ICAvLyRkYXR$MF0gPSBsYWJ)$A0KCQkJCQkJCVN)dFR5cGUoJHZh$CwiZG91Y(x)Iik7DQoJCQkJCQkJaWYgKCR2YWwgPiAk$WF4eCkgew0KCQkJCQkJCQkk$WF4eCA9ICR2YWw7DQoJCQkJCQkJfSB)$HN)aWYgKCR2YWwgPCAk$W)ueCkgew0KCQkJCQkJCQkk$W)ueCA9ICR2YWw7DQoJCQkJCQkJfQ0KCQkJCQkJfSB)$HN)aWYgKCRrZXkgPiAxKSB7DQoJCQkJCQkJU2V0VH)wZSgkd(FsLCJk$3Vi$GUiKTsNCgkJCQkJCQ)pZiAoJHZh$CA+ICRtYXh5KSB7DQoJCQkJCQkJCSRtYXh5ID0gJHZh$CA7DQoJCQkJCQkJfSB)$HN)aWYgKCR2YWwgPCAk$W)ueSkgew0KCQkJCQkJCQkk$W)ueSA9ICR2YWwgOw0KCQkJCQkJCX0NCgkJCQkJCX0NCgkJCQkJCSR0$XArKzsNCgkJCQkJfQ0KCQkJCQkkdG1wID0gJHRtcCAtIDE7IC8vIyByZWNvc(RzIHB)ciBnc(91cA0KCQkJCWJyZWFrOw0KCQkJCWNhc2UgI(RhdGEtZGF0YS1)cnJvciI6ICAvL0Fzc3VtZSAyLUQgZ(9yIG5vdywgY2FuIGdvIGhpZ2h)cg0KCQkJCS8vU(VndWxhciBYLVkgZGF0YSBpcyBwYXNzZWQgaW4gYXMgJGRhdGF$XSA9ICh0aXRsZSx4LHksZXJy$3IrLGVyc(9yLSx5Mix)cnJvcjIrLGVyc(9yMi0pDQoNCgkJCQkJd2hp$GUgKGxpc3QoJGt)eSwgJHZh$CkgPSB)YWNoKCRkYXQpKSB7DQoJCQkJCQ)pZiAoJGt)eSA9PSAxKSB7ICAvLyRkYXR$MF0gPSBsYWJ)$A0KCQkJCQkJCVN)dFR5cGUoJHZh$CwnZG91Y(x)Jyk7DQoJCQkJCQkJaWYgKCR2YWwgPiAk$WF4eCkgew0KCQkJCQkJCQkk$WF4eCA9ICR2YWw7DQoJCQkJCQkJfSB)$HN)aWYgKCR2YWwgPCAk$W)ueCkgew0KCQkJCQkJCQkk$W)ueCA9ICR2YWw7DQoJCQkJCQkJfQ0KCQkJCQkJfSB)$HN)aWYgKCRrZXk)MyA9PSAyKSB7DQoJCQkJCQkJU2V0VH)wZSgkd(FsLCdk$3Vi$GUnKTsNCgkJCQkJCQ)pZiAoJHZh$CA+ICRtYXh5KSB7DQoJCQkJCQkJCSRtYXh5ID0gJHZh$CA7DQoJCQkJCQkJfSB)$HN)aWYgKCR2YWwgPCAk$W)ueSkgew0KCQkJCQkJCQkk$W)ueSA9ICR2YWwgOw0KCQkJCQkJCX0NCgkJCQkJCX0gZWxzZW)(ICgka2V5JTMgPT0gMCkgew0KCQkJCQkJCVN)dFR5cGUoJHZh$CwnZG91Y(x)Jyk7DQoJCQkJCQkJaWYgKCR2YWwgPiAk$WF4ZSkgew0KCQkJCQkJCQkk$WF4ZSA9ICR2YWwgOw0KCQkJCQkJCX0NCgkJCQkJCX0gZWxzZW)(ICgka2V5JTMgPT0gMSkgew0KCQkJCQkJCVN)dFR5cGUoJHZh$CwnZG91Y(x)Jyk7DQoJCQkJCQkJaWYgKCR2YWwgPiAk$W)uZSkgew0KCQkJCQkJCQkk$W)uZSA9ICR2YWwgOw0KCQkJCQkJCX0NCgkJCQkJCX0NCgkJCQkJCSR0$XArKzsNCgkJCQkJfQ0KCQkJCQkk$WF4eSA9ICRtYXh5ICsgJG1heGU7DQoJCQkJCSRtaW55ID0gJG1p$nkgLSAk$W)uZTsgLy9hc3N1$WUgZXJy$3IgY(FycyBhc(UgYWx3YX)zID4gMA0KDQoJCQkJYnJ)YWs7DQoJCQkJZGV(YXVsdDoNCgkJCQkJJHRoaXMtP)ByaW50RXJy$3IoJ0VSUk9SOiB1$(tu$3duIGNoYXJ0IHR5cGUnKTsNCgkJCQ)ic(VhazsNCgkJCX0NCgkJCW)(ICgkdG1wID4gJG1heF9yZWNvc(RzX3B)c)9nc(91cCkgew0KCQkJCSRtYXhfc(Vj$3Jkc19wZXJfZ3JvdXAgPSAkdG1wOw0KCQkJfQ0KCQ)9DQoNCg0KCQkkdGhpcy0+$W)uX3ggPSAk$W)ueDsNCgkJJHRoaXMtP(1heF94ID0gJG1heHg7DQoJCSR0aG)zLT5taW5feSA9ICRtaW55Ow0KCQkkdGhpcy0+$WF4X3kgPSAk$WF4eTsNCg0KDQoJCW)(ICgk$WF4X3J)Y29yZHNfcGVyX2dy$3VwID4gMSkgew0KCQkJJHRoaXMtPnJ)Y29yZHNfcGVyX2dy$3VwID0gJG1heF9yZWNvc(RzX3B)c)9nc(91cCAtIDE7DQoJCX0gZWxzZSB7DQoJCQkkdGhpcy0+c(Vj$3Jkc19wZXJfZ3JvdXAgPSAxOw0KCQ)9DQoNCg0KCQkvLyR0aG)zLT5kYXRhX2NvdW50ID0gJHRvdGFsX3J)Y29yZHMgOw0KCX0gLy8gZnVuY3Rp$24gR()uZERhdGFMaW1pdHMNCg0KCWZ1$(N0aW9uIFN)dE1hc(dp$nMoKSB7DQoJCS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQoJCS8vIFdoZW4gdGh)IG)tYWd)IG)zIGZpcnN0IGNyZWF0ZWQgLSBzZXQgdGh)IG1hc(dp$nMNCgkJLy8gdG8gY(UgdGh)IHN0YW5kYXJkIHZpZXdw$3J0Lg0KCQkvLyBUaGUgc3Rh$(Rhc(Qgd())d3BvcnQgaXMgdGh)IGZ1$GwgYXJ)YSBvZiB0aGUgd())dyBzdXJ(YWN)IChvciBwYW5)$CksDQoJCS8vIGx)c3MgYSBtYXJnaW4g$2YgNCBjaGFyYWN0ZXIgaGVpZ2h0cyBh$Gwgc(91$(QgZ(9yIGxhY(Vs$G)uZy4NCgkJLy8gSXQgdGh1cyBkZXB)$(RzIG9uIHRoZSBjdXJyZW50IGNoYXJhY3R)ciBzaXp)LCBzZXQgYnkgU2V0Q2hhc(FjdGVySGVpZ2h0KCkuDQoJCS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQoNCgkJJHN0ciA9IHNw$G)0KCJc$iIsJHRoaXMtPnRpdGx)X3R4dCk7IA0KCQkk$(JMaW5)cyA9IGNvdW50KCRzdHIpOyANCg0KCQ)pZiAoJHRoaXMtPnVzZV90dGYgPT0gMSkgew0KCQkJJHRpdGx)X3Npe(UgPSAkdGhpcy0+VFRGQkJveFNpe(UoJHRoaXMtPnRpdGx)X3R0Z(Zv$nRfc2)6ZSwgJHRoaXMtPnRpdGx)X2FuZ2x)LCAkdGhpcy0+dG)0$GVfdHR(Z(9udCwgJ1gnKTsgLy9B$iBhcnJheQ0KCQkJaWYgKCRuYkxp$(VzID09IDEpIHsgDQoJCQkJJHRoaXMtPn)fdG9wX21hc(dp$iA9ICR0aXRsZV9zaXp)WzFdICogNDsNCgkJCX0gZWxzZSB7IA0KCQkJCSR0aG)zLT55X3RvcF9tYXJnaW4gPSAkdG)0$GVfc2)6ZVsxXSAqICgk$(JMaW5)cyszKTsNCgkJCX0NCg0KCQkJLy9ha(8gd29ya2)uZyBoZXJ)DQoJCQkvLyR4X2xhY(VsX3Npe(UgPSAkdGhpcy0+VFRGQkJveFNpe(UoJHRoaXMtPnhf$GFiZWxfdHR(Z(9udF9zaXp)LCAwLCAkdGhpcy0+YXhpc190dGZ($250LCAkdGhpcy0+eF9sYWJ)$F90eHQpOw0KDQoJCQkkdGhpcy0+eV9i$3Rf$WFyZ2)uID0gJHRoaXMtPnhf$GFiZWxfaGVpZ2h0IDsNCgkJCSR0aG)zLT54X2x)ZnRf$WFyZ2)uID0gJHRoaXMtPn)f$GFiZWxfd2)kdGggKiAyICsgJHRoaXMtPnRpY2tf$GVuZ3RoOw0KCQkJJHRoaXMtPnhfc()naHRf$WFyZ2)uID0gMzMuMDsgLy8gZG)zdGFuY2UgY(V0d2V)$iByaWdodCBh$(QgZW5kIG9(IHggYXhpcyBp$iBwaXh)$HMgDQoJCX0gZWxzZSB7DQoJCQkkdG)0$GVfc2)6ZSA9IGFyc(F5KE)tYWd)R(9udFdpZHRoKCR0aG)zLT50aXRsZV9($250KSAqIHN0c(x)$igkdGhpcy0+dG)0$GVfdHh0KSxJ$WFnZUZv$nRIZW)naHQoJHRoaXMtPnRpdGx)X2Zv$nQpKTsNCgkJCS8vJHRoaXMtPn)fdG9wX21hc(dp$iA9ICgkdG)0$GVfc2)6ZVsxXSAqIDQpOw0KCQkJaWYgKCRuYkxp$(VzID09IDEpIHsgDQoJCQkJJHRoaXMtPn)fdG9wX21hc(dp$iA9ICR0aXRsZV9zaXp)WzFdICogNDsNCgkJCX0gZWxzZSB7IA0KCQkJCSR0aG)zLT55X3RvcF9tYXJnaW4gPSAkdG)0$GVfc2)6ZVsxXSAqICgk$(JMaW5)cyszKTsNCgkJCX0NCgkJCW)(ICgkdGhpcy0+eF9kYXRh$GFiZWxfYW5n$GUgPT0gOTApIHsNCgkJCQkkdGhpcy0+eV9i$3Rf$WFyZ2)uID0gNzYuMDsgLy8gTXVzdCBiZSBp$nR)Z2VyDQoJCQ)9IGVsc2Ugew0KCQkJCSR0aG)zLT55X2JvdF9tYXJnaW4gPSA2Ni4wOyAvLyBNdXN0IGJ)IG)udGVnZXINCgkJCX0NCgkJCSR0aG)zLT54X2x)ZnRf$WFyZ2)uID0gNzcuMDsgLy8gZG)zdGFuY2UgY(V0d2V)$iBsZWZ0IGFuZCBzdGFydCBvZiB4IGF4aXMgaW4gcG)4ZWxzDQoJCQkkdGhpcy0+eF9yaWdodF9tYXJnaW4gPSAzMy4wOyAvLyBkaXN0YW5jZSBiZXR3ZWVuIHJpZ2h0IGFuZCB)$(Qg$2YgeCBheG)zIG)uIHBpeGVscw0KCQ)9DQoNCi8vZXhpdDsNCgkJJHRoaXMtPnhfdG90X21hc(dp$iA9ICR0aG)zLT54X2x)ZnRf$WFyZ2)uICsgJHRoaXMtPnhfc()naHRf$WFyZ2)uOw0KCQkkdGhpcy0+eV90$3Rf$WFyZ2)uID0gJHRoaXMtPn)fdG9wX21hc(dp$iArICR0aG)zLT55X2JvdF9tYXJnaW47DQoNCgkJaWYgKCR0aG)zLT5w$G90X21heF94ICY(ICR0aG)zLT5w$G90X21heF95ICY(ICR0aG)zLT5w$G90X2FyZWFfd2)kdGggKSB7IC8vSWYgZGF0YSBoYXMgYWxyZWFkeSBiZWVuIGFuYWx5c2VkIHRoZW4gc2V0IHRyYW5z$GF0aW9uDQoJCQkkdGhpcy0+U2V0VHJh$nNsYXRp$24oKTsNCgkJfQ0KCX0NCg0KCWZ1$(N0aW9uIFN)dE1hc(dp$nNQaXh)$HMoJHdoaWNoX2xtLCR3aG)jaF9y$Swkd2hpY2hfdG0sJHdoaWNoX2JtKSB7IA0KCQkvL1N)dCB0aGUgcGxvdCBhc(VhIHVzaW5nIG1hc(dp$nMgaW4gcG)4ZWxzIChsZWZ0LCByaWdodCwgdG9wLCBi$3R0$20pDQoJCSR0aG)zLT5TZXROZXdQ$G90QXJ)YVBpeGVscygkd2hpY2hf$G0sJHdoaWNoX3RtLCgkdGhpcy0+aW1hZ2Vfd2)kdGggLSAkd2hpY2hfc(0pLCgkdGhpcy0+aW1hZ2VfaGVpZ2h0IC0gJHdoaWNoX2JtKSk7DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg0KCWZ1$(N0aW9uIFN)dE5)d1Bs$3RBc(VhUG)4ZWxzKCR4MSwkeTEsJHgyLCR5Mikgew0KCQkvL0xpa2UgaW4gR0QgMCwwIG)zIHVwcGVyIGx)ZnQgc2V0IHZpYSBwaXh)$CBD$29yZG)uYXR)cw0KCQkkdGhpcy0+cGxvdF9hc(VhID0gYXJyYXkoJHgxLCR5MSwkeDIsJHkyKTsNCgkJJHRoaXMtPnBs$3RfYXJ)YV93aWR0aCA9ICR0aG)zLT5w$G90X2FyZWF$M)0gLSAkdGhpcy0+cGxvdF9hc(VhWzBdOw0KCQkkdGhpcy0+cGxvdF9hc(VhX2h)aWdodCA9ICR0aG)zLT5w$G90X2FyZWF$M10gLSAkdGhpcy0+cGxvdF9hc(VhWzFdOw0KCQkkdGhpcy0+eV90$3Bf$WFyZ2)uID0gJHRoaXMtPnBs$3RfYXJ)YVsxXTsNCgkJaWYgKCR0aG)zLT5w$G90X21heF94KSB7DQoJCQkkdGhpcy0+U2V0VHJh$nNsYXRp$24oKTsNCgkJfQ0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoNCg)(dW5jdG)v$iBTZXRQ$G90QXJ)YVBpeGVscygkeDEsJHkxLCR4MiwkeTIpIHsNCgkJLy9MaWt)IG)uIEdEIDAsMCBpcyB1cHB)ciBsZWZ0DQoJCW)(ICghJHRoaXMtPnhfdG90X21hc(dp$ikgew0KCQkJJHRoaXMtP)N)dE1hc(dp$nMoKTsNCgkJfQ0KCQ)pZiAoJHgyICY(ICR5Mikgew0KCQkJJHRoaXMtPnBs$3RfYXJ)YSA9IGFyc(F5KCR4MSwkeTEsJHgyLCR5Mik7DQoJCX0gZWxzZSB7DQoJCQkkdGhpcy0+cGxvdF9hc(VhID0gYXJyYXkoJHRoaXMtPnhf$GV(dF9tYXJnaW4sICR0aG)zLT55X3RvcF9tYXJnaW4sDQoJCQkJCQkJCSR0aG)zLT5p$WFnZV93aWR0aCAtICR0aG)zLT54X3JpZ2h0X21hc(dp$iwNCgkJCQkJCQkJJHRoaXMtP()tYWd)X2h)aWdodCAtICR0aG)zLT55X2JvdF9tYXJnaW4NCgkJCQkJCQkpOw0KCQ)9DQoJCSR0aG)zLT5w$G90X2FyZWFfd2)kdGggPSAkdGhpcy0+cGxvdF9hc(VhWzJdIC0gJHRoaXMtPnBs$3RfYXJ)YVswXTsNCgkJJHRoaXMtPnBs$3RfYXJ)YV9oZW)naHQgPSAkdGhpcy0+cGxvdF9hc(VhWzNdIC0gJHRoaXMtPnBs$3RfYXJ)YVsxXTsNCg0KCQ)yZXR1c(4gdHJ1ZTsNCg0KCX0NCg0KCWZ1$(N0aW9uIFN)dFBs$3RBc(VhV29y$GQoJHhtaW4sJH)taW4sJHhtYXgsJH)tYXgpIHsNCgkJaWYgKCgkeG1p$iA9PSAiIikgICY(ICgkeG1heCA9PSAiIikpIHsNCgkJCS8vR(9yIGF1dG9tYXRpYyBzZXR0aW5nIG9(IGRhdGEgd2Ug$(V)ZCAkdGhpcy0+$WF4X3gNCgkJCQ)pZiAoISR0aG)zLT5tYXhfeSkgew0KCQkJCQkkdGhpcy0+R()uZERhdGFMaW1pdHMoKSA7DQoJCQkJfQ0KCQkJCW)(ICgkdGhpcy0+ZGF0YV90eXB)ID09ICd0ZXh0LWRhdGEnKSB7IC8v$GFiZWxzIGZvciB0ZXh0LWRhdGEgaXMgZG9uZSBhdCBkYXRhIGRyYXdp$(cgdG)tZSB($3Igc3B)ZWQuDQoJCQkJCSR4$WF4ID0gJHRoaXMtP(1heF94ICsgMSA7ICAvL3Zh$G)kIGZvciBCQVIgQ0hBU)QgVF)QRSBHUkFQSFMgT05MWQ0KCQkJCQkkeG1p$iA9IDAgOyAJCQkJLy92YWxpZCB($3IgQkFSIENIQVJUIFRZUEUgR1JBUEhTIE9OTFkNCgkJCQ)9IGVsc2Ugew0KCQkJCQkkeG1heCA9ICR0aG)zLT5tYXhfeCAqIDEuMDI7DQoJCQkJCSR4$W)uID0gJHRoaXMtP(1p$)94Ow0KCQkJCX0NCg0KCQkJCSR5$WF4ID0gY2Vp$CgkdGhpcy0+$WF4X3kgKiAxLjIpOw0KCQkJCW)(ICgkdGhpcy0+$W)uX3kgPCAwKSB7DQoJCQkJCSR5$W)uID0gZ(xv$3IoJHRoaXMtP(1p$)95ICogMS4yKTsNCgkJCQ)9IGVsc2Ugew0KCQkJCQkkeW1p$iA9IDA7DQoJCQkJfQ0KCQ)9DQoNCgkJJHRoaXMtPnBs$3Rf$W)uX3ggPSAkeG1p$jsNCgkJJHRoaXMtPnBs$3Rf$WF4X3ggPSAkeG1heDsNCg0KCQ)pZiAoJH)taW4gPT0gJH)tYXgpIHsNCgkJCSR5$WF4ICs9IDE7DQoJCX0NCgkJaWYgKCR0aG)zLT55c2Nh$GVfdH)wZSA9PSAi$G9nIikgeyANCgkJCS8vZXh0c(EgZXJy$3IgY2h)Y2tp$(cNCgkJCW)(ICgkeW1p$iA8PSAwKSB7IA0KCQkJCSR5$W)uID0gMTsNCgkJCX0gDQoJCQ)pZiAoJH)tYXggPD0gMCkgeyANCgkJCQkkdGhpcy0+UHJp$nRFcnJvcignTG9nIHBs$3RzIG5)ZWQgZGF0YSBnc(VhdGVyIHRoYW4gMCcpOw0KCQkJfQ0KCQ)9DQoJCSR0aG)zLT5w$G90X21p$)95ID0gJH)taW47DQoJCSR0aG)zLT5w$G90X21heF95ID0gJH)tYXg7DQoNCgkJaWYgKCR5$WF4IDw9ICR5$W)uKSB7DQoJCQkkdGhpcy0+RHJhd0Vyc(9yKCdFcnJvciBp$iBEYXRhIC0g$WF4IG5vdCBndCBtaW4nKTsNCgkJfQ0KDQovL1N)dCB0aGUgY(91$(Rhc())cyBvZiB0aGUgY(94IGZvciBw$G90dG)uZyBp$iB3$3JsZCBj$29yZA0KLy8JCW)(ICghJHRoaXMtPnhfdG90X21hc(dp$ikgeyAvL1d)IG5)ZWQgdG8ga25vdyB0aGUg$WFyZ2)ucyBiZWZvc(Ugd2UgY2FuIGNh$GN1$GF0ZSBzY2FsZQ0KLy8JCQkkdGhpcy0+U2V0TWFyZ2)ucygpOw0KLy8JCX0NCgkJLy9G$3IgdGhpcyB3ZSBoYXZ)IHRvIHJ)c2V0IHRoZSBzY2FsZQ0KCQ)pZiAoJHRoaXMtPnBs$3RfYXJ)YV93aWR0aCkgew0KCQkJJHRoaXMtP)N)dFRyYW5z$GF0aW9uKCk7DQoJCX0NCg0KCQ)yZXR1c(4gdHJ1ZTsNCg0KCX0gLy9(dW5jdG)v$iBTZXRQ$G90QXJ)YVdvc(xkDQoNCg0KCWZ1$(N0aW9uIFByaW50RXJy$3IoJGVyc(9yX21)c3NhZ2UpIHsNCgkvLyBwc()udHMgdGh)IGVyc(9yIG1)c3NhZ2UgdG8gc3Rk$3V0IGFuZCBkaWUNCgkJZWNo$yAiPHA+PGI+R(F0YWwgZXJy$3I8L2I+OiAkZXJy$3Jf$WVzc2FnZTxwPiI7DQoJCWRpZTsNCg)9DQoNCg)(dW5jdG)v$iBEc(F3RXJy$3IoJGVyc(9yX21)c3NhZ2UpIHsNCgkvLyBwc()udHMgdGh)IGVyc(9yIG1)c3NhZ2UgaW5saW5)IG)udG8NCgkvLyB0aGUgZ2VuZXJhdGVkIG)tYWd)DQoNCgkJaWYgKCgkdGhpcy0+aW1nKSA9PSAiIikgeyAkdGhpcy0+SW5pdE)tYWd)KCk7IH0gOw0KDQoJCSR5cG9zID0gJHRoaXMtP()tYWd)X2h)aWdodC8yOw0KDQoJCW)(ICgkdGhpcy0+dXN)X3R0ZiA9PSAxKSB7DQoJCQ)J$WFnZVJ)Y3Rh$(dsZSgkdGhpcy0+aW1nLCAwLDAsJHRoaXMtP()tYWd)X3dpZHRoLCR0aG)zLT5p$WFnZV9oZW)naHQsSW1hZ2VD$2xvckFs$G9jYXR)KCR0aG)zLT5p$WcsMjU1LDI1NSwyNTUpKTsNCgkJCU)tYWd)VFRGVGV4dCgkdGhpcy0+aW1nLCAkdGhpcy0+c21h$GxfdHR(Z(9udF9zaXp)LCAwLCAkeHBvcywgJH)w$3MsIE)tYWd)Q29s$3JB$GxvY2F0ZSgkdGhpcy0+aW1nLDAsMCwwKSwgJHRoaXMtP(F4aXNfdHR(Z(9udCwgJGVyc(9yX21)c3NhZ2UpOw0KCQ)9IGVsc2Ugew0KCQkJSW1hZ2VSZWN0YW5n$GUoJHRoaXMtP()tZywgMCwwLCR0aG)zLT5p$WFnZV93aWR0aCwkdGhpcy0+aW1hZ2VfaGVpZ2h0LE)tYWd)Q29s$3JB$GxvY2F0ZSgkdGhpcy0+aW1nLDI1NSwyNTUsMjU1KSk7DQoJCQ)J$WFnZVN0c()uZygkdGhpcy0+aW1nLCAkdGhpcy0+c21h$GxfZ(9udCwxLCR5cG9zLCR)cnJvc)9tZXNzYWd)LCBJ$WFnZUNv$G9yQWxs$2NhdGUoJHRoaXMtP()tZywwLDAsMCkpOw0KCQ)9DQoNCgkJJHRoaXMtP)ByaW50SW1hZ2UoKTsNCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoJZnVuY3Rp$24gVFRGQkJveFNpe(UoJHNpe(UsICRh$(dsZSwgJGZv$nQsICRzdHJp$(cpIHsNCg0KCQkvL0Fzc3VtZSBh$(dsZSA8IDkwDQoJCSRhcnIgPSBJ$WFnZVRURkJC$3goJHNpe(UsIDAsICR($250LCAkc3RyaW5nKTsNCgkJJGZsYXRfd2)kdGggID0gJGFyc)swXSAtICRhcnJ$M)07DQoJCSR($GF0X2h)aWdodCA9IGFicygkYXJyWzNdIC0gJGFyc)s1XSk7DQoNCgkJCS8vIGZvciA5MGR)ZzoNCgkJCS8vCSRoZW)naHQgPSAkYXJyWzVdIC0gJGFyc)s3XTsNCgkJCS8vCSR3aWR0aCA9ICRhcnJ$M)0gLSAkYXJyWzRdOw0KDQoJCSRh$(dsZSA9IGR)ZzJyYWQoJGFuZ2x)KTsNCgkJJHdpZHRoICA9IGN)aWwoYWJzKCR($GF0X3dpZHRoK(NvcygkYW5n$GUpICsgJGZsYXRfaGVpZ2h0KnNp$igkYW5n$GUpKSk7IC8vTXVzdCBiZSBp$nR)Z2VyDQoJCSRoZW)naHQgPSBjZW)sKGFicygkZ(xhdF93aWR0aCpzaW4oJGFuZ2x)KSArICR($GF0X2h)aWdodCpj$3MoJGFuZ2x)KSkpOyAvL011c3QgY(UgaW50ZWd)cg0KDQoJCXJ)dHVy$iBhcnJheSgkd2)kdGgsICRoZW)naHQpOw0KCX0NCg0KCWZ1$(N0aW9uIFN)dFhMYWJ)$Eh)aWdodCgpIHsNCg0KCQ)pZiAoJHRoaXMtPnVzZV90dGYgPT0gMSkgew0KCQkJLy9TcGFjZSB($3IgdGh)IFggTGFiZWwNCgkJCSRzaXp)ID0gJHRoaXMtP)RURkJC$3hTaXp)KCR0aG)zLT54X2xhY(VsX3R0Z(Zv$nRfc2)6ZSwgMCwgJHRoaXMtP(F4aXNfdHR(Z(9udCwgJHRoaXMtPnhf$GFiZWxfdHh0KTsNCgkJCSR0$XAgPSAkc2)6ZVsxXTsNCg0KCQkJLy8kc3RyaW5nID0gU3RyX1J)cGVhdCgndycsICR0aG)zLT54X2RhdGFsYWJ)$F9tYXhsZW5ndGgpOw0KCQkJJGkgPSAwOw0KCQkJJHN0c()uZyA9ICcnOw0KCQkJd2hp$GUgKCRpIDwgJHRoaXMtPnhfZGF0YWxhY(VsX21heGx)$(d0aCkgew0KCQkJICAkc3RyaW5nIC49ICd3JzsNCgkJCSAgJGkrKzsNCgkJCX0NCg0KCQkJLy9TcGFjZSB($3IgdGh)IGF4aXMgZGF0YSBsYWJ)$HMNCgkJCSRzaXp)ID0gJHRoaXMtP)RURkJC$3hTaXp)KCR0aG)zLT5heG)zX3R0Z(Zv$nRfc2)6ZSwgJHRoaXMtPnhfZGF0YWxhY(VsX2FuZ2x)LCAkdGhpcy0+YXhpc190dGZ($250LCAkc3RyaW5nKTsNCg0KCQkJJHRoaXMtPnhf$GFiZWxfaGVpZ2h0ID0gMiokdG1wICsgJHNpe(V$MV0gKyA0Ow0KDQoJCX0gZWxzZSB7DQoJCQkvL0ZvciBO$24tVFRGIGZv$nRzIHd)IGNh$iBoYXZ)IG9u$HkgYW5n$GVzIDAg$3IgOTANCgkJCW)(ICgkdGhpcy0+eF9kYXRh$GFiZWxfYW5n$GUgPT0gOTApIHsNCgkJCQkkdGhpcy0+eF9sYWJ)$F9oZW)naHQgPSAkdGhpcy0+eF9kYXRh$GFiZWxf$WF4$GVuZ3RoICogSW1hZ2VG$250V2)kdGgoJHRoaXMtPnNtYWxsX2Zv$nQpIC8gMS41Ow0KCQkJfSB)$HN)IHsNCgkJCQkkdGhpcy0+eF9sYWJ)$F9oZW)naHQgPSA1ICogSW1hZ2VG$250SGVpZ2h0KCR0aG)zLT5z$WFs$F9($250KTsNCgkJCX0NCgkJfQ0KDQoJCSR0aG)zLT5TZXRNYXJnaW5zKCk7DQoNCgkJc(V0dXJuIHRydWU7DQoJfSAvL2Z1$(N0aW9uIFN)dFhMYWJ)$Eh)aWdodA0KDQoJZnVuY3Rp$24gU2V0WUxhY(VsV2)kdGgoKSB7DQoJCS8vJH)sYWIgPSBzcHJp$nR(KCI)Ni4xZiA)cyIsJGksJHNpX3VuaXRzWzBdKTsgIC8vdXN)IGZvciBQSFAyIGNv$XBhdG)iaWxpdHkNCgkJLy90aGUgIi4iIG)zIGZvciBzcGFjZS4gSXQgaXNuJ3QgYWN0dWFs$HkgcHJp$nR)ZA0KCQkkeWxhYiA9IG51$WJ)c)9($3JtYXQoJHRoaXMtP(1heF95LCAkdGhpcy0+eV9wc(VjaXNp$24sICIuIiwgIiwiKSAuICR0aG)zLT5zaV91$()0cyAuICIuIjsNCg0KCQ)pZiAoJHRoaXMtPnVzZV90dGYgPT0gMSkgew0KCQkJJHNpe(UgPSAkdGhpcy0+VFRGQkJveFNpe(UoJHRoaXMtP(F4aXNfdHR(Z(9udF9zaXp)LCAwLCAkdGhpcy0+YXhpc190dGZ($250LCAkeWxhYik7DQoJCX0gZWxzZSB7DQoJCQkkc2)6ZVswXSA9IFN0ckx)$igkeWxhYikgKiAkdGhpcy0+c21h$GxfZ(9udF93aWR0aCAqIC42Ow0KCQ)9DQoNCgkJJHRoaXMtPn)f$GFiZWxfd2)kdGggPSAkc2)6ZVswXSAqIDI7DQovL2VjaG8gI)NZTFc6ICR0aG)zLT55X2xhY(VsX3dpZHRoPGJyPiI7DQovL2V4aXQ7DQoNCgkJJHRoaXMtP)N)dE1hc(dp$nMoKTsNCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoJZnVuY3Rp$24gU2V0RXF1YWxYQ29vc(QoKSB7DQoJCS8vZ(9yIHBs$3RzIHRoYXQgaGF2ZSB)cXVh$Gx5IHNwYWN)ZCB4IHZhc()hY(x)cyBh$(Qg$XVsdG)w$GUgY(FycyBwZXIgeC1w$2)udC4NCg0KCQkkc3BhY2UgPSAoJHRoaXMtPnBs$3RfYXJ)YVsyXSAtICR0aG)zLT5w$G90X2FyZWF$MF0pIC8gKCR0aG)zLT5udW1iZXJfeF9w$2)udHMgKiAyKSAqICR0aG)zLT5nc(91cF9(c(FjX3dpZHRoOw0KCQkkZ3JvdXBfd2)kdGggPSAkc3BhY2UgKiAyOw0KCQkkY(FyX3dpZHRoID0gJGdy$3VwX3dpZHRoIC8gJHRoaXMtPnJ)Y29yZHNfcGVyX2dy$3VwOw0KICAvL0kgdGhp$(sgdGhhdCB)d(VudHVh$Gx5IHRoaXMgc3BhY2Ugd(FyaWFi$GUgd2)s$CBiZSByZXBsYWN)ZCBieSBqdXN0IGdyYXBoaW5nIHguDQoJCSR0aG)zLT5kYXRhX2dy$3VwX3NwYWN)ID0gJHNwYWN)Ow0KCQkkdGhpcy0+c(Vj$3JkX2Jhc)93aWR0aCA9ICRiYXJfd2)kdGg7DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg0KCWZ1$(N0aW9uIFN)dExhY(VsU2Nh$GVQ$3NpdG)v$igkd2hpY2hfY(xwKSB7DQoJCS8vMCB0$yAxDQoJCSR0aG)zLT5sYWJ)$F9zY2FsZV9w$3NpdG)v$iA9ICR3aG)jaF9i$HA7DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg0KCWZ1$(N0aW9uIFN)dEVyc(9yQ(FyU2)6ZSgkd2hpY2hfZWJzKSB7DQoJCS8vaW4gcG)4ZWxzDQoJCSR0aG)zLT5)cnJvc)9iYXJfc2)6ZSA9ICR3aG)jaF9)YnM7DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg0KCWZ1$(N0aW9uIFN)dEVyc(9yQ(FyU2hhcGUoJHdoaWNoX2Vicykgew0KCQkvL2)uIHBpeGVscw0KCQkkdGhpcy0+ZXJy$3JfY(FyX3NoYXB)ID0gJHdoaWNoX2ViczsNCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoJZnVuY3Rp$24gU2V0UG9p$nRTaGFwZSgkd2hpY2hfcHQpIHsNCgkJLy9p$iBwaXh)$HMNCgkJJHRoaXMtPnBvaW50X3NoYXB)ID0gJHdoaWNoX3B0Ow0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoNCg)(dW5jdG)v$iBTZXRQ$2)udFNpe(UoJHdoaWNoX3BzKSB7DQoJCS8vaW4gcG)4ZWxzDQoJCVN)dFR5cGUoJHdoaWNoX3BzLCdp$nR)Z2VyJyk7DQoJCSR0aG)zLT5w$2)udF9zaXp)ID0gJHdoaWNoX3BzOw0KDQoJCW)(ICgkdGhpcy0+cG9p$nRfc2hhcGUgPT0gI(RpYW1v$(QiIG9yICR0aG)zLT5w$2)udF9zaGFwZSA9PSAidHJpYW5n$GUiKSB7DQoJCQ)pZiAoJHRoaXMtPnBvaW50X3Npe(UgJSAyICE9IDApIHsNCgkJCQkkdGhpcy0+cG9p$nRfc2)6ZSsrOw0KCQkJfQ0KCQ)9DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg0KCWZ1$(N0aW9uIFN)dERhdGFUeXB)KCR3aG)jaF9kdCkgew0KCQkvL1RoZSBuZXh0IHRoc(V)IGxp$(VzIGFyZSB($3IgcGFzdCBj$21wYXRpY()saXR5Lg0KCQ)pZiAoJHdoaWNoX2R0ID09ICJ0ZXh0LWxp$(VhciIpIHsgJHdoaWNoX2R0ID0gInR)eHQtZGF0YSI7IH07DQoJCW)(ICgkd2hpY2hfZHQgPT0gI(xp$(Vhci1saW5)YXIiKSB7ICR3aG)jaF9kdCA9ICJkYXRhLWRhdGEiOyB9Ow0KCQ)pZiAoJHdoaWNoX2R0ID09ICJsaW5)YXIt$G)uZWFyLWVyc(9yIikgeyAkd2hpY2hfZHQgPSAiZGF0YS1kYXRhLWVyc(9yIjsgfTsNCg0KCQkkdGhpcy0+ZGF0YV90eXB)ID0gJHdoaWNoX2R0OyAvL3R)eHQtZGF0YSwgZGF0YS1kYXRhLCBkYXRhLWRhdGEtZXJy$3INCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoJZnVuY3Rp$24gU2V0RGF0YVZh$HV)cygkd2hpY2hfZHYpIHsNCgkJJHRoaXMtP(RhdGFfd(FsdWVzID0gJHdoaWNoX2R2Ow0KLy9)Y2hvICR0aG)zLT5kYXRhX3Zh$HV)cw0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoNCi8vLy8vLy8vLy8vLy8vQ09MT1JTDQoJZnVuY3Rp$24gU2V0UkdCQXJyYXkgKCR3aG)jaF9j$2xvc)9hcnJheSkgeyANCgkJaWYgKCBpc19hcnJheSgkd2hpY2hfY29s$3JfYXJyYXkpICkgeyANCgkJCS8vVXN)ciBEZWZp$(VkIEFyc(F5DQoJCQkkdGhpcy0+c(diX2Fyc(F5ID0gJHdoaWNoX2Nv$G9yX2Fyc(F5Ow0KCQkJc(V0dXJuIHRydWU7DQoJCX0gZWxzZW)(ICgkd2hpY2hfY29s$3JfYXJyYXkgPT0gMikgeyAvL1VzZSB0aGUgc21h$GwgcHJ)ZGV(aW5)ZCBj$2xvciBhcnJheQ0KCQkkdGhpcy0+c(diX2Fyc(F5ID0gYXJyYXkoDQoJCQkid2hpdGUiCQkJPT4gYXJyYXkoMjU1LCAyNTUsIDI1NSksDQoJCQkic25vdyIJCQk9PiBhcnJheSgyNTUsIDI1MCwgMjUwKSwNCgkJCSJQZWFjaFB1Z(YiCQk9PiBhcnJheSgyNTUsIDIxOCwgMTg1KSwNCgkJCSJpd(9yeSIJCQk9PiBhcnJheSgyNTUsIDI1NSwgMjQwKSwNCgkJCSJsYXZ)$(R)ciIJCT0+IGFyc(F5KDIzMCwgMjMwLCAyNTApLA0KCQkJI(JsYWNrIgkJCT0+IGFyc(F5KCAgMCwgICAwLCAgIDApLA0KCQkJIkRp$UdyZXkiCQkJPT4gYXJyYXkoMTA1LCAxMDUsIDEwNSksDQoJCQkiZ3JheSIJCQk9PiBhcnJheSgxOTAsIDE5MCwgMTkwKSwNCgkJCSJnc(V5IgkJCT0+IGFyc(F5KDE5MCwgMTkwLCAxOTApLA0KCQkJI(5hdnkiCQkJPT4gYXJyYXkoICAwLCAgIDAsIDEyOCksDQoJCQkiU2xhdGVC$HV)IgkJCT0+IGFyc(F5KDEwNiwgIDkwLCAyMDUpLA0KCQkJI(JsdWUiCQkJPT4gYXJyYXkoICAwLCAgIDAsIDI1NSksDQoJCQkiU2t5Q(x1ZSIJCQk9PiBhcnJheSgxMzUsIDIwNiwgMjM1KSwNCgkJCSJjeWFuIgkJCT0+IGFyc(F5KCAgMCwgMjU1LCAyNTUpLA0KCQkJIkRhc(tHc(V)$iIJCQk9PiBhcnJheSggIDAsIDEwMCwgICAwKSwNCgkJCSJnc(V)$iIJCQk9PiBhcnJheSggIDAsIDI1NSwgICAwKSwNCgkJCSJZZWxs$3dHc(V)$iIJCQk9PiBhcnJheSgxNTQsIDIwNSwgIDUwKSwNCgkJCSJ5ZWxs$3ciCQkJPT4gYXJyYXkoMjU1LCAyNTUsICAgMCksDQoJCQki$3Jh$(d)IgkJCT0+IGFyc(F5KDI1NSwgMTY1LCAgIDApLA0KCQkJI(dv$GQiCQkJPT4gYXJyYXkoMjU1LCAyMTUsICAgMCksDQoJCQkicGVydSIJCQk9PiBhcnJheSgyMDUsIDEzMywgIDYzKSwNCgkJCSJiZW)nZSIJCQk9PiBhcnJheSgyNDUsIDI0NSwgMjIwKSwNCgkJCSJ3aGVhdCIJCQk9PiBhcnJheSgyNDUsIDIyMiwgMTc5KSwNCgkJCSJ0YW4iCQkJPT4gYXJyYXkoMjEwLCAxODAsIDE0MCksDQoJCQkiYnJvd24iCQkJPT4gYXJyYXkoMTY1LCAgNDIsICA0MiksDQoJCQkic2Fs$W9uIgkJCT0+IGFyc(F5KDI1MCwgMTI4LCAxMTQpLA0KCQkJInJ)ZCIJCQk9PiBhcnJheSgyNTUsICAgMCwgICAwKSwNCgkJCSJwaW5rIgkJCT0+IGFyc(F5KDI1NSwgMTkyLCAyMDMpLA0KCQkJI(1hc(9v$iIJCQk9PiBhcnJheSgxNzYsICA0OCwgIDk2KSwNCgkJCSJtYWd)$nRhIgkJCT0+IGFyc(F5KDI1NSwgICAwLCAyNTUpLA0KCQkJInZp$2x)dCIJCQk9PiBhcnJheSgyMzgsIDEzMCwgMjM4KSwNCgkJCSJw$HVtIgkJCT0+IGFyc(F5KDIyMSwgMTYwLCAyMjEpLA0KCQkJI(9yY2hpZCIJCQk9PiBhcnJheSgyMTgsIDExMiwgMjE0KSwNCgkJCSJwdXJw$GUiCQkJPT4gYXJyYXkoMTYwLCAgMzIsIDI0MCksDQoJCQkiYXp1c(UxIgkJCT0+IGFyc(F5KDI0MCwgMjU1LCAyNTUpLA0KCQkJI(FxdWFtYXJp$(UxIgkJPT4gYXJyYXkoMTI3LCAyNTUsIDIxMikNCgkJCSk7DQoJCQ)yZXR1c(4gdHJ1ZTsNCgkJfSB)$HN)aWYgKCR3aG)jaF9j$2xvc)9hcnJheSA9PSAxKSAgeyANCgkJCW)uY2x1ZGUoIi4vc(diL()uYy5waHAiKTsgLy9HZXQg$GFyZ2UgJENv$G9yQXJyYXkNCgkJCSR0aG)zLT5yZ2JfYXJyYXkgPSAkUkdCQXJyYXk7DQoJCX0gZWxzZSB7IA0KCQkJJHRoaXMtPnJnY)9hcnJheSA9IGFyc(F5KCJ3aG)0ZSIgPT5hcnJheSgyNTUsMjU1LDI1NSksICJi$GFjayIgPT4gYXJyYXkoMCwwLDApKTsNCgkJCWV4aXQ7DQoJCX0NCg0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoNCg)(dW5jdG)v$iBTZXRD$2xvcigkd2hpY2hfY29s$3IpIHsgDQoJCS8v$2Jz$2x)dGVkIGJ5IFN)dFJHQkNv$G9yDQoJCVN)dFJnYkNv$G9yKCR3aG)jaF9j$2xvcik7DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg0KCWZ1$(N0aW9uIFN)dE)uZGV4Q29s$3IoJHdoaWNoX2Nv$G9yKSB7IC8vQ29s$3IgaXMgcGFzc2VkIG)uIGFzIGFueXRoaW5nDQogIAkJ$G)zdCAoJHIsICRnLCAkYikgPSAkdGhpcy0+U2V0U(diQ29s$3IoJHdoaWNoX2Nv$G9yKTsgIC8vVHJh$nNsYXR)IHRvIFJHQg0KCQkkaW5kZXggPSBJ$WFnZUNv$G9yRXhhY3QoJHRoaXMtP()tZywgJHIsICRnLCAkYik7DQoJCW)(ICgkaW5kZXggPT0gLTEpIHsNCgkgIAkJCS8vc(V0dXJuIE)tYWd)Q29s$3JB$GxvY2F0ZSgkdGhpcy0+aW1nLCAkciwgJGcsICRiKTsNCgkgIAkJCS8vc(V0dXJuIE)tYWd)Q29s$3JD$G9zZXN0KCR0aG)zLT5p$WcsICRyLCAkZywgJGIpOw0KCSAgCQkJc(V0dXJuIE)tYWd)Q29s$3JSZXNv$HZ)KCR0aG)zLT5p$WcsICRyLCAkZywgJGIpOyAvL3J)cXVpc(VzIFBIUCAzLjAuMiBh$(Qg$GF0ZXINCiAJCX0gZWxzZSB7DQoJICAJCQ)yZXR1c(4gJG)uZGV4Ow0KICAJCX0NCg)9DQoJDQoJZnVuY3Rp$24gU2V0VHJh$nNwYXJ)$nRD$2xvcigkd2hpY2hfY29s$3IpIHsgDQoJCU)tYWd)Q29s$3JUc(Fuc3Bhc(VudCgkdGhpcy0+aW1nLCR0aG)zLT5TZXRJ$(R)eENv$G9yKCR3aG)jaF9j$2xvcikpOw0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoNCg)(dW5jdG)v$iBTZXRSZ2JD$2xvcigkY29s$3JfYXNrZWQpIHsNCgkJLy9SZXR1c(5zIGFuIGFyc(F5IG)uIFIsRyxCIGZvc(1hdCAwLTI1NQ0KCQ)pZiAoJGNv$G9yX2Fza2VkID09ICIiKSB7ICRj$2xvc)9hc2t)ZCA9IGFyc(F5KDAsMCwwKTsgfTsNCg0KCQ)pZiAoIGNvdW50KCRj$2xvc)9hc2t)ZCkgPT0gMyApIHsgLy9h$HJ)YWR5IGFyc(F5IG9(IDMgc(diDQoJICAgCQkkc(V0X3Zh$CA9ICAkY29s$3JfYXNrZWQ7DQoJCX0gZWxzZSB7IC8vIG)zIGFza2)uZyB($3IgYSBj$2xvciBieSBzdHJp$(cNCgkJCW)(KHN1YnN0cigkY29s$3JfYXNrZWQsMCwxKSA9PSAiIyIpIHsgIC8vYXNraW5nIG)uICNGRkZGRkYgZ(9y$WF0LiANCgkJCQkkc(V0X3Zh$CA9ICBhcnJheShoZXhkZWMoc3Vic3RyKCRj$2xvc)9hc2t)ZCwxLDIpKSwgaGV4ZGVjKHN1YnN0cigkY29s$3JfYXNrZWQsMywyKSksIGh)eGR)YyhzdWJzdHIoJGNv$G9yLDUsMikpKTsNCgkJCX0gZWxzZSB7IA0KCQkJCSRyZXRfd(FsID0gICR0aG)zLT5yZ2JfYXJyYX)$JGNv$G9yX2Fza2VkXTsNCgkJCX0NCgkJfQ0KCQ)yZXR1c(4gJHJ)dF92YWw7DQoJfQ0KDQoJZnVuY3Rp$24gU2V0RGF0YUNv$G9ycygkd2hpY2hfZGF0YSwkd2hpY2hfY(9yZGVyKSB7DQoJCS8vU2V0IHRoZSBkYXRhIHRvIGJ)IGRpc3BsYX))ZCBp$iBhIHBhcnRpY3VsYXIgY29s$3INCgkJaWYgKCEkd2hpY2hfZGF0YSkgew0KCQkJJHdoaWNoX2RhdGEgPSBhcnJheShhcnJheSgwLDI1NSwwKSxhcnJheSgwLDAsMjQ4KSwneWVs$G93JyxhcnJheSgyNTUsMCwwKSwn$3Jh$(d)Jyk7DQoJCQkkd2hpY2hfY(9yZGVyID0gYXJyYXkoJ2JsYWNrJyk7DQoJCX0NCg0KCQkkdGhpcy0+ZGF0YV9j$2xvciA9ICR3aG)jaF9kYXRhOyAgLy9h$iBhcnJheQ0KCQkkdGhpcy0+ZGF0YV9i$3JkZXJfY29s$3IgPSAkd2hpY2hfY(9yZGVyOyAgLy9h$iBhcnJheQ0KDQoJCXVuc2V0KCR0aG)zLT5uZHhfZGF0YV9j$2xvcik7DQoJCXJ)c2V0KCR0aG)zLT5kYXRhX2Nv$G9yKTsgIC8vZGF0YV9j$2xvciBjYW4gY(UgYW4gYXJyYXkg$2YgY29s$3JzLCBv$(UgZ(9yIGVhY2ggdGhp$(cgcGxvdHR)ZA0KCQkvL3doaWx)IChsaXN0KCwgJGNv$CkgPSB)YWNoKCR0aG)zLT5kYXRhX2Nv$G9yKSkgDQoJCSRpID0gMDsNCgkJd2hp$GUgKGxpc3QoLCAkY29sKSA9IGVhY2goJHdoaWNoX2RhdGEpKSB7DQoJCQkkdGhpcy0+$(R4X2RhdGFfY29s$3J$JG)dID0gJHRoaXMtP)N)dE)uZGV4Q29s$3IoJGNv$Ck7DQoJCQkkaSsrOw0KCQ)9DQoNCgkJLy8gY(9yZGVyX2Nv$G9yDQoJCS8vSWYgd2UgYXJ)IGFsc28gZ29p$(cgdG8gcHV0IGEgY(9yZGVyIG9uIHRoZSBkYXRhIChiYXJzLCBk$3RzLCBhc(VhLCAuLi4pDQoJCS8vCXRoZW4g$GV0cyBh$HNvIHN)dCBhIGJvc(R)ciBj$2xvciBhcyB3ZWxsLg0KCQkvL2Zvc(VhY2goJHRoaXMtP(RhdGFfY(9yZGVyX2Nv$G9yIGFzICRj$2wpIA0KCQ)1$nN)dCgkdGhpcy0+$(R4X2RhdGFfY(9yZGVyX2Nv$G9yKTsNCgkJc(VzZXQoJHRoaXMtP(RhdGFfY(9yZGVyX2Nv$G9yKTsNCgkJJGkgPSAwOw0KCQ)3aG)sZSAo$G)zdCgsICRj$2wpID0gZWFjaCgkdGhpcy0+ZGF0YV9i$3JkZXJfY29s$3IpKSB7DQoJCQkkdGhpcy0+$(R4X2RhdGFfY(9yZGVyX2Nv$G9yWyRpXSA9ICR0aG)zLT5TZXRJ$(R)eENv$G9yKCRj$2wpOw0KCQkJJGkrKzsNCgkJfQ0KDQoJCS8vU2V0IGNv$G9yIG9(IHRoZSB)cnJvciBiYXJzIHRvIGJ)IHRoYXQg$2YgZGF0YSBpZiBu$3QgYWxyZWFkeSBzZXQuIA0KCQ)pZiAoISR0aG)zLT5)cnJvc)9iYXJfY29s$3IpIHsgDQoJCQkJc(VzZXQoJHdoaWNoX2RhdGEpOw0KCQkJCSR0aG)zLT5TZXRFcnJvckJhckNv$G9ycygkd2hpY2hfZGF0YSk7DQoJCX0NCg0KCQ)yZXR1c(4gdHJ1ZTsNCg0KCX0gLy9(dW5jdG)v$iBTZXREYXRhQ29s$3JzDQoNCg)(dW5jdG)v$iBTZXRFcnJvckJhckNv$G9ycygkd2hpY2hfZGF0YSkgew0KDQoJIC8vU2V0IHRoZSBkYXRhIHRvIGJ)IGRpc3BsYX))ZCBp$iBhIHBhcnRpY3VsYXIgY29s$3INCg0KCSBpZiAoJHdoaWNoX2RhdGEpIHsNCgkJJHRoaXMtP(Vyc(9yX2Jhc)9j$2xvciA9ICR3aG)jaF9kYXRhOyAgLy9h$iBhcnJheQ0KCQ)1$nN)dCgkdGhpcy0+$(R4X2Vyc(9yX2Jhc)9j$2xvcik7DQoJCXJ)c2V0KCR0aG)zLT5)cnJvc)9iYXJfY29s$3IpOyAgLy9kYXRhX2Nv$G9yIGNh$iBiZSBh$iBhcnJheSBvZiBj$2xvcnMsIG9uZSB($3IgZWFjaCB0aG)uZyBw$G90dGVkDQoJCSRpID0gMDsNCgkJd2hp$GUgKGxpc3QoLCAkY29sKSA9IGVhY2goJHRoaXMtP(Vyc(9yX2Jhc)9j$2xvcikpIHsNCgkJCSR0aG)zLT5uZHhfZXJy$3JfY(FyX2Nv$G9yWyRpXSA9ICR0aG)zLT5TZXRJ$(R)eENv$G9yKCRj$2wpOw0KCQkJJGkrKzsNCgkJfQ0KCQ)yZXR1c(4gdHJ1ZTsNCgkgIH0NCgkgIHJ)dHVy$iB(YWxzZTsNCg)9IC8vZnVuY3Rp$24gU2V0RXJy$3JCYXJD$2xvcnMNCg0KDQoJZnVuY3Rp$24gRHJhd1Bs$3RC$3JkZXIoKSB7DQoJCXN3aXRjaCAoJHRoaXMtPnBs$3RfY(9yZGVyX3R5cGUpIHsNCgkJCWNhc2UgI(x)ZnQiIDoNCgkJCQ)J$WFnZUxp$(UoJHRoaXMtP()tZywgJHRoaXMtPnBs$3RfYXJ)YVswXSwkdGhpcy0+eXRyKCR0aG)zLT5w$G90X21p$)95KSwNCgkJCQkJJHRoaXMtPnBs$3RfYXJ)YVswXSwkdGhpcy0+eXRyKCR0aG)zLT5w$G90X21heF95KSwkdGhpcy0+$(R4X2dyaWRfY29s$3IpOw0KCQkJYnJ)YWs7DQoJCQ)jYXN)ICJu$25)IjoNCgkJCQkvL0RyYXcgT(8gQ(9yZGVyDQoJCQ)ic(VhazsNCgkJCWR)Z(F1$HQ6DQoJCQkJSW1hZ2VSZWN0YW5n$GUoJHRoaXMtP()tZywgJHRoaXMtPnBs$3RfYXJ)YVswXSwkdGhpcy0+eXRyKCR0aG)zLT5w$G90X21p$)95KSwNCgkJCQkJJHRoaXMtPnBs$3RfYXJ)YVsyXSwkdGhpcy0+eXRyKCR0aG)zLT5w$G90X21heF95KSwkdGhpcy0+$(R4X2dyaWRfY29s$3IpOw0KCQkJYnJ)YWs7DQoJCX0NCgkJJHRoaXMtPkRyYXdZQXhpcygpOw0KCQkkdGhpcy0+RHJhd1hBeG)zKCk7DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg0KDQoJZnVuY3Rp$24gU2V0SG9yaXpUaWNrSW5jc(VtZW50KCR3aG)jaF90aSkgew0KCQkvL1VzZSB)aXRoZXIgdGhpcyBvciBOdW1I$3Jpe)RpY2tzIHRvIHN)dCB3aGVyZSB0$yBw$GFjZSB4IHRpY2sg$WFya3MNCgkJaWYgKCR3aG)jaF90aSkgew0KCQkJJHRoaXMtP(hvc()6X3RpY2tfaW5jc(VtZW50ID0gJHdoaWNoX3RpOyAgLy93$3JsZCBj$29yZG)uYXR)cw0KCQ)9IGVsc2Ugew0KCQkJaWYgKCEkdGhpcy0+$WF4X3gpIHsNCgkJCQkkdGhpcy0+R()uZERhdGFMaW1pdHMoKTsgIC8vR2V0IG1heG)tYSBh$(Qg$W)uaW1hIGZvciBzY2FsaW5nDQoJCQ)9DQoJCQkvLyR0aG)zLT5o$3Jpe)90aWNrX2)uY3J)$WVudCA9ICggY2Vp$CgkdGhpcy0+$WF4X3ggKiAxLjIpIC0gZ(xv$3IoJHRoaXMtP(1p$)94ICogMS4yKSApLzEwOw0KCQkJJHRoaXMtP(hvc()6X3RpY2tfaW5jc(VtZW50ID0gICgkdGhpcy0+cGxvdF9tYXhfeCAgLSAkdGhpcy0+cGxvdF9taW5feCAgKS8xMDsNCgkJfQ0KCQkkdGhpcy0+$nVtX2hvc()6X3RpY2tzID0gJyc7IC8vZW)0aGVyIHVzZSBudW1fd(VydF90aWNrcyBvciB2ZXJ0X3RpY2tfaW5jc(VtZW50LCBu$3QgY(90aA0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoNCg)(dW5jdG)v$iBTZXREc(F3V(VydFRpY2tzKCR3aG)jaF9kdnQpIHsNCgkJJHRoaXMtP(RyYXdfd(VydF90aWNrcyA9ICR3aG)jaF9kdnQ7DQoJCXJ)dHVy$iB0cnV)Ow0KCX0gDQoNCg)(dW5jdG)v$iBTZXRWZXJ0VG)ja0)uY3J)$WVudCgkd2hpY2hfdGkpIHsNCgkJLy9Vc2UgZW)0aGVyIHRoaXMg$3IgTnVtV(VydFRpY2tzIHRvIHN)dCB3aGVyZSB0$yBw$GFjZSB5IHRpY2sg$WFya3MNCgkJaWYgKCR3aG)jaF90aSkgew0KCQkJJHRoaXMtPnZ)cnRfdG)ja19p$(NyZW1)$nQgPSAkd2hpY2hfdGk7ICAvL3dvc(xkIGNv$3JkaW5hdGVzDQoJCX0gZWxzZSB7DQoJCQ)pZiAoISR0aG)zLT5tYXhfeSkgew0KCQkJCSR0aG)zLT5GaW5kRGF0YUxp$W)0cygpOyAgLy9HZXQg$WF4aW1hIGFuZCBtaW5p$WEgZ(9yIHNjYWxp$(cNCgkJCX0NCgkJCS8vJHRoaXMtPnZ)cnRfdG)ja19p$(NyZW1)$nQgPSAoIGN)aWwoJHRoaXMtP(1heF95ICogMS4yKSAtIGZs$29yKCR0aG)zLT5taW5feSAqIDEuMikgKS8xMDsNCgkJCSR0aG)zLT52ZXJ0X3RpY2tfaW5jc(VtZW50ID0gICgkdGhpcy0+cGxvdF9tYXhfeSAgLSAkdGhpcy0+cGxvdF9taW5feSAgKS8xMDsNCgkJfQ0KCQkkdGhpcy0+$nVtX3Z)cnRfdG)ja3MgPSAnJzsgLy9)aXRoZXIgdXN)IG51$V92ZXJ0X3RpY2tzIG9yIHZ)cnRfdG)ja19p$(NyZW1)$nQsIG5vdCBi$3RoDQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg0KCWZ1$(N0aW9uIFN)dE51$Uhvc()6VG)ja3MoJHdoaWNoX250KSB7DQoJCSR0aG)zLT5udW1faG9yaXpfdG)ja3MgPSAkd2hpY2hf$nQ7DQoJCSR0aG)zLT5o$3Jpe)90aWNrX2)uY3J)$WVudCA9ICcnOyAgLy9)aXRoZXIgdXN)IG51$V9o$3Jpe)90aWNrcyBvciBo$3Jpe)90aWNrX2)uY3J)$WVudCwg$(90IGJvdGgNCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoJZnVuY3Rp$24gU2V0TnVtV(VydFRpY2tzKCR3aG)jaF9udCkgew0KCQkkdGhpcy0+$nVtX3Z)cnRfdG)ja3MgPSAkd2hpY2hf$nQ7DQoJCSR0aG)zLT52ZXJ0X3RpY2tfaW5jc(VtZW50ID0gJyc7ICAvL2VpdGh)ciB1c2Ug$nVtX3Z)cnRfdG)ja3Mg$3Igd(VydF90aWNrX2)uY3J)$WVudCwg$(90IGJvdGgNCgkJc(V0dXJuIHRydWU7DQoJfQ0KCWZ1$(N0aW9uIFN)dFZ)cnRUaWNrUG9zaXRp$24oJHdoaWNoX3RwKSB7DQoJCSR0aG)zLT52ZXJ0X3RpY2tfcG9zaXRp$24gPSAkd2hpY2hfdHA7IC8vcGxvdGx)ZnQsIHBs$3RyaWdodCwgY(90aCwgeWF4aXMNCgkJc(V0dXJuIHRydWU7DQoJfQ0KCWZ1$(N0aW9uIFN)dFNraXBC$3R0$21UaWNrKCR3aG)jaF9zYnQpIHsNCgkJJHRoaXMtPnNraXBfY(90dG9tX3RpY2sgPSAkd2hpY2hfc2J0Ow0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoNCg)(dW5jdG)v$iBTZXRUaWNrTGVuZ3RoKCR3aG)jaF90$Ckgew0KCQkkdGhpcy0+dG)ja19sZW5ndGggPSAkd2hpY2hfdGw7DQoJCXJ)dHVy$iB0cnV)Ow0KCX0NCg0KCWZ1$(N0aW9uIERyYXdZQXhpcygpIHsgDQoJCS8vRHJhdyBMaW5)IGF0IGx)ZnQgc2)kZSBvciBhdCB0aG)zLT55X2F4aXNfcG9zaXRp$24NCgkJaWYgKCR0aG)zLT55X2F4aXNfcG9zaXRp$24gIT0gIiIpIHsgDQoJCQkkeWF4aXNfeCA9ICR0aG)zLT54dHIoJHRoaXMtPn)fYXhpc19w$3NpdG)v$ik7DQoJCX0gZWxzZSB7IA0KCQkJJH)heG)zX3ggPSAkdGhpcy0+cGxvdF9hc(VhWzBdOw0KCQ)9DQoNCgkJSW1hZ2VMaW5)KCR0aG)zLT5p$WcsICR5YXhpc194LCAkdGhpcy0+cGxvdF9hc(VhWzFdLCANCgkJCSR5YXhpc194LCAkdGhpcy0+cGxvdF9hc(VhWzNdLCAkdGhpcy0+$(R4X2dyaWRfY29s$3IpOw0KCQkJLy8keWF4aXNfeCwgJHRoaXMtPnBs$3RfYXJ)YVszXSwgOSk7DQoNCgkJaWYgKCR0aG)zLT5kc(F3X3Z)cnRfdG)ja3MgPT0gMSkgeyANCgkJCSR0aG)zLT5Ec(F3V(VydG)jYWxUaWNrcygpOw0KCQ)9DQoNCg)9IC8vZnVuY3Rp$24gRHJhd1)BeG)zDQoNCg)(dW5jdG)v$iBEc(F3WEF4aXMoKSB7DQoJCS8vRHJhdyBUaWNrIGFuZCBMYWJ)$CB($3IgWSBheG)zDQoJCSR5$GFiID0kdGhpcy0+R(9y$WF0WVRpY2tMYWJ)$CgkdGhpcy0+eF9heG)zX3Bvc2)0aW9uKTsNCgkJaWYgKCR0aG)zLT5za2)wX2JvdHRv$V90aWNrICE9IDEpIHsgDQoJCQkkdGhpcy0+RHJhd1Z)cnRpY2FsVG)jaygkeWxhYiwkdGhpcy0+eF9heG)zX3Bvc2)0aW9uKTsNCgkJfQ0KDQoJCS8vRHJhdyBYIEF4aXMgYXQgWT0keF9heG)zX3Bvc3Rp$24NCgkJSW1hZ2VMaW5)KCR0aG)zLT5p$WcsJHRoaXMtPnBs$3RfYXJ)YVswXSsxLCR0aG)zLT55dHIoJHRoaXMtPnhfYXhpc19w$3NpdG)v$iksDQoJCQkJJHRoaXMtPnh0cigkdGhpcy0+cGxvdF9tYXhfeCktMSwkdGhpcy0+eXRyKCR0aG)zLT54X2F4aXNfcG9zaXRp$24pLCR0aG)zLT5uZHhfdG)ja19j$2xvcik7DQoNCgkJLy9YIFRpY2tzIGFuZCBMYWJ)$HMNCgkJaWYgKCR0aG)zLT5kYXRhX3R5cGUgIT0gJ3R)eHQtZGF0YScpIHsgLy9sYWJ)$HMgZ(9yIHR)eHQtZGF0YSBk$25)IGF0IGRhdGEgZHJhd2)uZyB0aW1)IGZvciBzcGV)ZC4NCgkJCSR0aG)zLT5Ec(F3SG9yaXpv$nRh$FRpY2tzKCk7DQoJCX0NCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoJZnVuY3Rp$24gRHJhd0hvc()6$250YWxUaWNrcygpIHsNCgkJLy9UaWNrcyBh$(Qg$GFi$GVzIGFyZSBkc(F3$iBv$iB0aGUg$GV(dCBi$3JkZXIg$2YgUGxvdEFyZWEuDQoJCS8vTGV(dCBC$3R0$20NCgkJSW1hZ2VMaW5)KCR0aG)zLT5p$WcsJHRoaXMtPnBs$3RfYXJ)YVswXSwNCgkJCQkkdGhpcy0+cGxvdF9hc(VhWzNdKyR0aG)zLT50aWNrX2x)$(d0aCwNCgkJCQkkdGhpcy0+cGxvdF9hc(VhWzBdLCR0aG)zLT5w$G90X2FyZWF$M10sJHRoaXMtP(5keF90aWNrX2Nv$G9yKTsNCg0KCQ)zd2)0Y2ggKCR0aG)zLT54X2dyaWRf$GFiZWxfdH)wZSkgew0KCQkJY2FzZSAidG)0$GUiOg0KCQkJCSR4$GFiID0gJHRoaXMtP(RhdGFfd(FsdWVzWzBdWzBdOw0KCQkJYnJ)YWs7DQoJCQ)jYXN)ICJkYXRhIjoNCgkJCQkkeGxhYiA9IG51$WJ)c)9($3JtYXQoJHRoaXMtPnBs$3Rf$W)uX3gsJHRoaXMtPnhfcHJ)Y2)zaW9uLCIuIiwiLCIpIC4gIiR0aG)zLT5zaV91$()0cyI7DQoJCQ)ic(VhazsNCgkJCWNhc2UgI(5v$(UiOg0KCQkJCSR4$GFiID0gJyc7DQoJCQ)ic(VhazsNCgkJCWNhc2UgInRp$WUiOiAgLy9UaW1)IGZvc(1hdHRp$(cgc3VnZ2VzdGVkIGJ5IE1hc(xp$iBWaXNzDQoJCQkJJHhsYWIgPSBzdHJ(dG)tZSgkdGhpcy0+eF90aW1)X2Zvc(1hdCwkdGhpcy0+cGxvdF9taW5feCk7DQoJCQ)ic(VhazsNCgkJCWR)Z(F1$HQ6DQoJCQkJLy9V$(NoYW5nZWQgZnJv$SB3aGF0ZXZ)ciB($3JtYXQgaXMgcGFzc2VkIG)uDQoJCQkJJHhsYWIgPSAkdGhpcy0+cGxvdF9taW5feDsNCgkJCWJyZWFrOw0KCQ)9DQoNCgkJaWYgKCR0aG)zLT54X2RhdGFsYWJ)$F9h$(dsZSA9PSA5MCkgeyANCgkJCSR4cG9zID0gICR0aG)zLT5w$G90X2FyZWF$MF0gLSAkdGhpcy0+c21h$GxfZ(9udF9oZW)naHQvMjsNCgkJCSR5cG9zID0gKCAkdGhpcy0+c21h$GxfZ(9udF93aWR0aCpzdHJsZW4oJHhsYWIpICsgJHRoaXMtPnBs$3RfYXJ)YVszXSArICR0aG)zLT5z$WFs$F9($250X2h)aWdodCk7DQoJCQ)J$WFnZVN0c()uZ1VwKCR0aG)zLT5p$WcsICR0aG)zLT5z$WFs$F9($250LCR4cG9zLCAkeXBvcywgJHhsYWIsICR0aG)zLT5uZHhfdGV4dF9j$2xvcik7DQoJCX0gZWxzZSB7DQoJCQkkeHBvcyA9ICR0aG)zLT5w$G90X2FyZWF$MF0gLSAkdGhpcy0+c21h$GxfZ(9udF93aWR0aCpzdHJsZW4oJHhsYWIpLzIgOw0KCQkJJH)w$3MgPSAkdGhpcy0+cGxvdF9hc(VhWzNdICsgJHRoaXMtPnNtYWxsX2Zv$nRfaGVpZ2h0Ow0KCQkJSW1hZ2VTdHJp$(coJHRoaXMtP()tZywgJHRoaXMtPnNtYWxsX2Zv$nQsJHhw$3MsICR5cG9zLCAkeGxhYiwgJHRoaXMtP(5keF90ZXh0X2Nv$G9yKTsNCgkJfQ0KDQoJCS8vV2)s$CBiZSBjaGFuZ2VkIHRvIGFs$G93IGZvciBUVEYgZ(9udHMgaW4gZGF0YSBhcyB3ZWxsLg0KCQkvLyR0aG)zLT5Ec(F3VGV4dCgkdGhpcy0+c21h$GxfZ(9udCwgJHRoaXMtPnhfZGF0YWxhY(VsX2FuZ2x)LCAkeHBvcywgJH)w$3MsICR0aG)zLT5uZHhfdG)0$GVfY29s$3IsICcnLCAkeGxhYik7IA0KDQoJCS8vVG9wDQoNCgkJaWYgKCR0aG)zLT5o$3Jpe)90aWNrX2)uY3J)$WVudCkgew0KCQkJJGR)$HRhX3ggPSAkdGhpcy0+aG9yaXpfdG)ja19p$(NyZW1)$nQ7DQoJCX0gZWxzZW)(ICgkdGhpcy0+$nVtX2hvc()6X3RpY2tzKSB7DQoJCQkkZGVsdGFfeCA9ICgkdGhpcy0+cGxvdF9tYXhfeCAtICR0aG)zLT5w$G90X21p$)94KSAvICR0aG)zLT5udW1faG9yaXpfdG)ja3M7DQoJCX0gZWxzZSB7DQoJCQkkZGVsdGFfeCA9KCR0aG)zLT5w$G90X21heF94IC0gJHRoaXMtPnBs$3Rf$W)uX3gpIC8gMTAgOw0KCQ)9DQoNCgkJJGkgPSAwOw0KCQkkeF90$XAgPSAkdGhpcy0+cGxvdF9taW5feDsNCgkJU2V0VH)wZSgkeF90$XAsJ2RvdWJsZScpOw0KDQoJCXdoaWx)ICgkeF90$XAgPD0gJHRoaXMtPnBs$3Rf$WF4X3gpew0KCQkJLy8keGxhYiA9IHNwc()udGYoIiU2LjF(ICVzIiwk$W)uX3gsJHNpX3VuaXRzWzBdKTsgIC8vUEhQMiBwYXN0IGNv$XBhdG)iaWxpdHkNCgkJCXN3aXRjaCAoJHRoaXMtPnhfZ3JpZF9sYWJ)$F90eXB)KSB7DQoJCQkJY2FzZSAidG)0$GUiOg0KCQkJCQkkeGxhYiA9ICR0aG)zLT5kYXRhX3Zh$HV)c1skeF90$XBdWzBdOw0KCQkJCWJyZWFrOw0KCQkJCWNhc2UgI(RhdGEiOg0KCQkJCQkkeGxhYiA9IG51$WJ)c)9($3JtYXQoJHhfdG1wLCR0aG)zLT54X3ByZWNpc2)v$iwiLiIsIiwiKSAuICIkdGhpcy0+c2)fdW5pdHMiOw0KCQkJCWJyZWFrOw0KCQkJCWNhc2UgI(5v$(UiOg0KCQkJCQkkeGxhYiA9ICcnOw0KCQkJCWJyZWFrOw0KCQkJCWNhc2UgInRp$WUiOiAgLy9UaW1)IGZvc(1hdHRp$(cgc3VnZ2VzdGVkIGJ5IE1hc(xp$iBWaXNzDQoJCQkJCSR4$GFiID0gc3RyZnRp$WUoJHRoaXMtPnhfdG)tZV9($3JtYXQsJHhfdG1wKTsNCgkJCQ)ic(VhazsNCgkJCQ)kZWZhdWx0Og0KCQkJCQkvL1VuY2hh$(d)ZCB(c(9tIHdoYXR)d(VyIGZvc(1hdCBpcyBwYXNzZWQgaW4NCgkJCQkJJHhsYWIgPSAkeF90$XA7DQoJCQkJYnJ)YWs7DQoJCQ)9DQoNCgkJCSR4X3BpeGVscyA9ICR0aG)zLT54dHIoJHhfdG1wKTsNCg0KCQkJLy9C$3R0$20gVG)jaw0KCQkJSW1hZ2VMaW5)KCR0aG)zLT5p$WcsJHhfcG)4ZWxzLCR0aG)zLT5w$G90X2FyZWF$M10gKyAkdGhpcy0+dG)ja19sZW5ndGgsDQoJCQkJJHhfcG)4ZWxzLCR0aG)zLT5w$G90X2FyZWF$M10sICR0aG)zLT5uZHhfdG)ja19j$2xvcik7DQoJCQkvL1RvcCBUaWNrDQoJCQkvL0)tYWd)TG)uZSgkdGhpcy0+aW1nLCgkdGhpcy0+eHRyKCR0aG)zLT5w$G90X21heF94KSskdGhpcy0+dG)ja19sZW5ndGgpLA0KCQkJLy8JJH)fcG)4ZWxzLCR0aG)zLT54dHIoJHRoaXMtPnBs$3Rf$WF4X3gpLTEsJH)fcG)4ZWxzLCR0aG)zLT5uZHhfdG)ja19j$2xvcik7DQoNCgkJCW)(ICgkdGhpcy0+ZHJhd194X2dyaWQgPT0gMSkgew0KCQkJCU)tYWd)TG)uZSgkdGhpcy0+aW1nLCR4X3BpeGVscywkdGhpcy0+cGxvdF9hc(VhWzFdLA0KCQkJCQkkeF9waXh)$HMsJHRoaXMtPnBs$3RfYXJ)YVszXSwgJHRoaXMtP(5keF9saWdodF9nc()kX2Nv$G9yKTsNCgkJCX0NCg0KCQkJaWYgKCR0aG)zLT54X2RhdGFsYWJ)$F9h$(dsZSA9PSA5MCkgeyAgLy9WZXJ0aWNh$CBD$2R)IFN1Y(1pdHR)ZCBieSBNYXJsaW4gV()zcw0KIAkJCSAgIE)tYWd)U3RyaW5nVXAoJHRoaXMtP()tZywgJHRoaXMtPnNtYWxsX2Zv$nQsDQoJCQkJKCAkeF9waXh)$HMgLSAkdGhpcy0+c21h$GxfZ(9udF9oZW)naHQvMiksDQoJCQkJKCAkdGhpcy0+c21h$GxfZ(9udF93aWR0aCpzdHJsZW4oJHhsYWIpICsgJHRoaXMtPnBs$3RfYXJ)YVszXSArICR0aG)zLT5z$WFs$F9($250X2h)aWdodCksJHhsYWIsICR0aG)zLT5uZHhfdGV4dF9j$2xvcik7DQoJCQ)9IGVsc2Ugew0KCQkJCU)tYWd)U3RyaW5nKCR0aG)zLT5p$WcsICR0aG)zLT5z$WFs$F9($250LA0KCQkJCQkoICR4X3BpeGVscyAtICR0aG)zLT5z$WFs$F9($250X3dpZHRoKnN0c(x)$igkeGxhYikvMikgLA0KCQkJCQkoICR0aG)zLT5z$WFs$F9($250X2h)aWdodCArICR0aG)zLT5w$G90X2FyZWF$M10pLCR4$GFiLCAkdGhpcy0+$(R4X3R)eHRfY29s$3IpOw0KCQkJfQ0KDQoJCQkkaSsrOw0KCQkJJHhfdG1wICs9ICRkZWx0YV94Ow0KCQ)9DQoNCg)9IC8vIGZ1$(N0aW9uIERyYXdI$3Jpe(9udGFsVG)ja3MNCg0KCWZ1$(N0aW9uIEZvc(1hdF)UaWNrTGFiZWwoJHdoaWNoX3)sYWIpIHsgDQoJCXN3aXRjaCAoJHRoaXMtPn)fZ3JpZF9sYWJ)$F90eXB)KSB7DQoJCQ)jYXN)ICJkYXRhIjoNCgkJCQkkeWxhYiA9IG51$WJ)c)9($3JtYXQoJHdoaWNoX3)sYWIsJHRoaXMtPn)fcHJ)Y2)zaW9uLCIuIiwiLCIpIC4gIiR0aG)zLT5zaV91$()0cyI7DQoJCQ)ic(VhazsNCgkJCWNhc2UgI(5v$(UiOg0KCQkJCSR5$GFiID0gJyc7DQoJCQ)ic(VhazsNCgkJCWNhc2UgInRp$WUiOg0KCQkJCSR5$GFiID0gc3RyZnRp$WUoJHRoaXMtPn)fdG)tZV9($3JtYXQsJHdoaWNoX3)sYWIpOw0KCQkJYnJ)YWs7DQoJCQ)jYXN)ICJyaWdodCI6DQoJCQkJLy9NYWt)IG)0IHJpZ2h0IGFsaWduZWQNCgkJCQkvLyR5$GFiID0gc3RyX3BhZCgkd2hpY2hfeWxhYiwkdGhpcy0+eV9sYWJ)$F93aWR0aCwiICIsU1RSX1BBRF9MRUZUKTsgLy9QSFA0IG9u$HkNCgkJCQkkc3N0ciA9ICI)Ii5zdHJsZW4oJHRoaXMtPnBs$3Rf$WF4X3kpLiJzIjsNCgkJCQkkeWxhYiA9IHNwc()udGYoJHNzdHIsJHdoaWNoX3)sYWIpOw0KCQkJYnJ)YWs7DQoJCQ)kZWZhdWx0Og0KCQkJCS8vVW5jaGFuZ2VkIGZy$20gd2hhdGV2ZXIgZ(9y$WF0IG)zIHBhc3N)ZCBp$g0KCQkJCSR5$GFiID0gJHdoaWNoX3)sYWI7DQoJCQ)ic(VhazsNCgkJfQ0KDQoJCXJ)dHVy$igkeWxhYik7DQoNCg)9IC8vZnVuY3Rp$24gR(9y$WF0WVRpY2tMYWJ)$A0KDQoJZnVuY3Rp$24gRHJhd1Z)cnRpY2FsVG)jaygkd2hpY2hfeWxhYiwkd2hpY2hfeXBvcykgeyAgLy95$GFiIG)uIHdvc(xkIGNv$3JkLg0KCQkvL0RyYXcgSnVzdCBv$(UgVG)jaywgY2Fs$GVkIGZy$20gRHJhd1Z)cnRpY2FsVG)ja3MNCgkJLy9UaWNrcyBh$(QgZGF0YWxhY(x)cyBjYW4gY(Ug$GV(dCBvZiBw$G90IG9u$HksIHJpZ2h0IG9(IHBs$3Qg$25seSwgDQoJCS8vICBi$3RoIG9uIHRoZSBsZWZ0IGFuZCByaWdodCBvZiBw$G90LCBvciBjc(9zc2)uZyBhIHVzZXIgZGV(aW5)ZCBZLWF4aXMNCgkJLy8gDQoJCS8vSXRzIGZhc3R)ciB0$yBkc(F3IGJvdGgg$GV(dCBh$(Qgc()naHQgdG)ja3MgYXQgc2FtZSB0aW1)DQoJCS8vICB0aGFuIGZpcnN0IGx)ZnQgYW5kIHRoZW4gc()naHQuIA0KDQoJCW)(ICgkdGhpcy0+eV9heG)zX3Bvc2)0aW9uICE9ICIiKSB7IA0KCQkJLy9UaWNrcyBh$(Qg$GFi$GVzIGFyZSBkc(F3$iBv$iB0aGUg$GV(dCBi$3JkZXIg$2YgeWF4aXMNCgkJCSR5YXhpc194ID0gJHRoaXMtPnh0cigkdGhpcy0+eV9heG)zX3Bvc2)0aW9uKTsNCgkJfSB)$HN)IHsgDQoJCQkvL1RpY2tzIGFuZCBsYWJsZXMgYXJ)IGRyYXduIG9uIHRoZSBsZWZ0IGJvc(R)ciBvZiBQ$G90QXJ)YS4NCgkJCSR5YXhpc194ID0gJHRoaXMtPnBs$3RfYXJ)YVswXTsNCgkJfQ0KDQoJCSR5X3BpeGVscyA9ICR0aG)zLT55dHIoJHdoaWNoX3)w$3MpOw0KDQoJCS8vTG)uZXMgQWNy$3NzIHRoZSBQ$G90IEFyZWENCgkJaWYgKCR0aG)zLT5kc(F3X3)fZ3JpZCA9PSAxKSB7DQoJCQ)J$WFnZUxp$(UoJHRoaXMtP()tZywkdGhpcy0+cGxvdF9hc(VhWzBdKzEsJH)fcG)4ZWxzLA0KCQkJCSR0aG)zLT5w$G90X2FyZWF$M)0tMSwkeV9waXh)$HMsJHRoaXMtP(5keF9saWdodF9nc()kX2Nv$G9yKTsNCgkJfQ0KDQoJCS8vVG)ja3MgdG8gdGh)IEx)ZnQg$2YgdGh)IFBs$3QgQXJ)YQ0KCQ)pZiAoKCR0aG)zLT52ZXJ0X3RpY2tfcG9zaXRp$24gPT0gInBs$3RsZWZ0IikgfHwgKCR0aG)zLT52ZXJ0X3RpY2tfcG9zaXRp$24gPT0gI(JvdGgiKSApIHsgDQoJCQ)J$WFnZUxp$(UoJHRoaXMtP()tZywoLSR0aG)zLT50aWNrX2x)$(d0aCskeWF4aXNfeCksDQoJCQkkeV9waXh)$HMsJH)heG)zX3gsDQoJCQkkeV9waXh)$HMsICR0aG)zLT5uZHhfdG)ja19j$2xvcik7DQoJCX0NCg0KCQkvL1RpY2tzIHRvIHRoZSBSaWdodCBvZiB0aGUgUGxvdCBBc(VhDQoJCW)(ICgoJHRoaXMtPnZ)cnRfdG)ja19w$3NpdG)v$iA9PSAicGxvdHJpZ2h0IikgfHwgKCR0aG)zLT52ZXJ0X3RpY2tfcG9zaXRp$24gPT0gI(JvdGgiKSApIHsgDQoJCQ)J$WFnZUxp$(UoJHRoaXMtP()tZywoJHRoaXMtPnBs$3RfYXJ)YVsyXSskdGhpcy0+dG)ja19sZW5ndGgpLA0KCQkJJH)fcG)4ZWxzLCR0aG)zLT5w$G90X2FyZWF$M)0sDQoJCQkkeV9waXh)$HMsJHRoaXMtP(5keF90aWNrX2Nv$G9yKTsNCgkJfQ0KDQoJCS8vVG)ja3Mg$24gdGh)IFkgQXhpcyANCgkJaWYgKCgkdGhpcy0+d(VydF90aWNrX3Bvc2)0aW9uID09ICJ5YXhpcyIpICkgeyANCgkJCU)tYWd)TG)uZSgkdGhpcy0+aW1nLCgkeWF4aXNfeCAtICR0aG)zLT50aWNrX2x)$(d0aCksDQoJCQkkeV9waXh)$HMsJH)heG)zX3gsJH)fcG)4ZWxzLCR0aG)zLT5uZHhfdG)ja19j$2xvcik7DQoJCX0NCg0KCQkvL0RhdGFMYWJ)$A0KLy9ha(8gd29ya2)uZw0KCQkvLyR0aG)zLT5Ec(F3VGV4dCgkdGhpcy0+eV9sYWJ)$F90dGZ($250LCAwLCgkeWF4aXNfeCAtICR0aG)zLT55X2xhY(VsX3dpZHRoIC0gJHRoaXMtPnRpY2tf$GVuZ3RoLzIpLA0KCQkvLwkJJH)fcG)4ZWxzLCAkdGhpcy0+$(R4X3R)eHRfY29s$3IsICR0aG)zLT5heG)zX3R0Z(Zv$nRfc2)6ZSwgJHdoaWNoX3)sYWIpOw0KCQ)J$WFnZVN0c()uZygkdGhpcy0+aW1nLCAkdGhpcy0+c21h$GxfZ(9udCwgKCR5YXhpc194IC0gJHRoaXMtPn)f$GFiZWxfd2)kdGggLSAkdGhpcy0+dG)ja19sZW5ndGgvMiksDQoJCQkoIC0oJHRoaXMtPnNtYWxsX2Zv$nRfaGVpZ2h0LzIuMCkgKyAkeV9waXh)$HMpLCR3aG)jaF95$GFiLCAkdGhpcy0+$(R4X3R)eHRfY29s$3IpOw0KCX0NCg0KCWZ1$(N0aW9uIERyYXdWZXJ0aWNh$FRpY2tzKCkgew0KDQoJCW)(ICgkdGhpcy0+c2tpcF90$3BfdG)jayAhPSAxKSB7IC8vSWYgdG)jayBp$(NyZW1)$nQgZG9)c24ndCBoaXQgdGh)IHRvcCANCgkJCS8vTGV(dCBU$3ANCgkJCS8vSW1hZ2VMaW5)KCR0aG)zLT5p$WcsKC0kdGhpcy0+dG)ja19sZW5ndGgrJHRoaXMtPnh0cigkdGhpcy0+cGxvdF9taW5feCkpLA0KCQkJLy8JCSR0aG)zLT55dHIoJHRoaXMtPnBs$3Rf$WF4X3kpLCR0aG)zLT54dHIoJHRoaXMtPnBs$3Rf$W)uX3gpLCR0aG)zLT55dHIoJHRoaXMtPnBs$3Rf$WF4X3kpLCR0aG)zLT5uZHhfdG)ja19j$2xvcik7DQoJCQkvLyR5$GFiID0gJHRoaXMtPkZvc(1hdF)UaWNrTGFiZWwoJHBs$3Rf$WF4X3kpOw0KDQoJCQkvL1JpZ2h0IFRvcA0KCQkJLy9J$WFnZUxp$(UoJHRoaXMtP()tZywoJHRoaXMtPnh0cigkdGhpcy0+cGxvdF9tYXhfeCkrJHRoaXMtPnRpY2tf$GVuZ3RoKSwNCgkJCS8vCQkkdGhpcy0+eXRyKCR0aG)zLT5w$G90X21heF95KSwkdGhpcy0+eHRyKCR0aG)zLT5w$G90X21heF94LTEpLCR0aG)zLT55dHIoJHRoaXMtPnBs$3Rf$WF4X3kpLCR0aG)zLT5uZHhfdG)ja19j$2xvcik7DQoNCgkJCS8vRHJhdyBHc()kIExp$(UgYXQgVG9wDQoJCQ)J$WFnZUxp$(UoJHRoaXMtP()tZywkdGhpcy0+cGxvdF9hc(VhWzBdKzEsJHRoaXMtPn)0cigkdGhpcy0+cGxvdF9tYXhfeSksDQoJCQkJCSR0aG)zLT5w$G90X2FyZWF$M)0tMSwkdGhpcy0+eXRyKCR0aG)zLT5w$G90X21heF95KSwkdGhpcy0+$(R4X2xpZ2h0X2dyaWRfY29s$3IpOw0KDQoJCX0NCg0KCQ)pZiAoJHRoaXMtPnNraXBfY(90dG9tX3RpY2sgIT0gMSkgeyANCgkJCS8vU()naHQgQ(90dG9tDQoJCQkvL0)tYWd)TG)uZSgkdGhpcy0+aW1nLCgkdGhpcy0+eHRyKCR0aG)zLT5w$G90X21heF94KSskdGhpcy0+dG)ja19sZW5ndGgpLA0KCQkJLy8JCSR0aG)zLT55dHIoJHRoaXMtPnBs$3Rf$W)uX3kpLCR0aG)zLT54dHIoJHRoaXMtPnBs$3Rf$WF4X3gpLA0KCQkJLy8JCSR0aG)zLT55dHIoJHRoaXMtPnBs$3Rf$W)uX3kpLCR0aG)zLT5uZHhfdG)ja19j$2xvcik7DQoNCgkJCS8vRHJhdyBHc()kIExp$(UgYXQgQ(90dG9tIG9(IFBs$3QNCgkJCU)tYWd)TG)uZSgkdGhpcy0+aW1nLCR0aG)zLT54dHIoJHRoaXMtPnBs$3Rf$W)uX3gpKzEsJHRoaXMtPn)0cigkdGhpcy0+cGxvdF9taW5feSksDQoJCQkJCSR0aG)zLT54dHIoJHRoaXMtPnBs$3Rf$WF4X3gpLCR0aG)zLT55dHIoJHRoaXMtPnBs$3Rf$W)uX3kpLCR0aG)zLT5uZHhf$G)naHRfZ3JpZF9j$2xvcik7DQoJCX0NCgkJDQoJCS8vIG1heHkgaXMgYWx3YX)zID4g$W)ueSBz$yBkZWx0YV95IG)zIGFsd2F5cyBw$3NpdG)2ZQ0KCQ)pZiAoJHRoaXMtPnZ)cnRfdG)ja19p$(NyZW1)$nQpIHsNCgkJCSRkZWx0YV95ID0gJHRoaXMtPnZ)cnRfdG)ja19p$(NyZW1)$nQ7DQoJCX0gZWxzZW)(ICgkdGhpcy0+$nVtX3Z)cnRfdG)ja3MpIHsNCgkJCSRkZWx0YV95ID0gKCR0aG)zLT5w$G90X21heF95IC0gJHRoaXMtPnBs$3Rf$W)uX3kpIC8gJHRoaXMtP(51$V92ZXJ0X3RpY2tzOw0KCQ)9IGVsc2Ugew0KCQkJJGR)$HRhX3kgPSgkdGhpcy0+cGxvdF9tYXhfeSAtICR0aG)zLT5w$G90X21p$)95KSAvIDEwIDsNCgkJfQ0KDQoJCSR5X3RtcCA9ICR0aG)zLT5w$G90X21p$)95Ow0KCQ)TZXRUeXB)KCR5X3RtcCwnZG91Y(x)Jyk7DQoJCW)(ICgkdGhpcy0+c2tpcF9i$3R0$21fdG)jayA9PSAxKSB7IA0KCQkJJH)fdG1wICs9ICRkZWx0YV95Ow0KCQ)9DQoNCgkJd2hp$GUgKCR5X3RtcCA8PSAkdGhpcy0+cGxvdF9tYXhfeS)7DQoJCQkvL0ZvciBs$2cgcGxvdHM6IA0KCQkJaWYgKCgkdGhpcy0+eXNjYWx)X3R5cGUgPT0gI(xvZyIpICY(ICgkdGhpcy0+cGxvdF9taW5feSA9PSAxKSA(JiANCgkJCQkoJGR)$HRhX3k)MTAgPT0gMCkgJiYgKCR5X3RtcCA9PSAkdGhpcy0+cGxvdF9taW5feSkpIHsgDQoJCQkJJH)fdG1wID0gJH)fdG1wIC0gMTsgLy9TZXQgZ()yc3QgaW5jc(VtZW50IHRvIDkgdG8gZ2V0OiAxLDEwLDIwLDMwLC4uLg0KCQkJfQ0KDQoJCQkkeWxhYiA9ICR0aG)zLT5G$3JtYXRZVG)ja0xhY(VsKCR5X3RtcCk7DQoNCgkJCSR0aG)zLT5Ec(F3V(VydG)jYWxUaWNrKCR5$GFiLCR5X3RtcCk7DQoNCgkJCSR5X3RtcCArPSAkZGVsdGFfeTsNCgkJfQ0KDQoJCXJ)dHVy$iB0cnV)Ow0KDQoJfSAvLyB(dW5jdG)v$iBEc(F3V(VydG)jYWxUaWNrcw0KDQoJZnVuY3Rp$24gU2V0VHJh$nNsYXRp$24oKSB7DQoJCW)(ICgkdGhpcy0+eHNjYWx)X3R5cGUgPT0gI(xvZyIpIHsgDQoJCQkkdGhpcy0+eHNjYWx)ID0gKCR0aG)zLT5w$G90X2FyZWFfd2)kdGgpLyhs$2cxMCgkdGhpcy0+cGxvdF9tYXhfeCkgLSBs$2cxMCgkdGhpcy0+cGxvdF9taW5feCkpOw0KCQ)9IGVsc2UgeyANCgkJCSR0aG)zLT54c2Nh$GUgPSAoJHRoaXMtPnBs$3RfYXJ)YV93aWR0aCkvKCR0aG)zLT5w$G90X21heF94IC0gJHRoaXMtPnBs$3Rf$W)uX3gpOw0KCQ)9DQoJCW)(ICgkdGhpcy0+eXNjYWx)X3R5cGUgPT0gI(xvZyIpIHsgDQoJCQkkdGhpcy0+eXNjYWx)ID0gKCR0aG)zLT5w$G90X2FyZWFfaGVpZ2h0KS8o$G9nMTAoJHRoaXMtPnBs$3Rf$WF4X3kpIC0g$G9nMTAoJHRoaXMtPnBs$3Rf$W)uX3kpKTsNCgkJfSB)$HN)IHsgDQoJCQkkdGhpcy0+eXNjYWx)ID0gKCR0aG)zLT5w$G90X2FyZWFfaGVpZ2h0KS8oJHRoaXMtPnBs$3Rf$WF4X3kgLSAkdGhpcy0+cGxvdF9taW5feSk7DQoJCX0NCg0KCQkvLyBHRCBkZWZp$(VzIHg9MCBhdCBsZWZ0IGFuZCB5PTAgYXQgVE9QIHNvIC0vKyByZXNwZWN0aXZ)$HkNCgkJaWYgKCR0aG)zLT54c2Nh$GVfdH)wZSA9PSAi$G9nIikgeyANCgkJCSR0aG)zLT5w$G90X29yaWdp$)94ID0gJHRoaXMtPnBs$3RfYXJ)YVswXSAtICgkdGhpcy0+eHNjYWx)ICog$G9nMTAoJHRoaXMtPnBs$3Rf$W)uX3gpICk7DQoJCX0gZWxzZSB7IA0KCQkJJHRoaXMtPnBs$3Rf$3JpZ2)uX3ggPSAkdGhpcy0+cGxvdF9hc(VhWzBdIC0gKCR0aG)zLT54c2Nh$GUgKiAkdGhpcy0+cGxvdF9taW5feCk7DQoJCX0NCgkJaWYgKCR0aG)zLT55c2Nh$GVfdH)wZSA9PSAi$G9nIikgeyANCgkJCSR0aG)zLT5w$G90X29yaWdp$)95ID0gJHRoaXMtPnBs$3RfYXJ)YVszXSArICgkdGhpcy0+eXNjYWx)ICog$G9nMTAoJHRoaXMtPnBs$3Rf$W)uX3kpKTsNCgkJfSB)$HN)IHsgDQoJCQkkdGhpcy0+cGxvdF9vc()naW5feSA9ICR0aG)zLT5w$G90X2FyZWF$M10gKyAoJHRoaXMtPn)zY2FsZSAqICR0aG)zLT5w$G90X21p$)95KTsNCgkJfQ0KDQoJCSR0aG)zLT5zY2FsZV9pc19zZXQgPSAxOw0KCX0gLy8gZnVuY3Rp$24gU2V0VHJh$nNsYXRp$24NCg0KCWZ1$(N0aW9uIHh0cigkeF93$3JsZCkgew0KCS8vVHJh$nNsYXR)IHdvc(xkIGNv$3JkaW5hdGVzIG)udG8gcG)4ZWwgY29vc(Rp$(F0ZXMNCgkvL1RoZSBwaXh)$CBj$29yZG)uYXR)cyBhc(UgdGhvc2Ug$2YgdGh)IEVOVE)SRSBp$WFnZSwg$(90IGp1c3QgdGh)IHBs$3RfYXJ)YQ0KCQkvLyR4X3BpeGVscyA9ICAkdGhpcy0+eF9sZWZ0X21hc(dp$iArICgkdGhpcy0+aW1hZ2Vfd2)kdGggLSAkdGhpcy0+eF90$3Rf$WFyZ2)uKSooKCR4X3dvc(xkIC0gJHRoaXMtPnBs$3Rf$W)uX3gpIC8gKCR0aG)zLT5w$G90X21heF94IC0gJHRoaXMtPnBs$3Rf$W)uX3gpKSA7DQoJCS8vd2hpY2ggd2)0aCBhIGxpdHRsZSBiaXQg$2Yg$WF0aCByZWR1Y2VzIHRvIC4uLg0KCQ)pZiAoJHRoaXMtPnhzY2FsZV90eXB)ID09ICJs$2ciKSB7IA0KCQkJJHhfcG)4ZWxzID0gICR0aG)zLT5w$G90X29yaWdp$)94ICsg$G9nMTAoJHhfd29y$GQpICogJHRoaXMtPnhzY2FsZSA7DQoJCX0gZWxzZSB7IA0KCQkJJHhfcG)4ZWxzID0gICR0aG)zLT5w$G90X29yaWdp$)94ICsgJHhfd29y$GQgKiAkdGhpcy0+eHNjYWx)IDsNCgkJfQ0KCQ)yZXR1c(4oJHhfcG)4ZWxzKTsNCg)9DQoNCg)(dW5jdG)v$iB5dHIoJH)fd29y$GQpIHsNCgkJLy8gdHJh$nNsYXR)IHkgd29y$GQgY29vc(QgaW50$yBwaXh)$CBj$29yZA0KCQ)pZiAoJHRoaXMtPn)zY2FsZV90eXB)ID09ICJs$2ciKSB7IA0KCQkJJH)fcG)4ZWxzID0gICR0aG)zLT5w$G90X29yaWdp$)95IC0g$G9nMTAoJH)fd29y$GQpICogJHRoaXMtPn)zY2FsZSA7ICAvL21p$nVzIGJ)Y2F1c2UgR0QgZGV(aW5)cyB5PTAgYXQgdG9wLiBk$2ghDQoJCX0gZWxzZSB7IA0KCQkJJH)fcG)4ZWxzID0gICR0aG)zLT5w$G90X29yaWdp$)95IC0gJH)fd29y$GQgKiAkdGhpcy0+eXNjYWx)IDsgIA0KCQ)9DQoJCXJ)dHVy$iAoJH)fcG)4ZWxzKTsNCg)9DQoNCg0KCWZ1$(N0aW9uIERyYXdEYXRhTGFiZWwoJGxhYiwkeF93$3JsZCwkeV93$3JsZCkgew0KCQkvL0R)cHJ)Y2)hdGVkLiBVc2UgRHJhd1R)eHQgSW5zdGVhZC4NCgkJLy9EYXRhIGNv$WVzIG)uIG)uIFdPUkxEIGNv$3JkaW5hdGVzDQoJCS8vRHJhdyBkYXRhIGxhY(VsIG5)YXIgYWN0dWFsIGRhdGEgcG9p$nQNCgkJCS8vJHkgPSAkdGhpcy0+eXRyKCR5X3dvc(xkKSA7ICAvL2)uIHBpeGVscw0KCQkJLy8keCA9ICR0aG)zLT54dHIoJHhfd29y$GQpIDsNCgkJCS8vJHRoaXMtPkRyYXdUZXh0KCR3aG)jaF9($250LCR3aG)jaF9h$(dsZSwkd2hpY2hfeHBvcywkd2hpY2hfeXBvcywkd2hpY2hfY29s$3IsJHdoaWNoX3Npe(UsJHdoaWNoX3R)eHQsJHdoaWNoX2hh$G)n$j0n$GV(dCcpOw0KCQkJaWYgKCR0aG)zLT51c2VfdHR(KSB7DQovL2Fqa(pvDQoJCQkJJGxhY)9zaXp)ID0gJHRoaXMtP)RURkJC$3hTaXp)KCR0aG)zLT5heG)zX3R0Z(Zv$nRfc2)6ZSwgJHRoaXMtPnhfZGF0YWxhY(VsX2FuZ2x)LCAkdGhpcy0+YXhpc190dGZ($250LCAk$GFiKTsgLy9B$iBhcnJheQ0KCQkJCSR5ID0gJHRoaXMtPn)0cigkeV93$3JsZCkgLSAk$GFiX3Npe(V$MV0gOyAgLy9p$iBwaXh)$HMNCgkJCQkkeCA9ICR0aG)zLT54dHIoJHhfd29y$GQpIC0gJGxhY)9zaXp)WzBdLzI7DQoJCQkJSW1hZ2VUVEZUZXh0KCR0aG)zLT5p$WcsICR0aG)zLT5heG)zX3R0Z(Zv$nRfc2)6ZSwgJHRoaXMtPnhfZGF0YWxhY(VsX2FuZ2x)LCAkeCwgJHksICR0aG)zLT5uZHhfdGV4dF9j$2xvciwgJHRoaXMtP(F4aXNfdHR(Z(9udCwgJGxhYik7DQoJCQ)9IGVsc2Ugew0KCQkJCSRsYWJfc2)6ZSA9IGFyc(F5KCR0aG)zLT5z$WFs$F9($250X3dpZHRoK)N0ckx)$igk$GFiKSwgJHRoaXMtPnNtYWxsX2Zv$nRfaGVpZ2h0KjMpOw0KCQkJCW)(ICgkdGhpcy0+eF9kYXRh$GFiZWxfYW5n$GUgPT0gOTApIHsNCgkJCQkJJHkgPSAkdGhpcy0+eXRyKCR5X3dvc(xkKSAtICR0aG)zLT5z$WFs$F9($250X3dpZHRoK)N0ckx)$igk$GFiKTsgLy9p$iBwaXh)$HMNCgkJCQkJJHggPSAkdGhpcy0+eHRyKCR4X3dvc(xkKSAtICR0aG)zLT5z$WFs$F9($250X2h)aWdodDsNCgkJCQkJSW1hZ2VTdHJp$(dVcCgkdGhpcy0+aW1nLCAkdGhpcy0+c21h$GxfZ(9udCwkeCwgJHkgLCRsYWIsICR0aG)zLT5uZHhfdGV4dF9j$2xvcik7DQoJCQkJfSB)$HN)IHsNCgkJCQkJJHkgPSAkdGhpcy0+eXRyKCR5X3dvc(xkKSAtICR0aG)zLT5z$WFs$F9($250X2h)aWdodDsgLy9p$iBwaXh)$HMNCgkJCQkJJHggPSAkdGhpcy0+eHRyKCR4X3dvc(xkKSAtICgkdGhpcy0+c21h$GxfZ(9udF93aWR0aCpTdHJMZW4oJGxhYikpLzI7DQoJCQkJCU)tYWd)U3RyaW5nKCR0aG)zLT5p$WcsICR0aG)zLT5z$WFs$F9($250LCR4LCAkeSAsJGxhYiwgJHRoaXMtP(5keF90ZXh0X2Nv$G9yKTsNCgkJCQ)9DQoJCQ)9DQoNCg)9DQoNCg)(dW5jdG)v$iBEc(F3WERhdGFMYWJ)$CgkeGxhYiwkeHBvcykgew0KCQkvL3hw$3MgY29tZXMgaW4gaW4gUE)YRUxTIG5vdCBp$iB3$3JsZCBj$29yZG)uYXR)cy4NCgkJLy9Ec(F3IGFuIHggZGF0YSBsYWJ)$CBjZW50ZXJ)ZCBhdCB4$GFiDQoJCQ)pZiAoJHRoaXMtPnVzZV90dGYpIHsNCgkJCQkkeGxhY)9zaXp)ID0gJHRoaXMtP)RURkJC$3hTaXp)KCR0aG)zLT5heG)zX3R0Z(Zv$nRfc2)6ZSwNCgkJCQkJJHRoaXMtPnhfZGF0YWxhY(VsX2FuZ2x)LCAkdGhpcy0+YXhpc190dGZ($250LCAkeGxhYik7IC8vQW4gYXJyYXkNCgkJCQkkeSA9ICR0aG)zLT5w$G90X2FyZWF$M10gKyAkeGxhY)9zaXp)WzFdICsgNDsgIC8vaW4gcG)4ZWxzDQoJCQkJJHggPSAkeHBvcyAtICR4$GFiX3Npe(V$MF0vMjsNCgkJCQ)J$WFnZVRUR)R)eHQoJHRoaXMtP()tZywgJHRoaXMtP(F4aXNfdHR(Z(9udF9zaXp)LA0KCQkJCQkkdGhpcy0+eF9kYXRh$GFiZWxfYW5n$GUsICR4LCAkeSwgJHRoaXMtP(5keF90ZXh0X2Nv$G9yLCAkdGhpcy0+YXhpc190dGZ($250LCAkeGxhYik7DQoJCQ)9IGVsc2Ugew0KCQkJCSR4$GFiX3Npe(UgPSBhcnJheShJ$WFnZUZv$nRXaWR0aCgkdGhpcy0+YXhpc19($250KSpTdHJMZW4oJHhsYWIpLCAkdGhpcy0+c21h$GxfZ(9udF9oZW)naHQqMyk7DQoJCQkJaWYgKCR0aG)zLT54X2RhdGFsYWJ)$F9h$(dsZSA9PSA5MCkgew0KCQkJCQkkeSA9ICR0aG)zLT5w$G90X2FyZWF$M10gKyBJ$WFnZUZv$nRXaWR0aCgkdGhpcy0+YXhpc19($250KSpTdHJMZW4oJHhsYWIpOyAvL2)uIHBpeGVscw0KCQkJCQkkeCA9ICR4cG9zIC0gKCR0aG)zLT5z$WFs$F9($250X2h)aWdodCk7DQoJCQkJCU)tYWd)U3RyaW5nVXAoJHRoaXMtP()tZywgJHRoaXMtP(F4aXNfZ(9udCwkeCwgJHkgLCR4$GFiLCAkdGhpcy0+$(R4X3R)eHRfY29s$3IpOw0KCQkJCX0gZWxzZSB7DQoJCQkJCSR5ID0gJHRoaXMtPnBs$3RfYXJ)YVszXSArIE)tYWd)R(9udEh)aWdodCgkdGhpcy0+YXhpc19($250KTsgLy9p$iBwaXh)$HMNCgkJCQkJJHggPSAkeHBvcyAtIChJ$WFnZUZv$nRXaWR0aCgkdGhpcy0+YXhpc19($250KSpTdHJMZW4oJHhsYWIpKS8yOw0KCQkJCQ)J$WFnZVN0c()uZygkdGhpcy0+aW1nLCAkdGhpcy0+YXhpc19($250LCR4LCAkeSAsJHhsYWIsICR0aG)zLT5uZHhfdGV4dF9j$2xvcik7DQoJCQkJfQ0KCQkJfQ0KDQoJfQ0KDQoJZnVuY3Rp$24gRHJhd1BpZUNoYXJ0KCkgew0KCQkvLyRwaSA9ICczLjE0MTU5MjY1MzU4OTc5MzIzODQ2JzsNCgkJJHhw$3MgPSAkdGhpcy0+cGxvdF9hc(VhWzBdICsgJHRoaXMtPnBs$3RfYXJ)YV93aWR0aC8yOw0KCQkkeXBvcyA9ICR0aG)zLT5w$G90X2FyZWF$MV0gKyAkdGhpcy0+cGxvdF9hc(VhX2h)aWdodC8yOw0KCQkkZG)h$WV0ZXIgPSAo$W)uKCR0aG)zLT5w$G90X2FyZWFfd2)kdGgsICR0aG)zLT5w$G90X2FyZWFfaGVpZ2h0KSkgOw0KCQkkc(FkaXVzID0gJGRpYW1)dGVyLzI7DQoNCgkJSW1hZ2VBc(MoJHRoaXMtP()tZywgJHhw$3MsICR5cG9zLCAkZG)h$WV0ZXIsICRkaWFtZXR)ciwgMCwgMzYwLCAkdGhpcy0+$(R4X2dyaWRfY29s$3IpOw0KDQoJCSR0$3Rh$CA9IDA7DQoJCXJ)c2V0KCR0aG)zLT5kYXRhX3Zh$HV)cyk7DQoJCSR0$XAgPSAkdGhpcy0+$nVtY(VyX3hfcG9p$nRzIC0gMTsNCgkJd2hp$GUgKGxpc3QoJGosICRy$3cpID0gZWFjaCgkdGhpcy0+ZGF0YV92YWx1ZXMpKSB7DQoJCQkvL0d)dCBzdW0g$2YgZWFjaCB0eXB)DQoJCQkkY29s$3JfaW5kZXggPSAwOw0KCQkJJGkgPSAwOw0KCQkJLy9($3J)YWNoICgkc(93IGFzICR2KSANCgkJCXdoaWx)IChsaXN0KCRrLCAkdikgPSB)YWNoKCRy$3cpKSB7DQoJCQkJaWYgKCRrICE9IDApIHsNCgkJCQkJaWYgKCRqID09IDApIHsgDQoJCQkJCQkkc3VtYXJyWyRpXSA9ICR2Ow0KCQkJCQ)9IGVsc2VpZiAoJGogPCAkdG1wKSB7IA0KCQkJCQkJJHN1$WFyc)skaV0gKz0gJHY7DQoJCQkJCX0gZWxzZSB7IA0KCQkJCQkJJHN1$WFyc)skaV0gKz0gJHY7DQoJCQkJCS8vIE5PVEUhICBzdW0gPiAwIHRvIG1ha2UgcG))IGNoYXJ0cw0KCQkJCQkJJHN1$WFyc)skaV0gPSBhYnMoJHN1$WFyc)skaV0pOyANCgkJCQkJCSR0$3Rh$CArPSAkc3VtYXJyWyRpXTsNCgkJCQkJfQ0KCQkJCX0NCgkJCSRpKys7DQoJCQ)9DQoJCX0NCg0KCQkkY29s$3JfaW5kZXggPSAwOw0KCQkkc3RhcnRfYW5n$GUgPSAwOw0KDQoJCXJ)c2V0KCRzdW1hcnIpOw0KCQkkZW5kX2FuZ2x)ID0gMDsNCgkJd2hp$GUgKGxpc3QoLCAkd(FsKSA9IGVhY2goJHN1$WFycikpIHsNCgkJCW)(ICgkY29s$3JfaW5kZXggPj0gY291$nQoJHRoaXMtP(5keF9kYXRhX2Nv$G9yKSkgJGNv$G9yX2)uZGV4PTA7ICAvL2RhdGFfY29s$3IgPSBhcnJheQ0KCQkJJGxhY(VsX3R4dCA9IG51$WJ)c)9($3JtYXQoKCR2YWwgLyAkdG90YWwgKiAxMDApLCAkdGhpcy0+eV9wc(VjaXNp$24sICIuIiwgIiwiKSAuICI)IjsNCgkJCSR2YWwgPSAzNjAgKiAoJHZh$CAvICR0$3Rh$Ck7DQoNCgkJCSR)$(RfYW5n$GUgKz0gJHZh$DsNCgkJCSRtaWRfYW5n$GUgPSAkZW5kX2FuZ2x)IC0gKCR2YWwgLyAyKTsNCg0KCQkJJHNsaWN)Y29sID0gJHRoaXMtP(5keF9kYXRhX2Nv$G9yWyRj$2xvc)9p$(R)eF07DQoNCi8vT(V)ZCB0aG)zIGFnYW)uIGZvciBGaWxsVG9C$3JkZXINCgkJCU)tYWd)QXJjKCR0aG)zLT5p$WcsICR4cG9zLCAkeXBvcywgJGRpYW1)dGVyLCAkZG)h$WV0ZXIsIDAsIDM2MCwgJHRoaXMtP(5keF9nc()kX2Nv$G9yKTsNCg0KCQkJJG91dF94ID0gJHJhZG)1cyAqIGNvcyhkZWcyc(FkKCR)$(RfYW5n$GUpKTsNCgkJCSRvdXRfeSA9IC0gJHJhZG)1cyAqIHNp$ihkZWcyc(FkKCR)$(RfYW5n$GUpKTsNCg0KCQkJJG1pZF94ID0gJHhw$3MgKyAoJHJhZG)1cy8yICogY29zKGR)ZzJyYWQoJG1pZF9h$(dsZSkpKSA7DQoJCQkk$W)kX3kgPSAkeXBvcyArICgtICRyYWRpdXMvMiAqIHNp$ihkZWcyc(FkKCRtaWRfYW5n$GUpKSk7DQoNCgkJCSRsYWJ)$F94ID0gJHhw$3MgKyAoJHJhZG)1cyAqIGNvcyhkZWcyc(FkKCRtaWRfYW5n$GUpKSkgKiAkdGhpcy0+$GFiZWxfc2Nh$GVfcG9zaXRp$247DQoJCQkk$GFiZWxfeSA9ICR5cG9zICsgKC0gJHJhZG)1cyAqIHNp$ihkZWcyc(FkKCRtaWRfYW5n$GUpKSkgKiAkdGhpcy0+$GFiZWxfc2Nh$GVfcG9zaXRp$247DQoNCgkJCSRvdXRfeCA9ICR4cG9zICsgJG91dF94Ow0KCQkJJG91dF95ID0gJH)w$3MgKyAk$3V0X3k7DQoNCgkJCU)tYWd)TG)uZSgkdGhpcy0+aW1nLCAkeHBvcywgJH)w$3MsICRvdXRfeCwgJG91dF95LCAkdGhpcy0+$(R4X2dyaWRfY29s$3IpOw0KCQkJLy9J$WFnZUxp$(UoJHRoaXMtP()tZywgJHhw$3MsICR5cG9zLCAk$GFiZWxfeCwgJGxhY(VsX3ksICR0aG)zLT5uZHhfZ3JpZF9j$2xvcik7DQoJCQ)J$WFnZUZp$GxU$0Jvc(R)cigkdGhpcy0+aW1nLCAk$W)kX3gsICRtaWRfeSwgJHRoaXMtP(5keF9nc()kX2Nv$G9yLCAkc2xpY2Vj$2wpOw0KDQoJCQ)pZiAoJHRoaXMtPnVzZV90dGYpIHsNCgkJCQ)J$WFnZVRUR)R)eHQoJHRoaXMtP()tZywgJHRoaXMtP(F4aXNfdHR(Z(9udF9zaXp)LCAwLCAk$GFiZWxfeCwgJGxhY(VsX3ksICR0aG)zLT5uZHhfZ3JpZF9j$2xvciwgJHRoaXMtP(F4aXNfdHR(Z(9udCwgJGxhY(VsX3R4dCk7DQoJCQ)9IGVsc2Ugew0KCQkJCU)tYWd)U3RyaW5nKCR0aG)zLT5p$WcsICR0aG)zLT5z$WFs$F9($250LCAk$GFiZWxfeCwgJGxhY(VsX3ksICRsYWJ)$F90eHQsICR0aG)zLT5uZHhfZ3JpZF9j$2xvcik7DQoJCQ)9DQoNCgkJCSRzdGFydF9h$(dsZSA9ICR2YWw7DQoNCgkJCSRj$2xvc)9p$(R)eCsrOw0KCQ)9DQoNCg)9DQoNCg)(dW5jdG)v$iBEc(F3TG)uZXNFcnJvcigpIHsNCgkJLy9Ec(F3IExp$(VzIHdpdGggRXJy$3IgQ(FycyAtIGRhdGEgY29tZXMgaW4gYXMgYXJyYXkoInRpdGx)Iix4LHksZXJy$3IrLGVyc(9yLSx5Mix)cnJvcjIrLGVyc(9yMi0sLi4uKTsNCgkJJHN0YXJ0X2xp$(VzID0gMDsNCg0KCQ)yZXN)dCgkdGhpcy0+ZGF0YV92YWx1ZXMpOw0KCQ)3aG)sZSAo$G)zdCgsICRy$3cpID0gZWFjaCgkdGhpcy0+ZGF0YV92YWx1ZXMpKSB7DQoJCQkkY29s$3JfaW5kZXggPSAwOw0KCQkJJGkgPSAwOw0KDQoJCQ)3aG)sZSAo$G)zdCgka2V5LCAkd(FsKSA9IGVhY2goJHJvdykpIHsNCi8vZWNo$yAiJGt)eSwgJGksICR2YWw8YnI+IjsNCgkJCQ)pZiAoJGt)eSA9PSAwKSB7DQoJCQkJCSRsYWIgPSAkd(FsOw0KCQkJCX0gZWxzZW)(ICgka2V5ID09IDEpIHsNCgkJCQkJJHhf$(93ID0gJHZh$DsNCgkJCQkJJHhf$(93X3BpeGVscyA9ICR0aG)zLT54dHIoJHhf$(93KTsgLy9Vc2UgYSBiaXQg$W9yZSBtZW1vcnkgdG8gc2F2ZSAyTiBvcGVyYXRp$25zLg0KCQkJCX0gZWxzZW)(ICgka2V5JTMgPT0gMikgew0KCQkJCQkkeV9u$3cgPSAkd(FsOw0KCQkJCQkkeV9u$3dfcG)4ZWxzID0gJHRoaXMtPn)0cigkeV9u$3cpOw0KDQoJCQkJCS8vRHJhdyBEYXRhIExhY(VsDQoJCQkJCW)(ICggJHRoaXMtP(RyYXdfZGF0YV9sYWJ)$HMgPT0gMSkgew0KCQkJCQkJJHRoaXMtPkRyYXdEYXRhTGFiZWwoJGxhYiwkeF9u$3csJH)f$(93KTsNCgkJCQkJfQ0KDQoJCQkJCW)(ICgkY29s$3JfaW5kZXggPj0gY291$nQoJHRoaXMtP(5keF9kYXRhX2Nv$G9yKSkgeyAkY29s$3JfaW5kZXg9MDt9Ow0KCQkJCQkkY(FyY29sID0gJHRoaXMtP(5keF9kYXRhX2Nv$G9yWyRj$2xvc)9p$(R)eF07DQoJCQkJCSR)cnJvc)9iYXJj$2wgPSAkdGhpcy0+$(R4X2Vyc(9yX2Jhc)9j$2xvc)skY29s$3JfaW5kZXhdOw0KDQovL2VjaG8gInN0YXJ0ID0gJHN0YXJ0X2xp$(VzPGJyPiI7DQoJCQkJCW)(ICgkc3RhcnRf$G)uZXMgPT0gMSkgew0KCQkJCQkJZ(9yICgkd2)kdGggPSAwOyAkd2)kdGggPCAkdGhpcy0+$G)uZV93aWR0aDsgJHdpZHRoKyspIHsNCgkJCQkJCQ)J$WFnZUxp$(UoJHRoaXMtP()tZywgJHhf$(93X3BpeGVscywgJH)f$(93X3BpeGVscyArICR3aWR0aCwNCgkJCQkJCQkJJGxhc3R4WyRpXSwgJGxhc3R5WyRpXSArICR3aWR0aCwgJGJhc(Nv$Ck7DQoJCQkJCQ)9DQoJCQkJCX0NCg0KCQkJCQkk$GFzdHh$JG)dID0gJHhf$(93X3BpeGVsczsNCgkJCQkJJGxhc3R5WyRpXSA9ICR5X25vd19waXh)$HM7DQoJCQkJCSRj$2xvc)9p$(R)eCsrOw0KCQkJCQkkaSsrOw0KCQkJCQkkc3RhcnRf$G)uZXMgPSAxOw0KCQkJCX0gZWxzZW)(ICgka2V5JTMgPT0gMCkgew0KCQkJCQkkdGhpcy0+RHJhd1)FcnJvckJhcigkeF9u$3csJH)f$(93LCR2YWwsJHRoaXMtP(Vyc(9yX2Jhc)9zaGFwZSwkZXJy$3JfY(FyY29sKTsNCgkJCQ)9IGVsc2VpZiAoJGt)eSUzID09IDEpIHsNCgkJCQkJJHRoaXMtPkRyYXdZRXJy$3JCYXIoJHhf$(93LCR5X25vdywtJHZh$CwkdGhpcy0+ZXJy$3JfY(FyX3NoYXB)LCR)cnJvc)9iYXJj$2wpOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0NCg0KCWZ1$(N0aW9uIERyYXdE$3RzRXJy$3IoKSB7DQoJCS8vRHJhdyBE$3RzIC0gZGF0YSBj$21)cyBp$iBhcyBhcnJheSgidG)0$GUiLHgseSx)cnJvcissZXJy$3ItLHkyLGVyc(9yMissZXJy$3IyLSwuLi4pOw0KCQ)yZXN)dCgkdGhpcy0+ZGF0YV92YWx1ZXMpOw0KCQ)3aG)sZSAo$G)zdCgsICRy$3cpID0gZWFjaCgkdGhpcy0+ZGF0YV92YWx1ZXMpKSB7DQoJCQkkY29s$3JfaW5kZXggPSAwOw0KCQkJLy9($3J)YWNoICgkc(93IGFzICR2KSANCgkJCXdoaWx)IChsaXN0KCRrZXksICR2YWwpID0gZWFjaCgkc(93KSkgew0KCQkJCW)(ICgka2V5ID09IDApIHsNCgkJCQ)9IGVsc2VpZiAoJGt)eSA9PSAxKSB7DQoJCQkJCSR4cG9zID0gJHZh$DsNCgkJCQ)9IGVsc2VpZiAoJGt)eSUzID09IDIpIHsNCgkJCQkJaWYgKCRj$2xvc)9p$(R)eCA+PSBj$3VudCgkdGhpcy0+$(R4X2RhdGFfY29s$3IpKSAkY29s$3JfaW5kZXg9MDsNCgkJCQkJJGJhc(Nv$CA9ICR0aG)zLT5uZHhfZGF0YV9j$2xvc)skY29s$3JfaW5kZXhdOw0KCQkJCQkkZXJy$3JfY(FyY29sID0gJHRoaXMtP(5keF9)cnJvc)9iYXJfY29s$3J$JGNv$G9yX2)uZGV4XTsNCgkJCQkJJH)w$3MgPSAkd(FsOw0KDQoJCQkJCSRj$2xvc)9p$(R)eCsrOw0KCQkJCQkkdGhpcy0+RHJhd0RvdCgkeHBvcywkeXBvcywkdGhpcy0+cG9p$nRfc2hhcGUsJGJhc(Nv$Ck7DQoJCQkJfSB)$HN)aWYgKCRrZXk)MyA9PSAwKSB7DQoJCQkJCSR0aG)zLT5Ec(F3WUVyc(9yQ(FyKCR4cG9zLCR5cG9zLCR2YWwsJHRoaXMtP(Vyc(9yX2Jhc)9zaGFwZSwkZXJy$3JfY(FyY29sKTsNCgkJCQ)9IGVsc2VpZiAoJGt)eSUzID09IDEpIHsNCgkJCQkJJG1p$(UgPSAkd(FsIDsNCgkJCQkJJHRoaXMtPkRyYXdZRXJy$3JCYXIoJHhw$3MsJH)w$3MsLSR2YWwsJHRoaXMtP(Vyc(9yX2Jhc)9zaGFwZSwkZXJy$3JfY(FyY29sKTsNCgkJCQ)9DQoJCQ)9DQoJCX0NCg0KCX0NCg0KCWZ1$(N0aW9uIERyYXdE$3RzKCkgew0KCQkvL0RyYXcgRG90cyAtIGRhdGEgY29tZXMgaW4gYXMgYXJyYXkoInRpdGx)Iix4LHkxLHkyLHkzLC4uLik7DQoJCXJ)c2V0KCR0aG)zLT5kYXRhX3Zh$HV)cyk7DQoJCXdoaWx)IChsaXN0KCRqLCAkc(93KSA9IGVhY2goJHRoaXMtP(RhdGFfd(FsdWVzKSkgew0KCQkJJGNv$G9yX2)uZGV4ID0gMDsNCgkJCS8vZ(9yZWFjaCAoJHJvdyBhcyAkdikgDQoJCQ)3aG)sZSAo$G)zdCgkaywgJHYpID0gZWFjaCgkc(93KSkgew0KCQkJCW)(ICgkayA9PSAwKSB7DQoJCQkJfSB)$HN)aWYgKCgkayA9PSAxKSA(JiAoJHRoaXMtP(RhdGFfdH)wZSA9PSAiZGF0YS1kYXRhIikpICB7IA0KCQkJCQkkeHBvcyA9ICR2Ow0KCQkJCX0gZWxzZSB7DQoJCQkJCW)(ICgkdGhpcy0+ZGF0YV90eXB)ID09ICJ0ZXh0LWRhdGEiKSB7IA0KCQkJCQkJJHhw$3MgPSAoJGorLjUpOyANCgkJCQkJfSANCgkJCQkJaWYgKCRj$2xvc)9p$(R)eCA+PSBj$3VudCgkdGhpcy0+$(R4X2RhdGFfY29s$3IpKSAkY29s$3JfaW5kZXg9MDsNCgkJCQkJJGJhc(Nv$CA9ICR0aG)zLT5uZHhfZGF0YV9j$2xvc)skY29s$3JfaW5kZXhdOw0KDQoJCQkJCS8vaWYgKG)zX251$WVyaWMoJHYpKSAgLy9QSFA0IG9u$HkNCgkJCQkJaWYgKChzdHJ2YWwoJHYpICE9ICIiKSApIHsgICAvL0Fs$G93IGZvciBtaXNzaW5nIFkgZGF0YSANCgkJCQkJCSR0aG)zLT5Ec(F3RG90KCR4cG9zLCR2LCR0aG)zLT5w$2)udF9zaGFwZSwkY(FyY29sKTsNCgkJCQkJfQ0KCQkJCQkkY29s$3JfaW5kZXgrKzsNCgkJCQ)9DQoJCQ)9DQoJCX0NCg0KCX0gLy9(dW5jdG)v$iBEc(F3RG90cw0KDQoJZnVuY3Rp$24gRHJhd0RvdFN)c())cygpIHsNCgkJLy9EZXByZWNpYXR)ZDogVXN)IERyYXdE$3RzDQoJCSR0aG)zLT5Ec(F3RG90cygpOw0KCX0NCg0KCWZ1$(N0aW9uIERyYXdUaG)uQ(FyTG)uZXMoKSB7DQoJCS8vQSBj$GVh$ix(YXN0IHJvdXRp$(UgZ(9yIHdoZW4geW91IGp1c3Qgd2FudCBjaGFydHMg$G)rZSBzdG9jayB2$2x1$WUgY2hhcnRzDQoJCS8vRGF0YSBtdXN0IGJ)IHR)eHQtZGF0YSBzaW5jZSBJIGRpZG4ndCBzZWUgYSBnc(FwaG)uZyBuZWVkIGZvciB)cXVh$Gx5IHNwYWN)ZCB0aG)uIGxp$(VzLiANCgkJLy9JZiB5$3Ugd2FudCBpdCAtIHRoZW4gd3JpdGUgdG8gYWZh$kBqZW8u$(V0IGFuZCBJIG1pZ2h0IGFkZCBpdC4gDQoNCgkJaWYgKCR0aG)zLT5kYXRhX3R5cGUgIT0gI(RhdGEtZGF0YSIpIHsgJHRoaXMtPkRyYXdFcnJvcignRGF0YSBUeXB)IGZvciBUaG)uQ(FyTG)uZXMg$XVzdCBiZSBkYXRhLWRhdGEnKTsgfTsNCgkJJHkxID0gJHRoaXMtPn)0cigkdGhpcy0+eF9heG)zX3Bvc2)0aW9uKTsNCg0KCQ)yZXN)dCgkdGhpcy0+ZGF0YV92YWx1ZXMpOw0KCQ)3aG)sZSAo$G)zdCgsICRy$3cpID0gZWFjaCgkdGhpcy0+ZGF0YV92YWx1ZXMpKSB7DQoJCQkkY29s$3JfaW5kZXggPSAwOw0KCQkJd2hp$GUgKGxpc3QoJGssICR2KSA9IGVhY2goJHJvdykpIHsNCgkJCQ)pZiAoJGsgPT0gMCkgew0KCQkJCQkJJHhsYWIgPSAkdjsNCgkJCQ)9IGVsc2VpZiAoJGsgPT0gMSkgew0KCQkJCQkkeHBvcyA9ICR0aG)zLT54dHIoJHYpOw0KCQkJCQ)pZiAoICgkdGhpcy0+ZHJhd194X2RhdGFf$GFiZWxzID09IDEpICkgIHsgLy9TZWUgI(xhY(Vsc19u$3R)MSBhY(92ZS4NCgkJCQkJCSR0aG)zLT5Ec(F3WERhdGFMYWJ)$CgkeGxhYiwkeHBvcyk7DQoJCQkJCX0NCgkJCQ)9IGVsc2Ugew0KCQkJCQ)pZiAoJGNv$G9yX2)uZGV4ID49IGNvdW50KCR0aG)zLT5uZHhfZGF0YV9j$2xvcikpICRj$2xvc)9p$(R)eD0wOw0KCQkJCQkkY(FyY29sID0gJHRoaXMtP(5keF9kYXRhX2Nv$G9yWyRj$2xvc)9p$(R)eF07DQoNCgkJCQkJSW1hZ2VMaW5)KCR0aG)zLT5p$WcsJHhw$3MsJHkxLCR4cG9zLCR0aG)zLT55dHIoJHYpLCRiYXJj$2wpOw0KCQkJCQkkY29s$3JfaW5kZXgrKzsNCgkJCQ)9DQoJCQ)9DQoJCX0NCg0KCX0gIC8vZnVuY3Rp$24gRHJhd1RoaW5CYXJMaW5)cw0KDQoJZnVuY3Rp$24gRHJhd1)FcnJvckJhcigkeF93$3JsZCwkeV93$3JsZCwkZXJy$3JfaGVpZ2h0LCR)cnJvc)9iYXJfdH)wZSwkY29s$3IpIHsNCgkJJHgxID0gJHRoaXMtPnh0cigkeF93$3JsZCk7DQoJCSR5MSA9ICR0aG)zLT55dHIoJH)fd29y$GQpOw0KCQkkeTIgPSAkdGhpcy0+eXRyKCR5X3dvc(xkKyR)cnJvc)9oZW)naHQpIDsNCg0KCQ)($3IgKCR3aWR0aCA9IDA7ICR3aWR0aCA8ICR0aG)zLT5)cnJvc)9iYXJf$G)uZV93aWR0aDsgJHdpZHRoKyspIHsNCgkJCU)tYWd)TG)uZSgkdGhpcy0+aW1nLCAkeDErJHdpZHRoLCAkeTEgLCAkeDErJHdpZHRoLCAkeTIsICRj$2xvcik7DQoJCQ)J$WFnZUxp$(UoJHRoaXMtP()tZywgJHgxLSR3aWR0aCwgJHkxICwgJHgxLSR3aWR0aCwgJHkyLCAkY29s$3IpOw0KCQ)9DQoJCXN3aXRjaCAoJGVyc(9yX2Jhc)90eXB)KSB7DQoJCQ)jYXN)ICJsaW5)IjoNCgkJCQ)ic(VhazsNCgkJCWNhc2UgInR)ZSI6DQoJCQkJSW1hZ2VMaW5)KCR0aG)zLT5p$WcsICR4MS0kdGhpcy0+ZXJy$3JfY(FyX3Npe(UsICR5MiwgJHgxKyR0aG)zLT5)cnJvc)9iYXJfc2)6ZSwgJHkyLCAkY29s$3IpOw0KCQkJCWJyZWFrOw0KCQkJZGV(YXVsdDoNCgkJCQ)J$WFnZUxp$(UoJHRoaXMtP()tZywgJHgxLSR0aG)zLT5)cnJvc)9iYXJfc2)6ZSwgJHkyLCAkeDErJHRoaXMtP(Vyc(9yX2Jhc)9zaXp)LCAkeTIsICRj$2xvcik7DQoJCQkJYnJ)YWs7DQoJCX0NCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoJZnVuY3Rp$24gRHJhd0RvdCgkeF93$3JsZCwkeV93$3JsZCwkZG90X3R5cGUsJGNv$G9yKSB7DQoJCSRoYWx(X3BvaW50ID0gJHRoaXMtPnBvaW50X3Npe(UgLyAyOw0KCQkkeDEgPSAkdGhpcy0+eHRyKCR4X3dvc(xkKSAtICRoYWx(X3BvaW50Ow0KCQkkeDIgPSAkdGhpcy0+eHRyKCR4X3dvc(xkKSArICRoYWx(X3BvaW50Ow0KCQkkeTEgPSAkdGhpcy0+eXRyKCR5X3dvc(xkKSAtICRoYWx(X3BvaW50Ow0KCQkkeTIgPSAkdGhpcy0+eXRyKCR5X3dvc(xkKSArICRoYWx(X3BvaW50Ow0KDQoJCXN3aXRjaCAoJGRvdF90eXB)KSB7DQoJCQ)jYXN)ICJoYWx($G)uZSI6DQoJCQkJSW1hZ2VGaWxsZWRSZWN0YW5n$GUoJHRoaXMtP()tZywgJHgxLCAkdGhpcy0+eXRyKCR5X3dvc(xkKSwgJHRoaXMtPnh0cigkeF93$3JsZCksICR0aG)zLT55dHIoJH)fd29y$GQpLCAkY29s$3IpOw0KCQkJCWJyZWFrOw0KCQkJY2FzZSAi$G)uZSI6DQoJCQkJSW1hZ2VGaWxsZWRSZWN0YW5n$GUoJHRoaXMtP()tZywgJHgxLCAkdGhpcy0+eXRyKCR5X3dvc(xkKSwgJHgyLCAkdGhpcy0+eXRyKCR5X3dvc(xkKSwgJGNv$G9yKTsNCgkJCQ)ic(VhazsNCgkJCWNhc2UgInJ)Y3QiOg0KCQkJCU)tYWd)R()s$GVkU(VjdGFuZ2x)KCR0aG)zLT5p$WcsICR4MSwgJHkxLCAkeDIsICR5MiwgJGNv$G9yKTsNCgkJCQ)ic(VhazsNCgkJCWNhc2UgI(Npc(NsZSI6DQoJCQkJSW1hZ2VBc(MoJHRoaXMtP()tZywgJHgxICsgJGhh$GZfcG9p$nQsICR5MSArICRoYWx(X3BvaW50LCAkdGhpcy0+cG9p$nRfc2)6ZSwgJHRoaXMtPnBvaW50X3Npe(UsIDAsIDM2MCwgJGNv$G9yKTsNCgkJCQ)ic(VhazsNCgkJCWNhc2UgI(RvdCI6DQoJCQkJSW1hZ2VBc(MoJHRoaXMtP()tZywgJHgxICsgJGhh$GZfcG9p$nQsICR5MSArICRoYWx(X3BvaW50LCAkdGhpcy0+cG9p$nRfc2)6ZSwgJHRoaXMtPnBvaW50X3Npe(UsIDAsIDM2MCwgJGNv$G9yKTsNCgkJCQ)J$WFnZUZp$GxU$0Jvc(R)cigkdGhpcy0+aW1nLCAkeDEgKyAkaGFsZ)9w$2)udCwgJHkxICsgJGhh$GZfcG9p$nQsICRj$2xvciwgJGNv$G9yKTsNCgkJCQ)ic(VhazsNCgkJCWNhc2UgI(RpYW1v$(QiOg0KDQoJCQkJJGFycnBvaW50cyA9IGFyc(F5KA0KCQkJCQkkeDEsJHkxICsgJGhh$GZfcG9p$nQsDQoJCQkJCSR4MSArICRoYWx(X3BvaW50LCAkeTEsDQoJCQkJCSR4MiwkeTEgKyAkaGFsZ)9w$2)udCwNCgkJCQkJJHgxICsgJGhh$GZfcG9p$nQsICR5Mg0KCQkJCSk7DQoNCgkJCQ)J$WFnZUZp$Gx)ZFBv$H)n$24oJHRoaXMtP()tZywgJGFycnBvaW50cywgNCwgJGNv$G9yKTsNCgkJCQ)ic(VhazsNCgkJCWNhc2UgInRyaWFuZ2x)IjoNCgkJCQkkYXJycG9p$nRzID0gYXJyYXkoICR4MSwgJHkxICsgJGhh$GZfcG9p$nQsDQoJCQkJCSR4MiwgJHkxICsgJGhh$GZfcG9p$nQsDQoJCQkJCSR4MSArICRoYWx(X3BvaW50LCAkeTINCgkJCQkpOw0KCQkJCU)tYWd)R()s$GVkUG9seWdv$igkdGhpcy0+aW1nLCAkYXJycG9p$nRzLCAzLCAkY29s$3IpOw0KCQkJCWJyZWFrOw0KCQkJZGV(YXVsdDoNCgkJCQ)J$WFnZUZp$Gx)ZFJ)Y3Rh$(dsZSgkdGhpcy0+aW1nLCAkeDEsICR5MSwgJHgyLCAkeTIsICRj$2xvcik7DQoJCQkJYnJ)YWs7DQoJCX0NCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoJZnVuY3Rp$24gU2V0RXJy$3JCYXJMaW5)V2)kdGgoJHdoaWNoX3N)Y(x3KSB7DQoJCSR0aG)zLT5)cnJvc)9iYXJf$G)uZV93aWR0aCA9ICR3aG)jaF9zZWJsdzsNCgkJc(V0dXJuIHRydWU7DQoJfQ0KDQoNCg)(dW5jdG)v$iBTZXRMaW5)V2)kdGgoJHdoaWNoX2x3KSB7DQoJCSR0aG)zLT5saW5)X3dpZHRoID0gJHdoaWNoX2x3Ow0KCQ)pZiAoISR0aG)zLT5)cnJvc)9iYXJf$G)uZV93aWR0aCkgeyANCgkJCSR0aG)zLT5)cnJvc)9iYXJf$G)uZV93aWR0aCA9ICR3aG)jaF9sdzsNCgkJfQ0KCQ)yZXR1c(4gdHJ1ZTsNCg)9DQoNCg)(dW5jdG)v$iBEc(F3QXJ)YSgpIHsNCgkJLy9EYXRhIGNv$WVzIG)uIGFzICRkYXRhW109KCJ0aXRsZSIseCx5LC4uLik7DQoJCS8vU2V0IGZpcnN0IGFuZCBsYXN0IGRhdGFw$2)udHMg$2YgYXJ)YQ0KCQkkaSA9IDA7DQoJCXdoaWx)ICgkaSA8ICR0aG)zLT5yZWNvc(RzX3B)c)9nc(91cCkgew0KCQkJJHBvc2Fyc)skaV1$XSA9ICAkdGhpcy0+eHRyKCR0aG)zLT5taW5feCk7CS8veCBp$()0aWFsDQoJCQkkcG9zYXJyWyRpXVtdID0gICR0aG)zLT55dHIoJHRoaXMtPnhfYXhpc19w$3NpdG)v$ik7IAkvL3kgaW5pdG)h$A0KCQkJJGkrKzsNCgkJfQ0KDQoJCXJ)c2V0KCR0aG)zLT5kYXRhX3Zh$HV)cyk7DQoJCXdoaWx)IChsaXN0KCRqLCAkc(93KSA9IGVhY2goJHRoaXMtP(RhdGFfd(FsdWVzKSkgew0KCQkJJGNv$G9yX2)uZGV4ID0gMDsNCgkJCS8vZ(9yZWFjaCAoJHJvdyBhcyAkdikNCgkJCXdoaWx)IChsaXN0KCRrLCAkdikgPSB)YWNoKCRy$3cpKSB7DQoJCQkJaWYgKCRrID09IDApIHsNCgkJCQkJLy9Ec(F3IERhdGEgTGFiZWxzDQoJCQkJCSR4$GFiID0gU3ViU3RyKCR2LDAsJHRoaXMtPnhfZGF0YWxhY(VsX21heGx)$(d0aCk7DQoJCQkJfSB)$HN)aWYgKCRrID09IDEpIHsNCgkJCQkJJHggPSAkdGhpcy0+eHRyKCR2KTsNCgkJCQkJLy8gRHJhd1hEYXRhTGFiZWwgaW50ZXJ(ZXJ)cyB3aXRoIE51$WJ)cnMg$24geC1heG)zDQoJCQkJCS8vJHRoaXMtPkRyYXdYRGF0YUxhY(VsKCR4$GFiLCR4KTsNCgkJCQ)9IGVsc2Ugew0KCQkJCQkvLyBDc(VhdGUgQXJyYXkg$2YgcG9p$nRzIGZvciBsYXR)cg0KDQoJCQkJCSR5ID0gJHRoaXMtPn)0cigkdik7DQoJCQkJCSRw$3NhcnJ$JGNv$G9yX2)uZGV4XVtdID0gJHg7DQoJCQkJCSRw$3NhcnJ$JGNv$G9yX2)uZGV4XVtdID0gJHk7DQoJCQkJCSRj$2xvc)9p$(R)eCsrOw0KCQkJCX0NCgkJCX0NCgkJfQ0KDQoJCS8vR()uYWxfcG9p$nRzDQoJCWZvciAoJGkgPSAwOyAkaSA8ICR0aG)zLT5yZWNvc(RzX3B)c)9nc(91cDsgJGkrKykgew0KCQkJJHBvc2Fyc)skaV1$XSA9ICAkdGhpcy0+eHRyKCR0aG)zLT5tYXhfeCk7CQkJLy94IGZp$(FsDQoJCQkkcG9zYXJyWyRpXVtdID0gICR0aG)zLT55dHIoJHRoaXMtPnhfYXhpc19w$3NpdG)v$ik7IAkvL3kgZ()uYWwNCgkgICAJfQ0KDQoJCSRj$2xvc)9p$(R)eD0wOw0KDQoJCS8vZ(9yZWFjaCgkcG9zYXJyIGFzICRy$3cpDQoJCXJ)c2V0KCRw$3NhcnIpOw0KCQ)3aG)sZSAo$G)zdCgsICRy$3cpID0gZWFjaCgkcG9zYXJyKSkgew0KCQkJaWYgKCRj$2xvc)9p$(R)eCA+PSBj$3VudCgkdGhpcy0+$(R4X2RhdGFfY29s$3IpKSAkY29s$3JfaW5kZXg9MDsNCgkJCSRiYXJj$2wgPSAkdGhpcy0+$(R4X2RhdGFfY29s$3J$JGNv$G9yX2)uZGV4XTsNCi8vZWNo$yAiJHJvd1swXSwkc(93WzFdLCRy$3d$M)0sJHJvd1szXSwkc(93WzRdLCRy$3d$NV0sJHJvd1s2XSwkc(93WzddLCRy$3d$OF0sJHJvd1s5XSwkc(93WzEwXSwkc(93WzExXSwkc(93WzEyXSwgJGJhc(Nv$Dxicj4iOw0KCQkJSW1hZ2VGaWxsZWRQ$2x5Z29uKCR0aG)zLT5p$WcsICRy$3csIChj$3VudCgkc(93KSkgLyAyLCAkY(FyY29sKTsNCgkJCSRj$2xvc)9p$(R)eCsrOw0KCQ)9DQovL2V4aXQ7DQoNCg)9DQoNCg)(dW5jdG)v$iBEc(F3QXJ)YVN)c())cygpIHsNCg0KCQkvL1N)dCB(aXJzdCBh$(Qg$GFzdCBkYXRhcG9p$nRzIG9(IGFyZWENCgkJJGkgPSAwOw0KCQ)3aG)sZSAoJGkgPCAkdGhpcy0+c(Vj$3Jkc19wZXJfZ3JvdXApIHsNCgkJCSRw$3NhcnJ$JG)dW10gPSAgJHRoaXMtPnh0ciguNSk7CQkJLy94IG)uaXRpYWwNCgkJCSRw$3NhcnJ$JG)dW10gPSAgJHRoaXMtPn)0cigkdGhpcy0+eF9heG)zX3Bvc2)0aW9uKTsgCS8veSBp$()0aWFsDQoJCQkkaSsrOw0KCQ)9DQoNCgkJc(VzZXQoJHRoaXMtP(RhdGFfd(FsdWVzKTsNCgkJd2hp$GUgKGxpc3QoJGosICRy$3cpID0gZWFjaCgkdGhpcy0+ZGF0YV92YWx1ZXMpKSB7DQoJCQkkY29s$3JfaW5kZXggPSAwOw0KCQkJLy9($3J)YWNoICgkc(93IGFzICR2KQ0KCQkJd2hp$GUgKGxpc3QoJGssICR2KSA9IGVhY2goJHJvdykpIHsNCgkJCQ)pZiAoJGsgPT0gMCkgew0KCQkJCQkvL0RyYXcgRGF0YSBMYWJ)$HMNCgkJCQkJJHhsYWIgPSBTdWJTdHIoJHYsMCwkdGhpcy0+eF9kYXRh$GFiZWxf$WF4$GVuZ3RoKTsNCgkJCQkJJHRoaXMtPkRyYXdYRGF0YUxhY(VsKCR4$GFiLCR0aG)zLT54dHIoJGogKyAuNSkpOw0KCQkJCX0gZWxzZSB7DQoJCQkJCS8vIENyZWF0ZSBBcnJheSBvZiBw$2)udHMgZ(9yIGxhdGVyDQoNCgkJCQkJJHggPSBy$3VuZCgkdGhpcy0+eHRyKCRqICsgLjUgKSk7DQoJCQkJCSR5ID0gc(91$(QoJHRoaXMtPn)0cigkdikpOw0KCQkJCQkkcG9zYXJyWyRj$2xvc)9p$(R)eF1$XSA9ICR4Ow0KCQkJCQkkcG9zYXJyWyRj$2xvc)9p$(R)eF1$XSA9ICR5Ow0KCQkJCQkkY29s$3JfaW5kZXgrKzsNCgkJCQ)9DQoJCQ)9DQoJCX0NCg0KCQkvL0Zp$(FsX3BvaW50cw0KCQ)($3IgKCRpID0gMDsgJGkgPCAkdGhpcy0+c(Vj$3Jkc19wZXJfZ3JvdXA7ICRpKyspIHsNCgkJCSRw$3NhcnJ$JG)dW10gPSAgc(91$(QoJHRoaXMtPnh0cigkdGhpcy0+$WF4X3ggKyAuNSkpOwkvL3ggZ()uYWwNCgkJCSRw$3NhcnJ$JG)dW10gPSAgJHRoaXMtPn)0cigkdGhpcy0+eF9heG)zX3Bvc2)0aW9uKTsgCQkvL3kgZ()uYWwNCgkgICAJfQ0KDQoJCSRj$2xvc)9p$(R)eD0wOw0KDQoJCS8vZ(9yZWFjaCgkcG9zYXJyIGFzICRy$3cpDQoJCXJ)c2V0KCRw$3NhcnIpOw0KCQ)3aG)sZSAo$G)zdCgsICRy$3cpID0gZWFjaCgkcG9zYXJyKSkgew0KCQkJaWYgKCRj$2xvc)9p$(R)eCA+PSBj$3VudCgkdGhpcy0+$(R4X2RhdGFfY29s$3IpKSAkY29s$3JfaW5kZXg9MDsNCgkJCSRiYXJj$2wgPSAkdGhpcy0+$(R4X2RhdGFfY29s$3J$JGNv$G9yX2)uZGV4XTsNCi8vZWNo$yAiJHJvd1swXSwkc(93WzFdLCRy$3d$M)0sJHJvd1szXSwkc(93WzRdLCRy$3d$NV0sJHJvd1s2XSwkc(93WzddLCRy$3d$OF0sJHJvd1s5XSwkc(93WzEwXSwkc(93WzExXSwkc(93WzEyXSwgJGJhc(Nv$Dxicj4iOw0KCQkJSW1hZ2VGaWxsZWRQ$2x5Z29uKCR0aG)zLT5p$WcsICRy$3csIChj$3VudCgkc(93KSkgLyAyLCAkY(FyY29sKTsNCgkJCSRj$2xvc)9p$(R)eCsrOw0KCQ)9DQoNCg)9DQoNCg)(dW5jdG)v$iBEc(F3TG)uZXMoKSB7DQoJCS8vRGF0YSBj$21)cyBp$iBhcyAkZGF0YVtdPSgidG)0$GUiLHgseSwuLi4pOw0KCQkkc3RhcnRf$G)uZXMgPSAwOw0KCQ)pZiAoJHRoaXMtP(RhdGFfdH)wZSA9PSAidGV4dC1kYXRhIikgeyANCgkJCSRsYXN0eFswXSA9ICR0aG)zLT54dHIoMCk7DQoJCQkk$GFzdH)$MF0gPSAkdGhpcy0+eHRyKDApOw0KCQ)9DQoNCgkJLy9($3J)YWNoICgkdGhpcy0+ZGF0YV92YWx1ZXMgYXMgJHJvdykNCgkJc(VzZXQoJHRoaXMtP(RhdGFfd(FsdWVzKTsNCgkJd2hp$GUgKGxpc3QoJGosICRy$3cpID0gZWFjaCgkdGhpcy0+ZGF0YV92YWx1ZXMpKSB7DQoNCgkJCSRj$2xvc)9p$(R)eCA9IDA7DQoJCQkkaSA9IDA7IA0KCQkJLy9($3J)YWNoICgkc(93IGFzICR2KQ0KCQkJd2hp$GUgKGxpc3QoJGssICR2KSA9IGVhY2goJHJvdykpIHsNCgkJCQ)pZiAoJGsgPT0gMCkgeyANCgkJCQkJJHhsYWIgPSBTdWJTdHIoJHYsMCwkdGhpcy0+eF9kYXRh$GFiZWxf$WF4$GVuZ3RoKTsNCgkJCQ)9IGVsc2VpZiAoKCRrID09IDEpICY(ICgkdGhpcy0+ZGF0YV90eXB)ID09ICJkYXRhLWRhdGEiKSkgIHsgDQoJCQkJCQkkeF9u$3cgPSAkdGhpcy0+eHRyKCR2KTsNCgkJCQ)9IGVsc2Ugew0KCQkJCQkvLyhk$3Vi$GUpICR2Ow0KCQkJCQkvLyBEc(F3IExp$(VzDQoJCQkJCW)(ICgkdGhpcy0+ZGF0YV90eXB)ID09ICJ0ZXh0LWRhdGEiKSB7IA0KCQkJCQkJJHhf$(93ID0gJHRoaXMtPnh0cigkaisuNSk7IA0KCQkJCQ)9IA0KDQoJCQkJCS8vaWYgKG)zX251$WVyaWMoJHYpKSAgLy9QSFA0IG9u$HkNCgkJCQkJaWYgKChzdHJ2YWwoJHYpICE9ICIiKSApIHsgICAvL0Fs$G93IGZvciBtaXNzaW5nIFkgZGF0YSANCgkJCQkJCSR5X25vdyA9ICR0aG)zLT55dHIoJHYpOw0KCQkJCQkJaWYgKCRj$2xvc)9p$(R)eCA+PSBj$3VudCgkdGhpcy0+$(R4X2RhdGFfY29s$3IpKSB7ICRj$2xvc)9p$(R)eD0wO30gOw0KCQkJCQkJJGJhc(Nv$CA9ICR0aG)zLT5uZHhfZGF0YV9j$2xvc)skY29s$3JfaW5kZXhdOw0KDQoJCQkJCQ)pZiAoJHN0YXJ0X2xp$(VzID09IDEpIHsNCgkJCQkJCQ)($3IgKCR3aWR0aCA9IDA7ICR3aWR0aCA8ICR0aG)zLT5saW5)X3dpZHRoOyAkd2)kdGgrKykgew0KCQkJCQkJCQ)pZiAoJHRoaXMtP(xp$(Vfc3R5$GV$JG)dID09ICJkYXNoZWQiKSB7DQoJCQkJCQkJCQkkdGhpcy0+RHJhd0Rhc2h)ZExp$(UoJHhf$(93LCAkeV9u$3cgKyAkd2)kdGgsICRsYXN0eFskaV0sICRsYXN0eVskaV0gKyAkd2)kdGgsIDQsNCwgJGJhc(Nv$Ck7DQoJCQkJCQkJCX0gZWxzZSB7DQoJCQkJCQkJCQ)J$WFnZUxp$(UoJHRoaXMtP()tZywgJHhf$(93LCAkeV9u$3cgKyAkd2)kdGgsICRsYXN0eFskaV0sICRsYXN0eVskaV0gKyAkd2)kdGgsICRiYXJj$2wpOw0KCQkJCQkJCQ)9DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQkJJGxhc3R4WyRpXSA9ICR4X25vdzsNCgkJCQkJfSB)$HN)IHsgDQoJCQkJCQkkeV9u$3cgPSAk$GFzdH)$JG)dOw0KCQkJCQkJLy9E$24ndCBp$(NyZW1)$nQg$GFzdHh$JG)dDQoJCQkJCX0NCgkJCQkJLy8kY(9yZGVyY29sID0gJHRoaXMtP(5keF9kYXRhX2Jvc(R)c)9j$2xvc)skY29sY(FyY291$nRdOw0KDQoJCQkJCSRsYXN0eVskaV0gPSAkeV9u$3c7DQoJCQkJCSRj$2xvc)9p$(R)eCsrOw0KCQkJCQkkaSsrOw0KCQkJCX0NCgkJCQkvL05vdyB3ZSBhc(UgYXNzdXJ)ZCBh$iB4X3Zh$HV)DQoJCQkJaWYgKCAoJHRoaXMtP(RyYXdfeF9kYXRhX2xhY(VscyA9PSAxKSA(JiAoJGsgPT0gMSkgKSAgeyAvL1N)ZSAi$GFiZWxzX25vdGUxIGFi$3Z)Lg0KCQkJCQkkdGhpcy0+RHJhd1hEYXRhTGFiZWwoJHhsYWIsJHhf$(93KTsNCgkJCQ)9DQoJCQ)9IC8vd2hp$GUgc(93cyBvZiBkYXRhDQoJCQkkc3RhcnRf$G)uZXMgPSAxOw0KCQ)9DQoJfQ0KDQoJCS8vRGF0YSBj$21)cyBp$iBhcyAkZGF0YVtdPSgidG)0$GUiLHgseSx)Kyx)LSx5Mix)MissZTItLC4uLik7DQoNCg)(dW5jdG)v$iBEc(F3TG)uZVN)c())cygpIHsNCgkJLy9UaG)zIGZ1$(N0aW9uIG)zIHJ)cGxhY2VkIGJ5IERyYXdMaW5)cw0KCQkvL1R)c3RzIGhhd(Ugc2hvd24g$(90IG11Y2ggaW1wc(92ZW1)$nQgaW4gc3B)ZWQgYnkgaGF2aW5nIHN)cGFyYXR)IHJvdXRp$(VzIGZvciBEc(F3TG)uZVN)c())cyBh$(QgRHJhd0xp$(VzDQoJCS8vR(9yIGVhc2Ug$2YgcHJvZ3Jh$W1p$(cgSSBoYXZ)IGNv$WJp$(VkIHRoZW0NCgkJc(V0dXJuIGZh$HN)Ow0KCX0gLy9(dW5jdG)v$iBEc(F3TG)uZVN)c())cw0KDQoJZnVuY3Rp$24gRHJhd0Rhc2h)ZExp$(UoJHgxcG)4LCR5MXBpeCwkeDJwaXgsJHkycG)4LCRkYXNoX2x)$(d0aCwkZGFzaF9zcGFjZSwkY29s$3IpIHsNCgkJLy9D$2R)IGJhc2VkIG9uIHdvc(sgYnkgQXJpZWwgR2Fye(EgYW5kIEph$WVzIFBp$(UNCgkJLy9JJ3Z)IGR)Y2)kZWQgdG8gaGF2ZSB0aG)zIGJ)IG)uIHBpeGVscyBv$(x5IGFzIGEgc(Vw$GFjZW1)$nQgZ(9yIE)tYWd)TG)uZQ0KCQkvLyR4MXBpeCA9ICR0aG)zLT54dHIoJHgxKTsNCgkJLy8keTFwaXggPSAkdGhpcy0+eXRyKCR5MSk7DQoJCS8vJHgycG)4ID0gJHRoaXMtPnh0cigkeDIpOw0KCQkvLyR5MnBpeCA9ICR0aG)zLT55dHIoJHkyKTsNCg0KCQkvLyBHZXQgdGh)IGx)$(d0aCBvZiB0aGUg$G)uZSBp$iBwaXh)$HMNCgkJJGxp$(Vf$GVuZ3RoID0gY2Vp$CAoc3FydChw$3coKCR4MnBpeCAtICR4MXBpeCksMikgKyBw$3coKCR5MnBpeCAtICR5MXBpeCksMikpICk7DQoNCgkJJGR4ID0gKCR4MnBpeCAtICR4MXBpeCkgLyAk$G)uZV9sZW5ndGg7DQoJCSRkeSA9ICgkeTJwaXggLSAkeTFwaXgpIC8gJGxp$(Vf$GVuZ3RoOw0KCQkk$GFzdHgJPSAkeDFwaXg7DQoJCSRsYXN0eQk9ICR5MXBpeDsNCg0KCQkvLyBEc(F3IHRoZSBkYXNoZWQg$G)uZQ0KCQ)($3IgKCRpID0gMDsgJGkgPCAk$G)uZV9sZW5ndGg7ICRpICs9ICgkZGFzaF9sZW5ndGggKyAkZGFzaF9zcGFjZSkpIHsNCgkJCSR4cG)4ID0gKCRkYXNoX2x)$(d0aCAqICRkeCkgKyAk$GFzdHg7DQoJCQkkeXBpeCA9ICgkZGFzaF9sZW5ndGggKiAkZHkpICsgJGxhc3R5Ow0KDQoJCQ)J$WFnZUxp$(UoJHRoaXMtP()tZywk$GFzdHgsJGxhc3R5LCR4cG)4LCR5cG)4LCRj$2xvcik7DQoJCQkk$GFzdHggPSAkeHBpeCArICgkZGFzaF9zcGFjZSAqICRkeCk7DQoJCQkk$GFzdHkgPSAkeXBpeCArICgkZGFzaF9zcGFjZSAqICRkeSk7DQoJCX0NCg)9IC8vIGZ1$(N0aW9uIERyYXdEYXNoZWRMaW5)DQoNCg)(dW5jdG)v$iBEc(F3Q(FycygpIHsNCg0KCQ)pZiAoJHRoaXMtP(RhdGFfdH)wZSAhPSAidGV4dC1kYXRhIikgeyANCgkJCSR0aG)zLT5Ec(F3RXJy$3IoJ0JhciBw$G90cyBtdXN0IGJ)IHR)eHQtZGF0YTogdXN)IGZ1$(N0aW9uIFN)dERhdGFUeXB)KCJ0ZXh0LWRhdGEiKScpOw0KCQ)9DQoNCgkJJHhhZGp1c3QgPSAoJHRoaXMtPnJ)Y29yZHNfcGVyX2dy$3VwICogJHRoaXMtPnJ)Y29yZF9iYXJfd2)kdGggKS80Ow0KDQoJCXJ)c2V0KCR0aG)zLT5kYXRhX3Zh$HV)cyk7DQoJCXdoaWx)IChsaXN0KCRqLCAkc(93KSA9IGVhY2goJHRoaXMtP(RhdGFfd(FsdWVzKSkgew0KDQoJCQkkY29s$3JfaW5kZXggPSAwOw0KCQkJJGNv$GJhc(NvdW50ID0gMDsNCgkJCSR4X25vdyA9ICR0aG)zLT54dHIoJGorLjUpOw0KDQoJCQ)3aG)sZSAo$G)zdCgkaywgJHYpID0gZWFjaCgkc(93KSkgew0KCQkJCW)(ICgkayA9PSAwKSB7DQoJCQkJCS8vRHJhdyBEYXRhIExhY(Vscw0KCQkJCQkkeGxhYiA9IFN1Y)N0cigkdiwwLCR0aG)zLT54X2RhdGFsYWJ)$F9tYXhsZW5ndGgpOw0KCQkJCQkkdGhpcy0+RHJhd1hEYXRhTGFiZWwoJHhsYWIsJHhf$(93KTsNCgkJCQ)9IGVsc2Ugew0KCQkJCQkvLyBEc(F3IEJhcnMgKCR2KQ0KCQkJCQkkeDEgPSAkeF9u$3cgLSAkdGhpcy0+ZGF0YV9nc(91cF9zcGFjZSArICgkay0xKSokdGhpcy0+c(Vj$3JkX2Jhc)93aWR0aDsNCgkJCQkJJHgyID0gJHgxICsgJHRoaXMtPnJ)Y29yZF9iYXJfd2)kdGgqJHRoaXMtP(Jhc)93aWR0aF9hZGp1c3Q7IA0KDQoJCQkJCW)(ICgkdiA8ICR0aG)zLT54X2F4aXNfcG9zaXRp$24pIHsNCgkJCQkJCSR5MSA9ICR0aG)zLT55dHIoJHRoaXMtPnhfYXhpc19w$3NpdG)v$ik7DQoJCQkJCQkkeTIgPSAkdGhpcy0+eXRyKCR2KTsNCgkJCQkJfSB)$HN)IHsNCgkJCQkJCSR5MSA9ICR0aG)zLT55dHIoJHYpOw0KCQkJCQkJJHkyID0gJHRoaXMtPn)0cigkdGhpcy0+eF9heG)zX3Bvc2)0aW9uKTsNCgkJCQkJfQ0KDQoJCQkJCW)(ICgkY29s$3JfaW5kZXggPj0gY291$nQoJHRoaXMtP(5keF9kYXRhX2Nv$G9yKSkgJGNv$G9yX2)uZGV4PTA7DQoJCQkJCW)(ICgkY29sY(FyY291$nQgPj0gY291$nQoJHRoaXMtP(5keF9kYXRhX2Jvc(R)c)9j$2xvcikpICRj$2xiYXJj$3VudD0wOw0KCQkJCQkkY(FyY29sID0gJHRoaXMtP(5keF9kYXRhX2Nv$G9yWyRj$2xvc)9p$(R)eF07DQoJCQkJCSRi$3JkZXJj$2wgPSAkdGhpcy0+$(R4X2RhdGFfY(9yZGVyX2Nv$G9yWyRj$2xiYXJj$3VudF07DQoNCgkJCQkJaWYgKChzdHJ2YWwoJHYpICE9ICIiKSApIHsgICAvL0Fs$G93IGZvciBtaXNzaW5nIFkgZGF0YSANCgkJCQkJCW)(ICgkdGhpcy0+c2hhZG)uZyA+IDApIHsNCgkJCQkJCQ)($3IoJGk9MDskaTwoJHRoaXMtPnNoYWRp$(cpOyRpKyspIHsgDQoJCQkJCQkJLy9TaGFkaW5nIHN)dCBp$iBTZXREZWZhdWx0Q29s$3JzDQoJCQkJCQkJSW1hZ2VGaWxsZWRSZWN0YW5n$GUoJHRoaXMtP()tZywgJHgxKyRpLCAkeTEtJGksICR4MiskaSwgJHkyLSRpLCAkdGhpcy0+$(R4X2)f$G)naHQpOw0KCQkJCQkJCX0NCgkJCQkJCX0NCg0KCQkJCQkJSW1hZ2VGaWxsZWRSZWN0YW5n$GUoJHRoaXMtP()tZywgJHgxLCAkeTEsICR4MiwgJHkyLCAkY(FyY29sKTsNCgkJCQkJCU)tYWd)U(VjdGFuZ2x)KCR0aG)zLT5p$WcsICR4MSwgJHkxLCAkeDIsICR5MiwgJGJvc(R)c(Nv$Ck7DQoJCQkJCQ)pZiAoJHRoaXMtP(RyYXdfZGF0YV9sYWJ)$HMgPT0gJzEnKSB7ICAvL2Fq$w0KCQkJCQkJCSR5MSA9ICR0aG)zLT55dHIoJHRoaXMtP(xhY(VsX3NjYWx)X3Bvc2)0aW9uICogJHYpOw0KCQkJCQkJCS8vJHRoaXMtPkRyYXdEYXRhTGFiZWwoJHYsJGogKyAuNSwkdiokdGhpcy0+$GFiZWxfc2Nh$GVfcG9zaXRp$24pOw0KCQkJCQkJCSR0aG)zLT5Ec(F3VGV4dCgkdGhpcy0+eF9sYWJ)$F90dGZ($250LCAkdGhpcy0+eF9sYWJ)$F9h$(dsZSwNCgkJCQkJCQkJJHgxKyR0aG)zLT5yZWNvc(RfY(FyX3dpZHRoLzIsICR5MSwgJHRoaXMtP(5keF9sYWJ)$F9j$2xvciwgJHRoaXMtPnhf$GFiZWxfdHR(Z(9udF9zaXp)LCAkdiwnY2VudGVyJywndG9wJyk7DQoJCQkJCQ)9DQoJCQkJCX0gDQoNCgkJCQkJJGNv$G9yX2)uZGV4Kys7DQoJCQkJCSRj$2xiYXJj$3VudCsrOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0gLy9(dW5jdG)v$iBEc(F3Q(Fycw0KDQoJZnVuY3Rp$24gRHJhd0x)Z2VuZCgkd2hpY2hfeDEsJHdoaWNoX3kxLCR3aG)jaF9i$3h0eXB)KSB7DQoJCS8vQ(FzZSBj$2R)IHN1Y(1pdHR)ZCBieSBNYXJsaW4gV()zcw0KCQkk$WF4X2x)Z2VuZF9sZW5ndGg9MDsNCgkJc(VzZXQoJHRoaXMtP(x)Z2VuZCk7DQoJCXdoaWx)IChsaXN0KCwk$GVnKSA9IGVhY2goJHRoaXMtP(x)Z2VuZCkpIHsNCgkJCSRsZW4gPSBzdHJsZW4oJGx)Zyk7DQoJCQ)pZiAoJG1heF9sZWd)$(Rf$GVuZ3RoIDwgJGx)$ikgew0KCQkJCSRtYXhf$GVnZW5kX2x)$(d0aCA9ICRsZW47DQoJCQ)9DQoJCX0NCg0KCQkk$G)uZV9zcGFjaW5nID0gMS4yNTsNCgkJJHZ)cnRf$WFyZ2)uID0gJHRoaXMtPnNtYWxsX2Zv$nRfaGVpZ2h0LzIgOw0KCQkkZG90X2h)aWdodCA9ICR0aG)zLT5z$WFs$F9($250X2h)aWdodCok$G)uZV9zcGFjaW5nIC0gMTsNCg0KCS8vVXBwZXIgTGV(dA0KCQ)pZiAoKCEkd2hpY2hfeDEpIHx8ICghJHdoaWNoX3kxKSApIHsNCgkJCSRi$3hfc3RhcnRfeCA9ICR0aG)zLT5w$G90X2FyZWF$M)0gLSAkdGhpcy0+c21h$GxfZ(9udF93aWR0aCooJG1heF9sZWd)$(Rf$GVuZ3RoKzQpOw0KCQkJJGJveF9zdGFydF95ID0gJHRoaXMtPnBs$3RfYXJ)YVsxXSArIDQ7DQoJCX0gZWxzZSB7IA0KCQkJJGJveF9zdGFydF94ID0gJHdoaWNoX3gxOw0KCQkJJGJveF9zdGFydF95ID0gJHdoaWNoX3kxOw0KCQ)9DQoNCgkvL0xvd2VyIFJpZ2h0DQoJCSRi$3hfZW5kX3kgPSAkY(94X3N0YXJ0X3kgKyAkdGhpcy0+c21h$GxfZ(9udF9oZW)naHQqKGNvdW50KCR0aG)zLT5sZWd)$(QpKzEpICsgMiokd(VydF9tYXJnaW47IA0KCQkvLyRi$3hfZW5kX3ggPSAkdGhpcy0+cGxvdF9hc(VhWzJdIC0gNTsNCgkJJGJveF9)$(RfeCA9ICRi$3hfc3RhcnRfeCArICR0aG)zLT5z$WFs$F9($250X3dpZHRoKigk$WF4X2x)Z2VuZF9sZW5ndGgrNCkgLSA1Ow0KDQoNCgkvLyBEc(F3IGJveCB($3Ig$GVnZW5kDQoJCU)tYWd)R()s$GVkU(VjdGFuZ2x)KCR0aG)zLT5p$WcsDQoJCQkkY(94X3N0YXJ0X3gsICRi$3hfc3RhcnRfeSwkY(94X2VuZF94LA0KCQkJJGJveF9)$(RfeSwgJHRoaXMtP(5keF9iZ19j$2xvcik7DQoJCU)tYWd)U(VjdGFuZ2x)KCR0aG)zLT5p$WcsDQoJCQkkY(94X3N0YXJ0X3gsICRi$3hfc3RhcnRfeSwkY(94X2VuZF94LA0KCQkJJGJveF9)$(RfeSwgJHRoaXMtP(5keF9nc()kX2Nv$G9yKTsNCg0KCQkkY29s$3JfaW5kZXg9MDsNCgkJJGkgPSAwOw0KDQoNCgkJc(VzZXQoJHRoaXMtP(x)Z2VuZCk7DQoNCg0KCQ)3aG)sZSAo$G)zdCgsJGx)ZykgPSB)YWNoKCR0aG)zLT5sZWd)$(QpKSB7DQoJCQkkeV9w$3MgPSAkY(94X3N0YXJ0X3kgKyAkdGhpcy0+c21h$GxfZ(9udF9oZW)naHQqKCRpKSooJGxp$(Vfc3BhY2)uZykgKyAkd(VydF9tYXJnaW47DQoNCgkJCU)tYWd)U3RyaW5nKCR0aG)zLT5p$WcsICR0aG)zLT5z$WFs$F9($250LA0KCQkJJGJveF9zdGFydF94ICsgJHRoaXMtPnNtYWxsX2Zv$nRfd2)kdGgqKCAk$WF4X2x)Z2VuZF9sZW5ndGggLSBzdHJsZW4oJGx)ZykgKyAxICkgLA0KCQkJJH)fcG9zLA0KCQkJJGx)ZywgJHRoaXMtP(5keF90ZXh0X2Nv$G9yKTsNCg0KCQkJaWYgKCRj$2xvc)9p$(R)eCA+PSBj$3VudCgkdGhpcy0+$(R4X2RhdGFfY29s$3IpKSAkY29s$3JfaW5kZXg9MDsNCgkvLyBEc(F3IGEgY(94IG)uIHRoZSBkYXRhIGNv$G9yDQoJCQ)J$WFnZUZp$Gx)ZFJ)Y3Rh$(dsZSgkdGhpcy0+aW1nLA0KCQkJCSRi$3hfZW5kX3ggLSAkdGhpcy0+c21h$GxfZ(9udF93aWR0aCoyLA0KCQkJCSR5X3BvcyArIDEsICRi$3hfZW5kX3ggLSAkdGhpcy0+c21h$GxfZ(9udF93aWR0aCwNCgkJCQkkeV9w$3MgKyAkZG90X2h)aWdodCwNCgkJCQkkdGhpcy0+$(R4X2RhdGFfY29s$3J$JGNv$G9yX2)uZGV4XSk7DQoNCgkJCU)tYWd)U(VjdGFuZ2x)KCR0aG)zLT5p$WcsDQoJCQkJJGJveF9)$(RfeCAtICR0aG)zLT5z$WFs$F9($250X3dpZHRoKjIsDQoJCQkJJH)fcG9zICsgMSwgJGJveF9)$(RfeCAtICR0aG)zLT5z$WFs$F9($250X3dpZHRoLA0KCQkJCSR5X3BvcyArICRk$3RfaGVpZ2h0LA0KCQkJCSR0aG)zLT5uZHhfdGV4dF9j$2xvcik7DQoJCQkkaSsrOw0KCQkJJGNv$G9yX2)uZGV4Kys7DQoJCX0NCg)9IC8vZnVuY3Rp$24gRHJhd0x)Z2VuZA0KDQoNCg)(dW5jdG)v$iBEc(F3R3JhcGgoKSB7DQoNCgkJaWYgKCgkdGhpcy0+aW1nKSA9PSAiIikgew0KCQkJJHRoaXMtPkRyYXdFcnJvcignT(8gSW1hZ2UgRGV(aW5)ZDogRHJhd0dyYXBoJyk7DQogICAgICAgICAgICAvLyR0aG)zLT5QSFBs$3QoKTsNCiAgICAgICAgfQ0KDQoJCW)(ICghIG)zX2Fyc(F5KCR0aG)zLT5kYXRhX3Zh$HV)cykpIHsNCgkJCSR0aG)zLT5Ec(F3Q(Fja2dy$3VuZCgpOw0KCQkJJHRoaXMtPkRyYXdFcnJvcigiT(8gYXJyYXkg$2YgZGF0YSBp$iBcJGRhdGFfd(FsdWVzIik7DQoJCX0gZWxzZSB7DQoJCQ)pZiAoISR0aG)zLT5kYXRhX2Nv$G9yKSB7DQoJCQkJJHRoaXMtP)N)dERhdGFD$2xvcnMoYXJyYXkoJ2JsdWUnLCdnc(V)$icsJ3))$GxvdycsJ3J)ZCcsJ29yYW5nZScsJ2JsdWUnKSxhcnJheSgnY(xhY2snKSk7DQoJCQ)9DQoNCgkJCSR0aG)zLT5GaW5kRGF0YUxp$W)0cygpOyAgLy9HZXQg$WF4aW1hIGFuZCBtaW5p$WEgZ(9yIHNjYWxp$(cNCg0KCQkJJHRoaXMtP)N)dFhMYWJ)$Eh)aWdodCgpOwkJLy9HZXQgZGF0YSB($3IgY(90dG9tIG1hc(dp$g0KDQoJCQkkdGhpcy0+U2V0WUxhY(VsV2)kdGgoKTsJCS8vR2V0IGRhdGEgZ(9yIGx)ZnQg$WFyZ2)uDQoNCgkJCW)(ICghJHRoaXMtPnBs$3RfYXJ)YV93aWR0aCkgew0KCQkJCSR0aG)zLT5TZXRQ$G90QXJ)YVBpeGVscygnJywnJywnJywnJyk7CQkvL1N)dCBNYXJnaW5zDQoJCQ)9DQoNCgkJCW)(ICghJHRoaXMtPnBs$3Rf$WF4X3kpIHsgIC8vSWYg$(90IHN)dCBieSB1c2VyIGNh$GwgU2V0UGxvdEFyZWFX$3JsZCwNCgkJCQkkdGhpcy0+U2V0UGxvdEFyZWFX$3JsZCgnJywnJywnJywnJyk7DQoJCQ)9DQoNCgkJCW)(ICgkdGhpcy0+ZGF0YV90eXB)ID09ICJ0ZXh0LWRhdGEiKSB7DQoJCQkJJHRoaXMtP)N)dEVxdWFsWENv$3JkKCk7DQoJCQ)9DQoNCgkJCSR0aG)zLT5TZXRQ$2)udFNpe(UoJHRoaXMtPnBvaW50X3Npe(UpOw0KDQoJCQkkdGhpcy0+RHJhd0JhY2tnc(91$(QoKTsNCgkJCSR0aG)zLT5Ec(F3SW1hZ2VC$3JkZXIoKTsNCg0KCQkJJHRoaXMtP)N)dFRyYW5z$GF0aW9uKCk7DQoNCgkJCW)(ICgkdGhpcy0+ZHJhd19w$G90X2FyZWFfY(Fja2dy$3VuZCA9PSAxKSB7DQoJCQkJJHRoaXMtPkRyYXdQ$G90QXJ)YUJhY2tnc(91$(QoKTsNCgkJCX0NCi8vJGZv$yA9ICIkdGhpcy0+$WF4X3ksICR0aG)zLT5taW5feSwgJG5)d19taW55LCAk$(V3X21heHksICR0aG)zLT54X2xhY(VsX2h)aWdodCI7DQovL0)tYWd)U3RyaW5nKCR0aG)zLT5p$WcsIDQsIDIwLCAyMCwgJGZv$ywgJHRoaXMtP(5keF90ZXh0X2Nv$G9yKTsNCg0KCQkJc3dpdGNoICgkdGhpcy0+cGxvdF90eXB)KSB7DQoJCQkJY2FzZSAiY(FycyI6DQoJCQkJCSR0aG)zLT5Ec(F3UGxvdEJvc(R)cigpOw0KCQkJCQkkdGhpcy0+RHJhd0xhY(VscygpOw0KCQkJCQkkdGhpcy0+RHJhd0JhcnMoKTsNCgkJCQkJJHRoaXMtPkRyYXdYQXhpcygpOw0KCQkJCQ)ic(VhazsNCgkJCQ)jYXN)ICJ0aG)uY(Fy$G)uZSI6DQoJCQkJCSR0aG)zLT5Ec(F3UGxvdEJvc(R)cigpOw0KCQkJCQkkdGhpcy0+RHJhd0xhY(VscygpOw0KCQkJCQkkdGhpcy0+RHJhd1RoaW5CYXJMaW5)cygpOw0KCQkJCQ)ic(VhazsNCgkJCQ)jYXN)ICJsaW5)cyI6DQoJCQkJCSR0aG)zLT5Ec(F3UGxvdEJvc(R)cigpOw0KCQkJCQkkdGhpcy0+RHJhd0xhY(VscygpOw0KCQkJCQ)pZiAoICR0aG)zLT5kYXRhX3R5cGUgPT0gInR)eHQtZGF0YSIpIHsNCgkJCQkJCSR0aG)zLT5Ec(F3TG)uZXMoKTsNCgkJCQkJfSB)$HN)aWYgKCAkdGhpcy0+ZGF0YV90eXB)ID09ICJkYXRhLWRhdGEtZXJy$3IiKSB7DQoJCQkJCQkkdGhpcy0+RHJhd0xp$(VzRXJy$3IoKTsNCgkJCQkJfSB)$HN)IHsNCgkJCQkJCSR0aG)zLT5Ec(F3TG)uZXMoKTsNCgkJCQkJfQ0KCQkJCQ)ic(VhazsNCgkJCQ)jYXN)ICJhc(VhIjoNCgkJCQkJJHRoaXMtPkRyYXdQ$G90Q(9yZGVyKCk7DQoJCQkJCSR0aG)zLT5Ec(F3TGFiZWxzKCk7DQoJCQkJCW)(ICggJHRoaXMtP(RhdGFfdH)wZSA9PSAidGV4dC1kYXRhIikgew0KCQkJCQkJJHRoaXMtPkRyYXdBc(VhU2VyaWVzKCk7DQoJCQkJCX0gZWxzZSB7DQoJCQkJCQkkdGhpcy0+RHJhd0FyZWEoKTsNCgkJCQkJfQ0KCQkJCQ)ic(VhazsNCgkJCQ)jYXN)ICJsaW5)cG9p$nRzIjoNCgkJCQkJJHRoaXMtPkRyYXdQ$G90Q(9yZGVyKCk7DQoJCQkJCSR0aG)zLT5Ec(F3TGFiZWxzKCk7DQoJCQkJCW)(ICggJHRoaXMtP(RhdGFfdH)wZSA9PSAidGV4dC1kYXRhIikgew0KCQkJCQkJJHRoaXMtPkRyYXdMaW5)cygpOw0KCQkJCQkJJHRoaXMtPkRyYXdE$3RzKCk7DQoJCQkJCX0gZWxzZW)(ICggJHRoaXMtP(RhdGFfdH)wZSA9PSAiZGF0YS1kYXRhLWVyc(9yIikgew0KCQkJCQkJJHRoaXMtPkRyYXdMaW5)c0Vyc(9yKCk7DQoJCQkJCQkkdGhpcy0+RHJhd0RvdHNFcnJvcigpOw0KCQkJCQ)9IGVsc2Ugew0KCQkJCQkJJHRoaXMtPkRyYXdMaW5)cygpOw0KCQkJCQkJJHRoaXMtPkRyYXdE$3RzKCk7DQoJCQkJCX0NCgkJCQkJYnJ)YWs7DQoJCQkJY2FzZSAicG9p$nRzIjsNCgkJCQkJJHRoaXMtPkRyYXdQ$G90Q(9yZGVyKCk7DQoJCQkJCSR0aG)zLT5Ec(F3TGFiZWxzKCk7DQoJCQkJCW)(ICggJHRoaXMtP(RhdGFfdH)wZSA9PSAidGV4dC1kYXRhIikgew0KCQkJCQkJJHRoaXMtPkRyYXdE$3RzKCk7DQoJCQkJCX0gZWxzZW)(ICggJHRoaXMtP(RhdGFfdH)wZSA9PSAiZGF0YS1kYXRhLWVyc(9yIikgew0KCQkJCQkJJHRoaXMtPkRyYXdE$3RzRXJy$3IoKTsNCgkJCQkJfSB)$HN)IHsNCgkJCQkJCSR0aG)zLT5Ec(F3RG90cygpOw0KCQkJCQ)9DQoJCQkJCWJyZWFrOw0KCQkJCWNhc2UgInBpZSI6DQoJCQkJCSR0aG)zLT5Ec(F3UG))Q2hhcnQoKTsNCgkJCQkJJHRoaXMtPkRyYXdMYWJ)$HMoKTsNCgkJCQkJYnJ)YWs7DQoJCQkJZGV(YXVsdDoNCgkJCQkJJHRoaXMtPkRyYXdQ$G90Q(9yZGVyKCk7DQoJCQkJCSR0aG)zLT5Ec(F3TGFiZWxzKCk7DQoJCQkJCSR0aG)zLT5Ec(F3Q(FycygpOw0KCQkJCQ)ic(VhazsNCgkJCX0NCg0KCQkJaWYgKCR0aG)zLT5sZWd)$(QpIHsNCgkJCQkkdGhpcy0+RHJhd0x)Z2VuZCgkdGhpcy0+$GVnZW5kX3hfcG9zLCR0aG)zLT5sZWd)$(RfeV9w$3MsJycpOw0KCQkJfQ0KDQoJCX0NCgkJaWYgKCR0aG)zLT5wc()udF9p$WFnZSA9PSAxKSB7IA0KCQkJJHRoaXMtP)ByaW50SW1hZ2UoKTsNCgkJfQ0KCX0gLy9(dW5jdG)v$iBEc(F3R3JhcGgNCg0KIH0NCg0KLy8gJGdyYXBoID0g$(V3IFBIUGxvdDsNCg0KLy8gJGdyYXBoLT5Ec(F3R3JhcGgoKTsNCg0KPz4NCg==